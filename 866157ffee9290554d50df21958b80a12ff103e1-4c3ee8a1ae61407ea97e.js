(window.webpackJsonp=window.webpackJsonp||[]).push([[2],{"+H0l":function(t,e,r){"use strict";r.d(e,"a",(function(){return i})),r.d(e,"b",(function(){return o})),r.d(e,"c",(function(){return s}));var n=r("a3TU");function a(t,e){if(t.length!==e)return!1;for(var r=0;r<t.length;++r)if(!Number.isFinite(t[r]))return!1;return!0}function i(t){if(!Number.isFinite(t))throw new Error("Invalid number ".concat(t));return t}function o(t,e){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"";if(n.b.debug&&!a(t,e))throw new Error("math.gl: ".concat(r," some fields set to invalid numbers'"));return t}var u={};function s(t,e){u[t]||(u[t]=!0,console.warn("".concat(t," has been removed in version ").concat(e,", see upgrade guide for more information")))}},"/WnK":function(t,e,r){"use strict";function n(t){if(!t||!t.POSITION)return null;var e=1/0,r=1/0,n=1/0,a=-1/0,i=-1/0,o=-1/0,u=t.POSITION.value,s=u&&u.length;if(!s)return null;for(var c=0;c<s;c+=3){var l=u[c],f=u[c+1],h=u[c+2];e=l<e?l:e,r=f<r?f:r,n=h<n?h:n,a=l>a?l:a,i=f>i?f:i,o=h>o?h:o}return[[e,r,n],[a,i,o]]}r.d(e,"a",(function(){return n}))},"0SKY":function(t,e,r){"use strict";var n=r("TqRt"),a=r("284h");Object.defineProperty(e,"__esModule",{value:!0}),Object.defineProperty(e,"self",{enumerable:!0,get:function(){return i.self}}),Object.defineProperty(e,"window",{enumerable:!0,get:function(){return i.window}}),Object.defineProperty(e,"global",{enumerable:!0,get:function(){return i.global}}),Object.defineProperty(e,"document",{enumerable:!0,get:function(){return i.document}}),Object.defineProperty(e,"process",{enumerable:!0,get:function(){return i.process}}),Object.defineProperty(e,"console",{enumerable:!0,get:function(){return i.console}}),Object.defineProperty(e,"isBrowser",{enumerable:!0,get:function(){return o.default}}),Object.defineProperty(e,"isBrowserMainThread",{enumerable:!0,get:function(){return o.isBrowserMainThread}}),Object.defineProperty(e,"getBrowser",{enumerable:!0,get:function(){return u.default}}),Object.defineProperty(e,"isMobile",{enumerable:!0,get:function(){return u.isMobile}}),Object.defineProperty(e,"isElectron",{enumerable:!0,get:function(){return s.default}});var i=r("jWbo"),o=a(r("uXCu")),u=a(r("IVX/")),s=n(r("15yl"))},"11Ib":function(t,e,r){"use strict";r.d(e,"a",(function(){return _}));var n=r("rePB"),a=r("ODXe"),i=r("1OyB"),o=r("md7G"),u=r("JX7q"),s=r("foSv"),c=r("ReuC"),l=r("vuIU"),f=r("Ji7U"),h=r("iein"),d=r("L8KH"),b=r("f5Sf"),v=r("n4Ve"),g=r("pRFE"),m=r("p7wt"),y=r("d3kR"),p=r("SUVH"),O=r("rnmN"),j=r("CxzY"),_=function(t){function e(t){var r,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return Object(i.a)(this,e),(r=Object(o.a)(this,Object(s.a)(e).call(this,t,n))).width=null,r.height=null,r.attachments={},r.readBuffer=36064,r.drawBuffers=[36064],r.ownResources=[],r.initialize(n),Object.seal(Object(u.a)(r)),r}return Object(f.a)(e,t),Object(l.a)(e,[{key:"MAX_COLOR_ATTACHMENTS",get:function(){return this.gl.getParameter(this.gl.MAX_COLOR_ATTACHMENTS)}},{key:"MAX_DRAW_BUFFERS",get:function(){return this.gl.getParameter(this.gl.MAX_DRAW_BUFFERS)}}],[{key:"isSupported",value:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},r=e.colorBufferFloat,n=e.colorBufferHalfFloat,a=!0;return r&&(a=Boolean(t.getExtension("EXT_color_buffer_float")||t.getExtension("WEBGL_color_buffer_float")||t.getExtension("OES_texture_float"))),n&&(a=a&&Boolean(t.getExtension("EXT_color_buffer_float")||t.getExtension("EXT_color_buffer_half_float"))),a}},{key:"getDefaultFramebuffer",value:function(t){return t.luma=t.luma||{},t.luma.defaultFramebuffer=t.luma.defaultFramebuffer||new e(t,{id:"default-framebuffer",handle:null,attachments:{}}),t.luma.defaultFramebuffer}}]),Object(l.a)(e,[{key:"initialize",value:function(t){var e=t.width,r=void 0===e?1:e,n=t.height,a=void 0===n?1:n,i=t.attachments,o=void 0===i?null:i,u=t.color,s=void 0===u||u,c=t.depth,l=void 0===c||c,f=t.stencil,h=void 0!==f&&f,d=t.check,b=void 0===d||d,v=t.readBuffer,g=t.drawBuffers;if(Object(j.a)(r>=0&&a>=0,"Width and height need to be integers"),this.width=r,this.height=a,o)for(var m in o){var y=o[m];(Array.isArray(y)?y[0]:y).resize({width:r,height:a})}else o=this._createDefaultAttachments(s,l,h,r,a);this.update({clearAttachments:!0,attachments:o,readBuffer:v,drawBuffers:g}),o&&b&&this.checkStatus()}},{key:"delete",value:function(){var t=!0,r=!1,n=void 0;try{for(var a,i=this.ownResources[Symbol.iterator]();!(t=(a=i.next()).done);t=!0){a.value.delete()}}catch(o){r=!0,n=o}finally{try{t||null==i.return||i.return()}finally{if(r)throw n}}Object(c.a)(Object(s.a)(e.prototype),"delete",this).call(this)}},{key:"update",value:function(t){var e=t.attachments,r=void 0===e?{}:e,n=t.readBuffer,a=t.drawBuffers,i=t.clearAttachments,o=void 0!==i&&i,u=t.resizeAttachments,s=void 0===u||u;this.attach(r,{clearAttachments:o,resizeAttachments:s});var c=this.gl,l=c.bindFramebuffer(36160,this.handle);return n&&this._setReadBuffer(n),a&&this._setDrawBuffers(a),c.bindFramebuffer(36160,l||null),this}},{key:"resize",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},e=t.width,r=t.height;if(null===this.handle)return Object(j.a)(void 0===e&&void 0===r),this.width=this.gl.drawingBufferWidth,this.height=this.gl.drawingBufferHeight,this;for(var n in void 0===e&&(e=this.gl.drawingBufferWidth),void 0===r&&(r=this.gl.drawingBufferHeight),e!==this.width&&r!==this.height&&h.g.log(2,"Resizing framebuffer ".concat(this.id," to ").concat(e,"x").concat(r))(),this.attachments)this.attachments[n].resize({width:e,height:r});return this.width=e,this.height=r,this}},{key:"attach",value:function(t){var e=this,r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=r.clearAttachments,i=void 0!==n&&n,o=r.resizeAttachments,u=void 0===o||o,s={};i&&Object.keys(this.attachments).forEach((function(t){s[t]=null})),Object.assign(s,t);var c=this.gl.bindFramebuffer(36160,this.handle);for(var l in s){Object(j.a)(void 0!==l,"Misspelled framebuffer binding point?");var f=Number(l),h=s[f],d=h;if(d)if(d instanceof v.a)this._attachRenderbuffer({attachment:f,renderbuffer:d});else if(Array.isArray(h)){var b=Object(a.a)(h,3),g=b[0],m=b[1],y=void 0===m?0:m,p=b[2],O=void 0===p?0:p;d=g,this._attachTexture({attachment:f,texture:g,layer:y,level:O})}else this._attachTexture({attachment:f,texture:d,layer:0,level:0});else this._unattach(f);u&&d&&d.resize({width:this.width,height:this.height})}this.gl.bindFramebuffer(36160,c||null),Object.assign(this.attachments,t),Object.keys(this.attachments).filter((function(t){return!e.attachments[t]})).forEach((function(t){delete e.attachments[t]}))}},{key:"checkStatus",value:function(){this.gl;var t=this.getStatus();if(36053!==t)throw new Error(A(t));return this}},{key:"getStatus",value:function(){var t=this.gl,e=t.bindFramebuffer(36160,this.handle),r=t.checkFramebufferStatus(36160);return t.bindFramebuffer(36160,e||null),r}},{key:"clear",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},e=t.color,r=t.depth,n=t.stencil,a=t.drawBuffers,i=void 0===a?[]:a,o=this.gl.bindFramebuffer(36160,this.handle);return(e||r||n)&&Object(g.a)(this.gl,{color:e,depth:r,stencil:n}),i.forEach((function(t,e){Object(g.b)({drawBuffer:e,value:t})})),this.gl.bindFramebuffer(36160,o||null),this}},{key:"readPixels",value:function(){return h.g.error("Framebuffer.readPixels() is no logner supported, use readPixelsToArray(framebuffer)")(),null}},{key:"readPixelsToBuffer",value:function(){return h.g.error("Framebuffer.readPixelsToBuffer()is no logner supported, use readPixelsToBuffer(framebuffer)")(),null}},{key:"copyToDataUrl",value:function(){return h.g.error("Framebuffer.copyToDataUrl() is no logner supported, use copyToDataUrl(framebuffer)")(),null}},{key:"copyToImage",value:function(){return h.g.error("Framebuffer.copyToImage() is no logner supported, use copyToImage(framebuffer)")(),null}},{key:"copyToTexture",value:function(){return h.g.error("Framebuffer.copyToTexture({...}) is no logner supported, use copyToTexture(source, target, opts})")(),null}},{key:"blit",value:function(){return h.g.error("Framebuffer.blit({...}) is no logner supported, use blit(source, target, opts)")(),null}},{key:"invalidate",value:function(t){var e=t.attachments,r=void 0===e?[]:e,n=t.x,a=void 0===n?0:n,i=t.y,o=void 0===i?0:i,u=t.width,s=t.height,c=this.gl;Object(p.a)(c);var l=c.bindFramebuffer(36008,this.handle);return 0===a&&0===o&&void 0===u&&void 0===s?c.invalidateFramebuffer(36008,r):c.invalidateFramebuffer(36008,r,a,o,u,s),c.bindFramebuffer(36008,l),this}},{key:"getAttachmentParameter",value:function(t,e,r){var n=this._getAttachmentParameterFallback(e);return null===n&&(this.gl.bindFramebuffer(36160,this.handle),n=this.gl.getFramebufferAttachmentParameter(36160,t,e),this.gl.bindFramebuffer(36160,null)),r&&n>1e3&&(n=Object(O.a)(this.gl,n)),n}},{key:"getAttachmentParameters",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:36064,e=arguments.length>1?arguments[1]:void 0,r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:this.constructor.ATTACHMENT_PARAMETERS||[],n={},a=!0,i=!1,o=void 0;try{for(var u,s=r[Symbol.iterator]();!(a=(u=s.next()).done);a=!0){var c=u.value,l=e?Object(O.a)(this.gl,c):c;n[l]=this.getAttachmentParameter(t,c,e)}}catch(f){i=!0,o=f}finally{try{a||null==s.return||s.return()}finally{if(i)throw o}}return n}},{key:"getParameters",value:function(){for(var t=!(arguments.length>0&&void 0!==arguments[0])||arguments[0],e=Object.keys(this.attachments),r={},n=0,a=e;n<a.length;n++){var i=a[n],o=Number(i),u=t?Object(O.a)(this.gl,o):o;r[u]=this.getAttachmentParameters(o,t)}return r}},{key:"show",value:function(){return"undefined"!=typeof window&&window.open(Object(m.a)(this),"luma-debug-texture"),this}},{key:"log",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"";if(t>h.g.level||"undefined"==typeof window)return this;e=e||"Framebuffer ".concat(this.id);var r=Object(m.a)(this,{maxHeight:100});return h.g.image({logLevel:t,message:e,image:r},e)(),this}},{key:"bind",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},e=t.target,r=void 0===e?36160:e;return this.gl.bindFramebuffer(r,this.handle),this}},{key:"unbind",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},e=t.target,r=void 0===e?36160:e;return this.gl.bindFramebuffer(r,null),this}},{key:"_createDefaultAttachments",value:function(t,e,r,a,i){var o,u=null;t&&((u=u||{})[36064]=new b.a(this.gl,{id:"".concat(this.id,"-color0"),pixels:null,format:6408,type:5121,width:a,height:i,mipmaps:!1,parameters:(o={},Object(n.a)(o,10241,9729),Object(n.a)(o,10240,9729),Object(n.a)(o,10242,33071),Object(n.a)(o,10243,33071),o)}),this.ownResources.push(u[36064]));return e&&r?((u=u||{})[33306]=new v.a(this.gl,{id:"".concat(this.id,"-depth-stencil"),format:35056,width:a,height:111}),this.ownResources.push(u[33306])):e?((u=u||{})[36096]=new v.a(this.gl,{id:"".concat(this.id,"-depth"),format:33189,width:a,height:i}),this.ownResources.push(u[36096])):r&&Object(j.a)(!1),u}},{key:"_unattach",value:function(t){var e=this.attachments[t];e&&(e instanceof v.a?this.gl.framebufferRenderbuffer(36160,t,36161,null):this.gl.framebufferTexture2D(36160,t,3553,null,0),delete this.attachments[t])}},{key:"_attachRenderbuffer",value:function(t){var e=t.attachment,r=void 0===e?36064:e,n=t.renderbuffer;this.gl.framebufferRenderbuffer(36160,r,36161,n.handle),this.attachments[r]=n}},{key:"_attachTexture",value:function(t){var e=t.attachment,r=void 0===e?36064:e,n=t.texture,a=t.layer,i=t.level,o=this.gl;switch(o.bindTexture(n.target,n.handle),n.target){case 35866:case 32879:o.framebufferTextureLayer(36160,r,n.target,i,a);break;case 34067:var u=function(t){return t<34069?t+34069:t}(a);o.framebufferTexture2D(36160,r,u,n.handle,i);break;case 3553:o.framebufferTexture2D(36160,r,3553,n.handle,i);break;default:Object(j.a)(!1,"Illegal texture type")}o.bindTexture(n.target,null),this.attachments[r]=n}},{key:"_setReadBuffer",value:function(t){var e=this.gl;Object(h.f)(e)?e.readBuffer(t):Object(j.a)(36064===t||1029===t,"Multiple render targets not supported"),this.readBuffer=t}},{key:"_setDrawBuffers",value:function(t){var e=this.gl;if(Object(h.f)(e))e.drawBuffers(t);else{var r=e.getExtension("WEBGL.draw_buffers");r?r.drawBuffersWEBGL(t):Object(j.a)(1===t.length&&(36064===t[0]||1029===t[0]),"Multiple render targets not supported")}this.drawBuffers=t}},{key:"_getAttachmentParameterFallback",value:function(t){var e=Object(y.a)(this.gl);switch(t){case 36052:return e.WEBGL2?null:0;case 33298:case 33299:case 33300:case 33301:case 33302:case 33303:return e.WEBGL2?null:8;case 33297:return e.WEBGL2?null:5125;case 33296:return e.WEBGL2||e.EXT_sRGB?null:9729;default:return null}}},{key:"_createHandle",value:function(){return this.gl.createFramebuffer()}},{key:"_deleteHandle",value:function(){this.gl.deleteFramebuffer(this.handle)}},{key:"_bindHandle",value:function(t){return this.gl.bindFramebuffer(36160,t)}},{key:"color",get:function(){return this.attachments[36064]||null}},{key:"texture",get:function(){return this.attachments[36064]||null}},{key:"depth",get:function(){return this.attachments[36096]||this.attachments[33306]||null}},{key:"stencil",get:function(){return this.attachments[36128]||this.attachments[33306]||null}}]),e}(d.a);function A(t){return(_.STATUS||{})[t]||"Framebuffer error ".concat(t)}_.ATTACHMENT_PARAMETERS=[36049,36048,33296,33298,33299,33300,33301,33302,33303]},15:function(t,e){},"15yl":function(t,e,r){"use strict";(function(t){var n=r("TqRt");Object.defineProperty(e,"__esModule",{value:!0}),e.default=function(e){if("undefined"!=typeof window&&"object"===(0,a.default)(window.process)&&"renderer"===window.process.type)return!0;if(void 0!==t&&"object"===(0,a.default)(t.versions)&&Boolean(t.versions.electron))return!0;var r="object"===("undefined"==typeof navigator?"undefined":(0,a.default)(navigator))&&"string"==typeof navigator.userAgent&&navigator.userAgent,n=e||r;if(n&&n.indexOf("Electron")>=0)return!0;return!1};var a=n(r("cDf5"))}).call(this,r("8oxB"))},"1Nab":function(t,e,r){"use strict";r.d(e,"a",(function(){return x}));var n,a=r("o0o1"),i=r.n(a),o=(r("wcNg"),r("HaE+")),u=r("rePB"),s=r("kD43"),c=r("VLYs");function l(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),r.push.apply(r,n)}return r}function f(t){for(var e=1;e<arguments.length;e++){var r=null!=arguments[e]?arguments[e]:{};e%2?l(Object(r),!0).forEach((function(e){Object(u.a)(t,e,r[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):l(Object(r)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(r,e))}))}return t}function h(t){return d.apply(this,arguments)}function d(){return(d=Object(o.a)(i.a.mark((function t(e){var r;return i.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return r=e.modules||{},n=r.draco3d?n||new Promise((function(t){var e=r.draco3d.createDecoderModule({onModuleLoaded:function(){t({draco:e})}})})):n||b(e),t.next=4,n;case 4:return t.abrupt("return",t.sent);case 5:case"end":return t.stop()}}),t)})))).apply(this,arguments)}function b(t){return v.apply(this,arguments)}function v(){return(v=Object(o.a)(i.a.mark((function t(e){var r,n,a;return i.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:t.t0=e.draco&&e.draco.decoderType,t.next="js"===t.t0?3:(t.t0,7);break;case 3:return t.next=5,Object(s.a)("draco_decoder.js","draco",e);case 5:return r=t.sent,t.abrupt("break",20);case 7:return t.t1=Promise,t.next=10,Object(s.a)("draco_wasm_wrapper.js","draco",e);case 10:return t.t2=t.sent,t.next=13,Object(s.a)("draco_decoder.wasm","draco",e);case 13:return t.t3=t.sent,t.t4=[t.t2,t.t3],t.next=17,t.t1.all.call(t.t1,t.t4);case 17:a=t.sent,r=a[0],n=a[1];case 20:return r=r||c.a.DracoDecoderModule,t.next=23,g(r,n);case 23:return t.abrupt("return",t.sent);case 24:case"end":return t.stop()}}),t)})))).apply(this,arguments)}function g(t,e){var r={};return e&&(r.wasmBinary=e),new Promise((function(e){t(f(f({},r),{},{onModuleLoaded:function(t){return e({draco:t})}}))}))}var m=r("/WnK"),y=0,p=1,O={POSITION:"POSITION",NORMAL:"NORMAL",COLOR:"COLOR_0",TEX_COORD:"TEXCOORD_0"},j={1:Int8Array,2:Uint8Array,3:Int16Array,4:Uint16Array,5:Int32Array,6:Uint32Array,9:Float32Array},_=function(){function t(t){this.draco=t,this.drawMode="TRIANGLE",this.metadataQuerier={}}var e=t.prototype;return e.destroy=function(){},e.parseSync=function(t,e){void 0===e&&(e={}),this.metadataQuerier=new this.draco.MetadataQuerier;var r=new this.draco.DecoderBuffer;r.Init(new Int8Array(t),t.byteLength);var n,a,i,o=new this.draco.Decoder,u={};try{var s=o.GetEncodedGeometryType(r);switch(s){case this.draco.TRIANGULAR_MESH:a=new this.draco.Mesh,n=o.DecodeBufferToMesh(r,a),i={type:y,faceCount:a.num_faces(),attributeCount:a.num_attributes(),vertexCount:a.num_points()};break;case this.draco.POINT_CLOUD:a=new this.draco.PointCloud,n=o.DecodeBufferToPointCloud(r,a),i={type:p,attributeCount:a.num_attributes(),vertexCount:a.num_points()};break;default:throw new Error("Unknown DRACO geometry type.")}if(!n.ok()||!a.ptr){var c="DRACO decompression failed: "+n.error_msg();throw a&&this.draco.destroy(a),new Error(c)}u.loaderData={header:i},this._extractDRACOGeometry(o,a,s,u,e);var l=this._getGeometryMetadata(o,a);u.header={vertexCount:i.vertexCount,boundingBox:Object(m.a)(u.attributes),metadata:l}}finally{this.draco.destroy(o),this.draco.destroy(r),this.draco.destroy(a),this.draco.destroy(this.metadataQuerier)}return u},e._extractDRACOGeometry=function(t,e,r,n,a){var i=this._getAttributes(t,e,a);if(!i.POSITION)throw new Error("DRACO decompressor: No position attribute found.");return r===this.draco.TRIANGULAR_MESH?(i.indices="TRIANGLE_STRIP"===this.drawMode?this._getMeshStripIndices(t,e):this._getMeshFaceIndices(t,e),n.mode="TRIANGLE_STRIP"===this.drawMode?5:4):n.mode=0,i.indices&&(n.indices={value:i.indices,size:1},delete i.indices),n.attributes=i,n},e.getPositionAttributeMetadata=function(t){this.metadata=this.metadata||{},this.metadata.attributes=this.metadata.attributes||{};var e=new this.draco.AttributeQuantizationTransform;if(e.InitFromAttribute(t)){this.metadata.attributes.position.isQuantized=!0,this.metadata.attributes.position.maxRange=e.range(),this.metadata.attributes.position.numQuantizationBits=e.quantization_bits(),this.metadata.attributes.position.minValues=new Float32Array(3);for(var r=0;r<3;++r)this.metadata.attributes.position.minValues[r]=e.min_value(r)}this.draco.destroy(e)},e._getAttributes=function(t,e,r){for(var n={},a=e.num_points(),i=0;i<e.num_attributes();i++){var o=t.GetAttribute(e,i),u=this._getAttributeMetadata(t,e,i),s={uniqueId:o.unique_id(),attributeType:o.attribute_type(),dataType:j[o.data_type()],size:o.size(),numComponents:o.num_components(),byteOffset:o.byte_offset(),byteStride:o.byte_stride(),normalized:o.normalized(),metadata:u},c=this._deduceAttributeName(s,r),l=this._getAttributeTypedArray(t,e,o,c).typedArray;n[c]={value:l,size:l.length/a,metadata:u}}return n},e._getMeshFaceIndices=function(t,e){for(var r=e.num_faces(),n=new Uint32Array(3*r),a=new this.draco.DracoInt32Array,i=0;i<r;++i){t.GetFaceFromMesh(e,i,a);var o=3*i;n[o]=a.GetValue(0),n[o+1]=a.GetValue(1),n[o+2]=a.GetValue(2)}return this.draco.destroy(a),n},e._getMeshStripIndices=function(t,e){var r=new this.draco.DracoInt32Array;t.GetTriangleStripsFromMesh(e,r);for(var n=new Uint32Array(r.size()),a=0;a<r.size();++a)n[a]=r.GetValue(a);return this.draco.destroy(r),n},e._getAttributeTypedArray=function(t,e,r,n){if(0===r.ptr)throw new Error("DRACO decode bad attribute "+n);var a,i,o=j[r.data_type()],u=r.num_components(),s=e.num_points()*u;switch(o){case Float32Array:a=new this.draco.DracoFloat32Array,t.GetAttributeFloatForAllPoints(e,r,a),i=new Float32Array(s);break;case Int8Array:a=new this.draco.DracoInt8Array,t.GetAttributeInt8ForAllPoints(e,r,a),i=new Int8Array(s);break;case Int16Array:a=new this.draco.DracoInt16Array,t.GetAttributeInt16ForAllPoints(e,r,a),i=new Int16Array(s);break;case Int32Array:a=new this.draco.DracoInt32Array,t.GetAttributeInt32ForAllPoints(e,r,a),i=new Int32Array(s);break;case Uint8Array:a=new this.draco.DracoUInt8Array,t.GetAttributeUInt8ForAllPoints(e,r,a),i=new Uint8Array(s);break;case Uint16Array:a=new this.draco.DracoUInt16Array,t.GetAttributeUInt16ForAllPoints(e,r,a),i=new Uint16Array(s);break;case Uint32Array:a=new this.draco.DracoUInt32Array,t.GetAttributeUInt32ForAllPoints(e,r,a),i=new Uint32Array(s);break;default:throw new Error("DRACO decoder: unexpected attribute type.")}for(var c=0;c<s;c++)i[c]=a.GetValue(c);return this.draco.destroy(a),{typedArray:i,components:u}},e._deduceAttributeName=function(t,e){var r=e.extraAttributes,n=void 0===r?{}:r;if(n&&"object"==typeof n)for(var a=0,i=Object.entries(n);a<i.length;a++){var o=i[a],u=o[0];if(o[1]===t.uniqueId)return u}for(var s in O){var c=this.draco[s];if(t.attributeType===c)return O[s]}if(t.metadata){var l=e.attributeNameEntry||"name";if(t.metadata[l])return t.metadata[l].string}return"CUSTOM_ATTRIBUTE_"+t.uniqueId},e._getGeometryMetadata=function(t,e){var r=t.GetMetadata(e);return this._queryDracoMetadata(r)},e._getAttributeMetadata=function(t,e,r){var n=t.GetAttributeMetadata(e,r);return this._queryDracoMetadata(n)},e._queryDracoMetadata=function(t){if(!t||!t.ptr)return{};for(var e={},r=this.metadataQuerier.NumEntries(t),n=0;n<r;n++){var a=this.metadataQuerier.GetEntryName(t,n);e[a]={int:this.metadataQuerier.GetIntEntry(t,a),string:this.metadataQuerier.GetStringEntry(t,a),double:this.metadataQuerier.GetDoubleEntry(t,a),intArray:this.metadataQuerier.GetIntEntryArray(t,a)}}return e},e.decode=function(t,e){return this.parseSync(t,e)},t}();function A(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),r.push.apply(r,n)}return r}function k(t){for(var e=1;e<arguments.length;e++){var r=null!=arguments[e]?arguments[e]:{};e%2?A(Object(r),!0).forEach((function(e){Object(u.a)(t,e,r[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):A(Object(r)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(r,e))}))}return t}var E="undefined"!=typeof __VERSION__?__VERSION__:"latest",x=k(k({},{id:"draco",name:"Draco",version:E,extensions:["drc"],mimeTypes:["application/octet-stream"],binary:!0,tests:["DRACO"],options:{draco:{decoderType:"object"==typeof WebAssembly?"wasm":"js",libraryPath:"libs/",workerUrl:"https://unpkg.com/@loaders.gl/draco@"+E+"/dist/draco-loader.worker.js",localWorkerUrl:"modules/draco/dist/draco-loader.worker.dev.js",extraAttributes:{}}}}),{},{parse:function(t,e,r,n){return w.apply(this,arguments)}});function w(){return(w=Object(o.a)(i.a.mark((function t(e,r,n,a){var o,u,s;return i.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,h(r);case 2:return o=t.sent,u=o.draco,s=new _(u),t.prev=5,t.abrupt("return",s.parseSync(e,k({extraAttributes:r.draco&&r.draco.extraAttributes||null},r.parseOptions||{})));case 7:return t.prev=7,s.destroy(),t.finish(7);case 10:case"end":return t.stop()}}),t,null,[[5,,7,10]])})))).apply(this,arguments)}},"41X0":function(t,e,r){"use strict";r.d(e,"a",(function(){return h}));var n=r("1OyB"),a=r("vuIU"),i=r("Ji7U"),o=r("md7G"),u=r("foSv"),s=r("kHIg"),c=r("a3TU"),l=r("tS8E");function f(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(t){return!1}}();return function(){var r,n=Object(u.a)(t);if(e){var a=Object(u.a)(this).constructor;r=Reflect.construct(n,arguments,a)}else r=n.apply(this,arguments);return Object(o.a)(this,r)}}var h=function(t){Object(i.a)(r,t);var e=f(r);function r(){return Object(n.a)(this,r),e.apply(this,arguments)}return Object(a.a)(r,[{key:"clone",value:function(){return(new this.constructor).copy(this)}},{key:"from",value:function(t){return Array.isArray(t)?this.copy(t):this.fromObject(t)}},{key:"fromArray",value:function(t){for(var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,r=0;r<this.ELEMENTS;++r)this[r]=t[r+e];return this.check()}},{key:"to",value:function(t){return t===this?this:Object(c.e)(t)?this.toArray(t):this.toObject(t)}},{key:"toTarget",value:function(t){return t?this.to(t):this}},{key:"toArray",value:function(){for(var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,r=0;r<this.ELEMENTS;++r)t[e+r]=this[r];return t}},{key:"toFloat32Array",value:function(){return new Float32Array(this)}},{key:"toString",value:function(){return this.formatString(c.b)}},{key:"formatString",value:function(t){for(var e="",r=0;r<this.ELEMENTS;++r)e+=(r>0?", ":"")+Object(c.d)(this[r],t);return"".concat(t.printTypes?this.constructor.name:"","[").concat(e,"]")}},{key:"equals",value:function(t){if(!t||this.length!==t.length)return!1;for(var e=0;e<this.ELEMENTS;++e)if(!Object(c.c)(this[e],t[e]))return!1;return!0}},{key:"exactEquals",value:function(t){if(!t||this.length!==t.length)return!1;for(var e=0;e<this.ELEMENTS;++e)if(this[e]!==t[e])return!1;return!0}},{key:"negate",value:function(){for(var t=0;t<this.ELEMENTS;++t)this[t]=-this[t];return this.check()}},{key:"lerp",value:function(t,e,r){void 0===r&&(r=e,e=t,t=this);for(var n=0;n<this.ELEMENTS;++n){var a=t[n];this[n]=a+r*(e[n]-a)}return this.check()}},{key:"min",value:function(t){for(var e=0;e<this.ELEMENTS;++e)this[e]=Math.min(t[e],this[e]);return this.check()}},{key:"max",value:function(t){for(var e=0;e<this.ELEMENTS;++e)this[e]=Math.max(t[e],this[e]);return this.check()}},{key:"clamp",value:function(t,e){for(var r=0;r<this.ELEMENTS;++r)this[r]=Math.min(Math.max(this[r],t[r]),e[r]);return this.check()}},{key:"add",value:function(){for(var t=arguments.length,e=new Array(t),r=0;r<t;r++)e[r]=arguments[r];for(var n=0,a=e;n<a.length;n++)for(var i=a[n],o=0;o<this.ELEMENTS;++o)this[o]+=i[o];return this.check()}},{key:"subtract",value:function(){for(var t=arguments.length,e=new Array(t),r=0;r<t;r++)e[r]=arguments[r];for(var n=0,a=e;n<a.length;n++)for(var i=a[n],o=0;o<this.ELEMENTS;++o)this[o]-=i[o];return this.check()}},{key:"scale",value:function(t){if(Array.isArray(t))return this.multiply(t);for(var e=0;e<this.ELEMENTS;++e)this[e]*=t;return this.check()}},{key:"sub",value:function(t){return this.subtract(t)}},{key:"setScalar",value:function(t){for(var e=0;e<this.ELEMENTS;++e)this[e]=t;return this.check()}},{key:"addScalar",value:function(t){for(var e=0;e<this.ELEMENTS;++e)this[e]+=t;return this.check()}},{key:"subScalar",value:function(t){return this.addScalar(-t)}},{key:"multiplyScalar",value:function(t){for(var e=0;e<this.ELEMENTS;++e)this[e]*=t;return this.check()}},{key:"divideScalar",value:function(t){return this.scale(1/t)}},{key:"clampScalar",value:function(t,e){for(var r=0;r<this.ELEMENTS;++r)this[r]=Math.min(Math.max(this[r],t),e);return this.check()}},{key:"multiplyByScalar",value:function(t){return this.scale(t)}},{key:"check",value:function(){if(c.b.debug&&!this.validate())throw new Error("math.gl: ".concat(this.constructor.name," some fields set to invalid numbers'"));return this}},{key:"validate",value:function(){for(var t=this.length===this.ELEMENTS,e=0;e<this.ELEMENTS;++e)t=t&&Number.isFinite(this[e]);return t}},{key:"ELEMENTS",get:function(){return Object(l.a)(!1),0}},{key:"RANK",get:function(){return Object(l.a)(!1),0}},{key:"elements",get:function(){return this}}]),r}(Object(s.a)(Array))},"9Q0L":function(t,e,r){"use strict";(function(t){r.d(e,"a",(function(){return h})),r.d(e,"c",(function(){return d})),r.d(e,"b",(function(){return b}));var n=r("1OyB"),a=r("vuIU"),i=r("rp2x"),o=r("gXd2"),u=r("g6k1");function s(t,e){var r=t[e].bind(t);t[e]=function(){var e=arguments.length<=0?void 0:arguments[0];return e in t.state.cache||(t.state.cache[e]=r.apply(void 0,arguments)),t.state.enable?t.state.cache[e]:r.apply(void 0,arguments)},Object.defineProperty(t[e],"name",{value:"".concat(e,"-from-cache"),configurable:!1})}function c(t,e,r){var n=t[e].bind(t);t[e]=function(){for(var e=arguments.length,a=new Array(e),i=0;i<e;i++)a[i]=arguments[i];var o=r.apply(void 0,[t.state._updateCache].concat(a)),u=o.valueChanged,s=o.oldValue;return u&&n.apply(void 0,a),s},Object.defineProperty(t[e],"name",{value:"".concat(e,"-to-cache"),configurable:!1})}function l(t){var e=t.useProgram.bind(t);t.useProgram=function(r){t.state.program!==r&&(e(r),t.state.program=r)}}var f=function(){function t(e){var r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},a=r.copyState,u=void 0!==a&&a,s=r.log,c=void 0===s?function(){}:s;Object(n.a)(this,t),this.gl=e,this.program=null,this.stateStack=[],this.enable=!0,this.cache=u?Object(o.a)(e):Object.assign({},i.c),this.log=c,this._updateCache=this._updateCache.bind(this),Object.seal(this)}return Object(a.a)(t,[{key:"push",value:function(){this.stateStack.push({})}},{key:"pop",value:function(){Object(u.a)(this.stateStack.length>0);var t=this.stateStack[this.stateStack.length-1];Object(o.c)(this.gl,t,this.cache),this.stateStack.pop()}},{key:"_updateCache",value:function(t){var e,r=!1,n=this.stateStack.length>0&&this.stateStack[this.stateStack.length-1];for(var a in t){Object(u.a)(void 0!==a);var i=t[a],o=this.cache[a];Object(u.d)(i,o)||(r=!0,e=o,n&&!(a in n)&&(n[a]=o),this.cache[a]=i)}return{valueChanged:r,oldValue:e}}}]),t}();function h(e){var r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=r.enable,a=void 0===n||n,o=r.copyState;if(Object(u.a)(void 0!==o),!e.state){var h=void 0!==t?t:window;for(var d in h.polyfillContext&&h.polyfillContext(e),e.state=new f(e,{copyState:o,enable:a}),l(e),i.b){var b=i.b[d];c(e,d,b)}s(e,"getParameter"),s(e,"isEnabled")}return e.state.enable=a,e}function d(t){t.state||h(t,{copyState:!1}),t.state.push()}function b(t){Object(u.a)(t.state),t.state.pop()}}).call(this,r("yLpj"))},"B9+J":function(t,e,r){"use strict";r.d(e,"b",(function(){return n})),r.d(e,"c",(function(){return a})),r.d(e,"a",(function(){return i})),r.d(e,"d",(function(){return o}));function n(t){switch(ArrayBuffer.isView(t)?t.constructor:t){case Float32Array:return 5126;case Uint16Array:return 5123;case Uint32Array:return 5125;case Uint8Array:case Uint8ClampedArray:return 5121;case Int8Array:return 5120;case Int16Array:return 5122;case Int32Array:return 5124;default:throw new Error("Failed to deduce GL constant from typed array")}}function a(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},r=e.clamped,n=void 0===r||r;switch(t){case 5126:return Float32Array;case 5123:case 33635:case 32819:case 32820:return Uint16Array;case 5125:return Uint32Array;case 5121:return n?Uint8ClampedArray:Uint8Array;case 5120:return Int8Array;case 5122:return Int16Array;case 5124:return Int32Array;default:throw new Error("Failed to deduce typed array type from GL constant")}}function i(t){var e=t.data,r=t.width,n=t.height,a=t.bytesPerPixel,i=void 0===a?4:a,o=t.temp,u=r*i;o=o||new Uint8Array(u);for(var s=0;s<n/2;++s){var c=s*u,l=(n-s-1)*u;o.set(e.subarray(c,c+u)),e.copyWithin(c,l,l+u),e.set(o,l)}}function o(t){for(var e=t.data,r=t.width,n=t.height,a=Math.round(r/2),i=Math.round(n/2),o=new Uint8Array(a*i*4),u=0;u<i;u++)for(var s=0;s<a;s++)for(var c=0;c<4;c++)o[4*(u*a+s)+c]=e[4*(2*u*r+2*s)+c];return{data:o,width:a,height:i}}},CxzY:function(t,e,r){"use strict";function n(t,e){if(!t)throw new Error(e||"luma.gl: assertion failed.")}r.d(e,"a",(function(){return n}))},H50b:function(t,e,r){"use strict";r.d(e,"a",(function(){return g}));var n=r("o0o1"),a=r.n(n),i=r("HaE+"),o=r("1OyB"),u=r("vuIU"),s=r("md7G"),c=r("foSv"),l=r("JX7q"),f=r("Ji7U"),h=r("iein"),d=r("l6PP"),b=r("SUVH"),v=[34069,34070,34071,34072,34073,34074],g=function(t){function e(t){var r,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return Object(o.a)(this,e),Object(b.b)(t),(r=Object(s.a)(this,Object(c.a)(e).call(this,t,Object.assign({},n,{target:34067})))).initialize(n),Object.seal(Object(l.a)(r)),r}var r;return Object(f.a)(e,t),Object(u.a)(e,[{key:"initialize",value:function(){var t=this,e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},r=e.mipmaps,n=void 0===r||r,a=e.parameters,i=void 0===a?{}:a;this.opts=e,this.setCubeMapImageData(e).then((function(){t.loaded=!0,n&&t.generateMipmap(e),t.setParameters(i)}))}},{key:"subImage",value:function(t){var e=t.face,r=t.data,n=t.x,a=void 0===n?0:n,i=t.y,o=void 0===i?0:i,u=t.mipmapLevel,s=void 0===u?0:u;return this._subImage({target:e,data:r,x:a,y:o,mipmapLevel:s})}},{key:"setCubeMapImageData",value:(r=Object(i.a)(a.a.mark((function t(e){var r,n,i,o,u,s,c,l,f,d,b,g,m,y=this;return a.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return r=e.width,n=e.height,i=e.pixels,o=e.data,u=e.border,s=void 0===u?0:u,c=e.format,l=void 0===c?6408:c,f=e.type,d=void 0===f?5121:f,b=this.gl,g=i||o,t.next=5,Promise.all(v.map((function(t){var e=g[t];return Promise.all(Array.isArray(e)?e:[e])})));case 5:m=t.sent,this.bind(),v.forEach((function(t,e){m[e].length>1&&!1!==y.opts.mipmaps&&h.g.warn("".concat(y.id," has mipmap and multiple LODs."))(),m[e].forEach((function(e,a){r&&n?b.texImage2D(t,a,l,r,n,s,l,d,e):b.texImage2D(t,a,l,l,d,e)}))})),this.unbind();case 9:case"end":return t.stop()}}),t,this)}))),function(t){return r.apply(this,arguments)})},{key:"setImageDataForFace",value:function(t){var e=this,r=t.face,n=t.width,a=t.height,i=t.pixels,o=t.data,u=t.border,s=void 0===u?0:u,c=t.format,l=void 0===c?6408:c,f=t.type,h=void 0===f?5121:f,d=this.gl,b=i||o;return this.bind(),b instanceof Promise?b.then((function(n){return e.setImageDataForFace(Object.assign({},t,{face:r,data:n,pixels:n}))})):this.width||this.height?d.texImage2D(r,0,l,n,a,s,l,h,b):d.texImage2D(r,0,l,l,h,b),this}}]),e}(d.a);g.FACES=v},Hogv:function(t,e,r){"use strict";(function(t){var e=r("JrVf"),n=r("g6k1"),a=r("P5C6");function i(t,e){var r=e.extension,i=e.target,o=e.target2,u=a.b[r];Object(n.a)(u);for(var s=u.meta,c=(void 0===s?{}:s).suffix,l=void 0===c?"":c,f=t.getExtension(r),h=function(){var e=b[d],r="".concat(e).concat(l),n=null;"meta"===e||"function"==typeof t[e]||(f&&"function"==typeof f[r]?n=function(){return f[r].apply(f,arguments)}:"function"==typeof u[e]&&(n=u[e].bind(i))),n&&(i[e]=n,o[e]=n)},d=0,b=Object.keys(u);d<b.length;d++)h()}(void 0!==t?t:window).polyfillContext=function(t){return t.luma=t.luma||{},t.luma.polyfilled||(Object(e.a)(t),function(t){t.luma.extensions={};var e=t.getSupportedExtensions()||[],r=!0,n=!1,a=void 0;try{for(var i,o=e[Symbol.iterator]();!(r=(i=o.next()).done);r=!0){var u=i.value;t.luma[u]=t.getExtension(u)}}catch(s){n=!0,a=s}finally{try{r||null==o.return||o.return()}finally{if(n)throw a}}}(t),function(t,e){var r=!0,n=!1,a=void 0;try{for(var o,u=Object.getOwnPropertyNames(e)[Symbol.iterator]();!(r=(o=u.next()).done);r=!0){var s=o.value;"overrides"!==s&&i(t,{extension:s,target:t.luma,target2:t})}}catch(c){n=!0,a=c}finally{try{r||null==u.return||u.return()}finally{if(n)throw a}}}(t,a.b),function(t,e){var r=e.target,n=e.target2;Object.keys(a.a).forEach((function(e){if("function"==typeof a.a[e]){var i=t[e]?t[e].bind(t):function(){},o=a.a[e].bind(null,t,i);r[e]=o,n[e]=o}}))}(t,{target:t.luma,target2:t}),t.luma.polyfilled=!0),t}}).call(this,r("yLpj"))},HwUG:function(t,e,r){"use strict";r.d(e,"a",(function(){return a})),r.d(e,"i",(function(){return i})),r.d(e,"d",(function(){return o})),r.d(e,"b",(function(){return u})),r.d(e,"e",(function(){return s})),r.d(e,"h",(function(){return c})),r.d(e,"f",(function(){return l})),r.d(e,"g",(function(){return f})),r.d(e,"c",(function(){return h}));r("QFcT");var n=r("yU0y");function a(){var t=new n.a(9);return n.a!=Float32Array&&(t[1]=0,t[2]=0,t[3]=0,t[5]=0,t[6]=0,t[7]=0),t[0]=1,t[4]=1,t[8]=1,t}function i(t,e){if(t===e){var r=e[1],n=e[2],a=e[5];t[1]=e[3],t[2]=e[6],t[3]=r,t[5]=e[7],t[6]=n,t[7]=a}else t[0]=e[0],t[1]=e[3],t[2]=e[6],t[3]=e[1],t[4]=e[4],t[5]=e[7],t[6]=e[2],t[7]=e[5],t[8]=e[8];return t}function o(t,e){var r=e[0],n=e[1],a=e[2],i=e[3],o=e[4],u=e[5],s=e[6],c=e[7],l=e[8],f=l*o-u*c,h=-l*i+u*s,d=c*i-o*s,b=r*f+n*h+a*d;return b?(b=1/b,t[0]=f*b,t[1]=(-l*n+a*c)*b,t[2]=(u*n-a*o)*b,t[3]=h*b,t[4]=(l*r-a*s)*b,t[5]=(-u*r+a*i)*b,t[6]=d*b,t[7]=(-c*r+n*s)*b,t[8]=(o*r-n*i)*b,t):null}function u(t){var e=t[0],r=t[1],n=t[2],a=t[3],i=t[4],o=t[5],u=t[6],s=t[7],c=t[8];return e*(c*i-o*s)+r*(-c*a+o*u)+n*(s*a-i*u)}function s(t,e,r){var n=e[0],a=e[1],i=e[2],o=e[3],u=e[4],s=e[5],c=e[6],l=e[7],f=e[8],h=r[0],d=r[1],b=r[2],v=r[3],g=r[4],m=r[5],y=r[6],p=r[7],O=r[8];return t[0]=h*n+d*o+b*c,t[1]=h*a+d*u+b*l,t[2]=h*i+d*s+b*f,t[3]=v*n+g*o+m*c,t[4]=v*a+g*u+m*l,t[5]=v*i+g*s+m*f,t[6]=y*n+p*o+O*c,t[7]=y*a+p*u+O*l,t[8]=y*i+p*s+O*f,t}function c(t,e,r){var n=e[0],a=e[1],i=e[2],o=e[3],u=e[4],s=e[5],c=e[6],l=e[7],f=e[8],h=r[0],d=r[1];return t[0]=n,t[1]=a,t[2]=i,t[3]=o,t[4]=u,t[5]=s,t[6]=h*n+d*o+c,t[7]=h*a+d*u+l,t[8]=h*i+d*s+f,t}function l(t,e,r){var n=e[0],a=e[1],i=e[2],o=e[3],u=e[4],s=e[5],c=e[6],l=e[7],f=e[8],h=Math.sin(r),d=Math.cos(r);return t[0]=d*n+h*o,t[1]=d*a+h*u,t[2]=d*i+h*s,t[3]=d*o-h*n,t[4]=d*u-h*a,t[5]=d*s-h*i,t[6]=c,t[7]=l,t[8]=f,t}function f(t,e,r){var n=r[0],a=r[1];return t[0]=n*e[0],t[1]=n*e[1],t[2]=n*e[2],t[3]=a*e[3],t[4]=a*e[4],t[5]=a*e[5],t[6]=e[6],t[7]=e[7],t[8]=e[8],t}function h(t,e){var r=e[0],n=e[1],a=e[2],i=e[3],o=r+r,u=n+n,s=a+a,c=r*o,l=n*o,f=n*u,h=a*o,d=a*u,b=a*s,v=i*o,g=i*u,m=i*s;return t[0]=1-f-b,t[3]=l-m,t[6]=h+g,t[1]=l+m,t[4]=1-c-b,t[7]=d-v,t[2]=h-g,t[5]=d+v,t[8]=1-c-f,t}},"IVX/":function(t,e,r){"use strict";var n=r("TqRt");Object.defineProperty(e,"__esModule",{value:!0}),e.isMobile=function(){return void 0!==a.window.orientation},e.default=function(t){if(!t&&!(0,i.default)())return"Node";if((0,o.default)(t))return"Electron";var e="undefined"!=typeof navigator?navigator:{},r=t||e.userAgent||"";if(r.indexOf("Edge")>-1)return"Edge";var n=-1!==r.indexOf("MSIE "),u=-1!==r.indexOf("Trident/");if(n||u)return"IE";if(a.window.chrome)return"Chrome";if(a.window.safari)return"Safari";if(a.window.mozInnerScreenX)return"Firefox";return"Unknown"};var a=r("jWbo"),i=n(r("uXCu")),o=n(r("15yl"))},JrVf:function(t,e,r){"use strict";r.d(e,"a",(function(){return s}));var n=r("xSaR"),a={};function i(t,e){var r;a[t]=!0,void 0!==e&&(r=e,n.global.console&&n.global.console.error&&n.global.console.error(r))}var o=function t(e){var r=e.gl;this.ext=e,this.isAlive=!0,this.hasBeenBound=!1,this.elementArrayBuffer=null,this.attribs=new Array(e.maxVertexAttribs);for(var n=0;n<this.attribs.length;n++){var a=new t.VertexAttrib(r);this.attribs[n]=a}this.maxAttrib=0};(o.VertexAttrib=function(t){this.enabled=!1,this.buffer=null,this.size=4,this.type=5126,this.normalized=!1,this.stride=16,this.offset=0,this.cached="",this.recache()}).prototype.recache=function(){this.cached=[this.size,this.type,this.normalized,this.stride,this.offset].join(":")};var u=function(t){var e=this;this.gl=t,function(t){var e=t.getError;t.getError=function(){var r;do{0!==(r=e.apply(t))&&(a[r]=!0)}while(0!==r);for(r in a)if(a[r])return delete a[r],parseInt(r,10);return 0}}(t);var r=this.original={getParameter:t.getParameter,enableVertexAttribArray:t.enableVertexAttribArray,disableVertexAttribArray:t.disableVertexAttribArray,bindBuffer:t.bindBuffer,getVertexAttrib:t.getVertexAttrib,vertexAttribPointer:t.vertexAttribPointer};t.getParameter=function(t){return t===e.VERTEX_ARRAY_BINDING_OES?e.currentVertexArrayObject===e.defaultVertexArrayObject?null:e.currentVertexArrayObject:r.getParameter.apply(this,arguments)},t.enableVertexAttribArray=function(t){var n=e.currentVertexArrayObject;n.maxAttrib=Math.max(n.maxAttrib,t);var a=n.attribs[t];return a.enabled=!0,r.enableVertexAttribArray.apply(this,arguments)},t.disableVertexAttribArray=function(t){var n=e.currentVertexArrayObject;n.maxAttrib=Math.max(n.maxAttrib,t);var a=n.attribs[t];return a.enabled=!1,r.disableVertexAttribArray.apply(this,arguments)},t.bindBuffer=function(t,n){switch(t){case 34962:e.currentArrayBuffer=n;break;case 34963:e.currentVertexArrayObject.elementArrayBuffer=n}return r.bindBuffer.apply(this,arguments)},t.getVertexAttrib=function(t,n){var a=e.currentVertexArrayObject,i=a.attribs[t];switch(n){case 34975:return i.buffer;case 34338:return i.enabled;case 34339:return i.size;case 34340:return i.stride;case 34341:return i.type;case 34922:return i.normalized;default:return r.getVertexAttrib.apply(this,arguments)}},t.vertexAttribPointer=function(t,n,a,i,o,u){var s=e.currentVertexArrayObject;s.maxAttrib=Math.max(s.maxAttrib,t);var c=s.attribs[t];return c.buffer=e.currentArrayBuffer,c.size=n,c.type=a,c.normalized=i,c.stride=o,c.offset=u,c.recache(),r.vertexAttribPointer.apply(this,arguments)},t.instrumentExtension&&t.instrumentExtension(this,"OES_vertex_array_object"),t.canvas&&t.canvas.addEventListener("webglcontextrestored",(function(){var t;t="OESVertexArrayObject emulation library context restored",n.global.console&&n.global.console.log&&n.global.console.log(t),e.reset_()}),!0),this.reset_()};function s(t){if("function"!=typeof t.createVertexArray){var e=t.getSupportedExtensions;t.getSupportedExtensions=function(){var t=e.call(this)||[];return t.indexOf("OES_vertex_array_object")<0&&t.push("OES_vertex_array_object"),t};var r=t.getExtension;t.getExtension=function(e){var n=r.call(this,e);return n||("OES_vertex_array_object"!==e?null:(t.__OESVertexArrayObject||(this.__OESVertexArrayObject=new u(this)),this.__OESVertexArrayObject))}}}u.prototype.VERTEX_ARRAY_BINDING_OES=34229,u.prototype.reset_=function(){if(void 0!==this.vertexArrayObjects)for(var t=0;t<this.vertexArrayObjects.length;++t)this.vertexArrayObjects.isAlive=!1;var e=this.gl;this.maxVertexAttribs=e.getParameter(34921),this.defaultVertexArrayObject=new o(this),this.currentVertexArrayObject=null,this.currentArrayBuffer=null,this.vertexArrayObjects=[this.defaultVertexArrayObject],this.bindVertexArrayOES(null)},u.prototype.createVertexArrayOES=function(){var t=new o(this);return this.vertexArrayObjects.push(t),t},u.prototype.deleteVertexArrayOES=function(t){t.isAlive=!1,this.vertexArrayObjects.splice(this.vertexArrayObjects.indexOf(t),1),this.currentVertexArrayObject===t&&this.bindVertexArrayOES(null)},u.prototype.isVertexArrayOES=function(t){return!!(t&&t instanceof o&&t.hasBeenBound&&t.ext===this)},u.prototype.bindVertexArrayOES=function(t){var e=this.gl;if(!t||t.isAlive){var r=this.original,n=this.currentVertexArrayObject;this.currentVertexArrayObject=t||this.defaultVertexArrayObject,this.currentVertexArrayObject.hasBeenBound=!0;var a=this.currentVertexArrayObject;if(n!==a){n&&a.elementArrayBuffer===n.elementArrayBuffer||r.bindBuffer.call(e,34963,a.elementArrayBuffer);for(var o=this.currentArrayBuffer,u=Math.max(n?n.maxAttrib:0,a.maxAttrib),s=0;s<=u;s++){var c=a.attribs[s],l=n?n.attribs[s]:null;if(n&&c.enabled===l.enabled||(c.enabled?r.enableVertexAttribArray.call(e,s):r.disableVertexAttribArray.call(e,s)),c.enabled){var f=!1;n&&c.buffer===l.buffer||(o!==c.buffer&&(r.bindBuffer.call(e,34962,c.buffer),o=c.buffer),f=!0),(f||c.cached!==l.cached)&&r.vertexAttribPointer.call(e,s,c.size,c.type,c.normalized,c.stride,c.offset)}}this.currentArrayBuffer!==o&&r.bindBuffer.call(e,34962,this.currentArrayBuffer)}}else i(1282,"bindVertexArrayOES: attempt to bind deleted arrayObject")}},L8KH:function(t,e,r){"use strict";r.d(e,"a",(function(){return d}));var n=r("1OyB"),a=r("vuIU"),i=r("iein"),o=r("rta6"),u=r("SUVH"),s=r("rnmN"),c=r("VdrS"),l=r("CxzY"),f=r("sgaE"),h="Resource subclass must define virtual methods",d=function(){function t(e){var r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};Object(n.a)(this,t),Object(u.b)(e);var a=r.id,i=r.userData,o=void 0===i?{}:i;this.gl=e,this.id=a||Object(c.c)(this.constructor.name),this.userData=o,this._bound=!1,this._handle=r.handle,void 0===this._handle&&(this._handle=this._createHandle()),this.byteLength=0,this._addStats()}return Object(a.a)(t,[{key:"toString",value:function(){return"".concat(this.constructor.name,"(").concat(this.id,")")}},{key:"delete",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},e=t.deleteChildren,r=void 0!==e&&e,n=this._handle&&this._deleteHandle(this._handle);return this._handle&&this._removeStats(),this._handle=null,n&&r&&n.filter(Boolean).forEach((function(t){t.delete()})),this}},{key:"bind",value:function(){var t,e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:this.handle;return"function"!=typeof e?(this._bindHandle(e),this):(this._bound?t=e():(this._bindHandle(this.handle),this._bound=!0,t=e(),this._bound=!1,this._bindHandle(null)),t)}},{key:"unbind",value:function(){this.bind(null)}},{key:"getParameter",value:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};t=Object(s.b)(this.gl,t),Object(l.a)(t);var r=this.constructor.PARAMETERS||{},n=r[t];if(n){var a=Object(i.f)(this.gl),o=(!("webgl2"in n)||a)&&(!("extension"in n)||this.gl.getExtension(n.extension));if(!o){var u=n.webgl1,c="webgl2"in n?n.webgl2:n.webgl1,f=a?c:u;return f}}return this._getParameter(t,e)}},{key:"getParameters",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},e={},r=e.parameters,n=e.keys,a=this.constructor.PARAMETERS||{},o=Object(i.f)(this.gl),u={},c=r||Object.keys(a),l=!0,f=!1,h=void 0;try{for(var d,b=c[Symbol.iterator]();!(l=(d=b.next()).done);l=!0){var v=d.value,g=a[v],m=g&&(!("webgl2"in g)||o)&&(!("extension"in g)||this.gl.getExtension(g.extension));if(m){var y=n?Object(s.a)(this.gl,v):v;u[y]=this.getParameter(v,t),n&&"GLenum"===g.type&&(u[y]=Object(s.a)(this.gl,u[y]))}}}catch(p){f=!0,h=p}finally{try{l||null==b.return||b.return()}finally{if(f)throw h}}return u}},{key:"setParameter",value:function(t,e){t=Object(s.b)(this.gl,t),Object(l.a)(t);var r=(this.constructor.PARAMETERS||{})[t];if(r){var n=Object(i.f)(this.gl);if(!((!("webgl2"in r)||n)&&(!("extension"in r)||this.gl.getExtension(r.extension))))throw new Error("Parameter not available on this platform");"GLenum"===r.type&&(e=Object(s.b)(e))}return this._setParameter(t,e),this}},{key:"setParameters",value:function(t){for(var e in t)this.setParameter(e,t[e]);return this}},{key:"stubRemovedMethods",value:function(t,e,r){return Object(f.a)(this,t,e,r)}},{key:"initialize",value:function(t){}},{key:"_createHandle",value:function(){throw new Error(h)}},{key:"_deleteHandle",value:function(){throw new Error(h)}},{key:"_bindHandle",value:function(){throw new Error(h)}},{key:"_getOptsFromHandle",value:function(){throw new Error(h)}},{key:"_getParameter",value:function(t,e){throw new Error(h)}},{key:"_setParameter",value:function(t,e){throw new Error(h)}},{key:"_context",value:function(){return this.gl.luma=this.gl.luma||{},this.gl.luma}},{key:"_addStats",value:function(){var t=this.constructor.name,e=o.a.get("Resource Counts");e.get("Resources Created").incrementCount(),e.get("".concat(t,"s Created")).incrementCount(),e.get("".concat(t,"s Active")).incrementCount()}},{key:"_removeStats",value:function(){var t=this.constructor.name;o.a.get("Resource Counts").get("".concat(t,"s Active")).decrementCount()}},{key:"_trackAllocatedMemory",value:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:this.constructor.name,r=o.a.get("Memory Usage");r.get("GPU Memory").addCount(t),r.get("".concat(e," Memory")).addCount(t),this.byteLength=t}},{key:"_trackDeallocatedMemory",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:this.constructor.name,e=o.a.get("Memory Usage");e.get("GPU Memory").subtractCount(this.byteLength),e.get("".concat(t," Memory")).subtractCount(this.byteLength),this.byteLength=0}},{key:"handle",get:function(){return this._handle}}]),t}()},LE90:function(t,e,r){"use strict";r.d(e,"a",(function(){return a}));var n=r("iein");function a(t,e,r){var a=r.removedProps,i=void 0===a?{}:a,o=r.deprecatedProps,u=void 0===o?{}:o,s=r.replacedProps,c=void 0===s?{}:s;for(var l in i)if(l in e){var f=i[l]?"".concat(t,".").concat(i[l]):"N/A";n.g.removed("".concat(t,".").concat(l),f)()}for(var h in u)if(h in e){var d=u[h];n.g.deprecated("".concat(t,".").concat(h),"".concat(t,".").concat(d))()}var b=null;for(var v in c)if(v in e){var g=c[v];n.g.deprecated("".concat(t,".").concat(v),"".concat(t,".").concat(g))(),(b=b||Object.assign({},e))[g]=e[v],delete b[v]}return b||e}},MdWm:function(t,e,r){"use strict";r.d(e,"a",(function(){return O})),r.d(e,"b",(function(){return j}));var n=r("rePB"),a=r("f5Sf"),i=r("H50b"),o=r("1OyB"),u=r("md7G"),s=r("foSv"),c=r("JX7q"),l=r("vuIU"),f=r("Ji7U"),h=r("iein"),d=r("SUVH"),b=r("l6PP"),v=r("uYBD"),g=r("sc/6"),m=function(t){function e(t){var r,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return Object(o.a)(this,e),Object(d.a)(t),n=Object.assign({depth:1},n,{target:32879,unpackFlipY:!1}),(r=Object(u.a)(this,Object(s.a)(e).call(this,t,n))).initialize(n),Object.seal(Object(c.a)(r)),r}return Object(f.a)(e,t),Object(l.a)(e,null,[{key:"isSupported",value:function(t){return Object(h.f)(t)}}]),Object(l.a)(e,[{key:"setImageData",value:function(t){var e=this,r=t.level,n=void 0===r?0:r,a=t.dataFormat,i=void 0===a?6408:a,o=t.width,u=t.height,s=t.depth,c=void 0===s?1:s,l=t.border,f=void 0===l?0:l,d=t.format,b=t.type,m=void 0===b?5121:b,y=t.offset,p=void 0===y?0:y,O=t.data,j=t.parameters,_=void 0===j?{}:j;if(this._trackDeallocatedMemory("Texture"),this.gl.bindTexture(this.target,this.handle),Object(h.k)(this.gl,_,(function(){ArrayBuffer.isView(O)&&e.gl.texImage3D(e.target,n,i,o,u,c,f,d,m,O),O instanceof g.a&&(e.gl.bindBuffer(35052,O.handle),e.gl.texImage3D(e.target,n,i,o,u,c,f,d,m,p))})),O&&O.byteLength)this._trackAllocatedMemory(O.byteLength,"Texture");else{var A=v.a[this.dataFormat]||4,k=v.c[this.type]||1;this._trackAllocatedMemory(this.width*this.height*this.depth*A*k,"Texture")}return this.loaded=!0,this}}]),e}(b.a),y=r("11Ib"),p=r("CxzY");function O(t,e){Object(p.a)(t instanceof a.a||t instanceof i.a||t instanceof m);var r=t.constructor,n=t.gl,o=t.width,u=t.height,s=t.format,c=t.type,l=t.dataFormat,f=t.border,h=t.mipmaps;return new r(n,Object.assign({width:o,height:u,format:s,type:c,dataFormat:l,border:f,mipmaps:h},e))}function j(t,e){var r=t.gl,a=t.width,i=t.height,o=t.id;return new y.a(r,Object.assign({},e,{id:"framebuffer-for-".concat(o),width:a,height:i,attachments:Object(n.a)({},36064,t)}))}},Nw31:function(t,e,r){"use strict";r.d(e,"a",(function(){return j}));var n=r("ODXe"),a=r("1OyB"),i=r("vuIU"),o=r("Ji7U"),u=r("md7G"),s=r("foSv"),c=r("+H0l"),l=r("fxzv"),f=r("sSh/"),h=r("ZaHm"),d=r("ZxFD"),b=r("n+fv"),v=r("bl9R");function g(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(t){return!1}}();return function(){var r,n=Object(s.a)(t);if(e){var a=Object(s.a)(this).constructor;r=Reflect.construct(n,arguments,a)}else r=n.apply(this,arguments);return Object(u.a)(this,r)}}var m=Object.freeze([1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1]),y=Object.freeze([0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0]),p=Object.freeze({COL0ROW0:0,COL0ROW1:1,COL0ROW2:2,COL0ROW3:3,COL1ROW0:4,COL1ROW1:5,COL1ROW2:6,COL1ROW3:7,COL2ROW0:8,COL2ROW1:9,COL2ROW2:10,COL2ROW3:11,COL3ROW0:12,COL3ROW1:13,COL3ROW2:14,COL3ROW3:15}),O={},j=function(t){Object(o.a)(r,t);var e=g(r);function r(t){var n;return Object(a.a)(this,r),n=e.call(this,-0,-0,-0,-0,-0,-0,-0,-0,-0,-0,-0,-0,-0,-0,-0,-0),1===arguments.length&&Array.isArray(t)?n.copy(t):n.identity(),n}return Object(i.a)(r,[{key:"INDICES",get:function(){return p}},{key:"ELEMENTS",get:function(){return 16}},{key:"RANK",get:function(){return 4}}],[{key:"IDENTITY",get:function(){return O.IDENTITY=O.IDENTITY||Object.freeze(new r(m)),O.IDENTITY}},{key:"ZERO",get:function(){return O.ZERO=O.ZERO||Object.freeze(new r(y)),O.ZERO}}]),Object(i.a)(r,[{key:"copy",value:function(t){return this[0]=t[0],this[1]=t[1],this[2]=t[2],this[3]=t[3],this[4]=t[4],this[5]=t[5],this[6]=t[6],this[7]=t[7],this[8]=t[8],this[9]=t[9],this[10]=t[10],this[11]=t[11],this[12]=t[12],this[13]=t[13],this[14]=t[14],this[15]=t[15],this.check()}},{key:"set",value:function(t,e,r,n,a,i,o,u,s,c,l,f,h,d,b,v){return this[0]=t,this[1]=e,this[2]=r,this[3]=n,this[4]=a,this[5]=i,this[6]=o,this[7]=u,this[8]=s,this[9]=c,this[10]=l,this[11]=f,this[12]=h,this[13]=d,this[14]=b,this[15]=v,this.check()}},{key:"setRowMajor",value:function(t,e,r,n,a,i,o,u,s,c,l,f,h,d,b,v){return this[0]=t,this[1]=a,this[2]=s,this[3]=h,this[4]=e,this[5]=i,this[6]=c,this[7]=d,this[8]=r,this[9]=o,this[10]=l,this[11]=b,this[12]=n,this[13]=u,this[14]=f,this[15]=v,this.check()}},{key:"toRowMajor",value:function(t){return t[0]=this[0],t[1]=this[4],t[2]=this[8],t[3]=this[12],t[4]=this[1],t[5]=this[5],t[6]=this[9],t[7]=this[13],t[8]=this[2],t[9]=this[6],t[10]=this[10],t[11]=this[14],t[12]=this[3],t[13]=this[7],t[14]=this[11],t[15]=this[15],t}},{key:"identity",value:function(){return this.copy(m)}},{key:"fromQuaternion",value:function(t){return h.c(this,t),this.check()}},{key:"frustum",value:function(t){var e=t.left,n=t.right,a=t.bottom,i=t.top,o=t.near,u=t.far;return u===1/0?r._computeInfinitePerspectiveOffCenter(this,e,n,a,i,o):h.d(this,e,n,a,i,o,u),this.check()}},{key:"lookAt",value:function(t,e,r){if(1===arguments.length){var n=t;t=n.eye,e=n.center,r=n.up}return e=e||[0,0,0],r=r||[0,1,0],h.g(this,t,e,r),this.check()}},{key:"ortho",value:function(t){var e=t.left,r=t.right,n=t.bottom,a=t.top,i=t.near,o=void 0===i?.1:i,u=t.far,s=void 0===u?500:u;return h.i(this,e,r,n,a,o,s),this.check()}},{key:"orthographic",value:function(t){var e=t.fovy,n=void 0===e?45*Math.PI/180:e,a=t.aspect,i=void 0===a?1:a,o=t.focalDistance,u=void 0===o?1:o,s=t.near,c=void 0===s?.1:s,l=t.far,f=void 0===l?500:l;if(n>2*Math.PI)throw Error("radians");var h=n/2,d=u*Math.tan(h),b=d*i;return(new r).ortho({left:-b,right:b,bottom:-d,top:d,near:c,far:f})}},{key:"perspective",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},e=t.fovy,r=void 0===e?void 0:e,n=t.fov,a=void 0===n?45*Math.PI/180:n,i=t.aspect,o=void 0===i?1:i,u=t.near,s=void 0===u?.1:u,c=t.far,l=void 0===c?500:c;if((r=r||a)>2*Math.PI)throw Error("radians");return h.j(this,r,o,s,l),this.check()}},{key:"determinant",value:function(){return h.a(this)}},{key:"getScale",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[-0,-0,-0];return t[0]=Math.sqrt(this[0]*this[0]+this[1]*this[1]+this[2]*this[2]),t[1]=Math.sqrt(this[4]*this[4]+this[5]*this[5]+this[6]*this[6]),t[2]=Math.sqrt(this[8]*this[8]+this[9]*this[9]+this[10]*this[10]),t}},{key:"getTranslation",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[-0,-0,-0];return t[0]=this[12],t[1]=this[13],t[2]=this[14],t}},{key:"getRotation",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[-0,-0,-0,-0,-0,-0,-0,-0,-0,-0,-0,-0,-0,-0,-0,-0],e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,r=this.getScale(e||[-0,-0,-0]),n=1/r[0],a=1/r[1],i=1/r[2];return t[0]=this[0]*n,t[1]=this[1]*a,t[2]=this[2]*i,t[3]=0,t[4]=this[4]*n,t[5]=this[5]*a,t[6]=this[6]*i,t[7]=0,t[8]=this[8]*n,t[9]=this[9]*a,t[10]=this[10]*i,t[11]=0,t[12]=0,t[13]=0,t[14]=0,t[15]=1,t}},{key:"getRotationMatrix3",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[-0,-0,-0,-0,-0,-0,-0,-0,-0],e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,r=this.getScale(e||[-0,-0,-0]),n=1/r[0],a=1/r[1],i=1/r[2];return t[0]=this[0]*n,t[1]=this[1]*a,t[2]=this[2]*i,t[3]=this[4]*n,t[4]=this[5]*a,t[5]=this[6]*i,t[6]=this[8]*n,t[7]=this[9]*a,t[8]=this[10]*i,t}},{key:"transpose",value:function(){return h.q(this,this),this.check()}},{key:"invert",value:function(){return h.f(this,this),this.check()}},{key:"multiplyLeft",value:function(t){return h.h(this,t,this),this.check()}},{key:"multiplyRight",value:function(t){return h.h(this,this,t),this.check()}},{key:"rotateX",value:function(t){return h.l(this,this,t),this.check()}},{key:"rotateY",value:function(t){return h.m(this,this,t),this.check()}},{key:"rotateZ",value:function(t){return h.n(this,this,t),this.check()}},{key:"rotateXYZ",value:function(t){var e=Object(n.a)(t,3),r=e[0],a=e[1],i=e[2];return this.rotateX(r).rotateY(a).rotateZ(i)}},{key:"rotateAxis",value:function(t,e){return h.k(this,this,t,e),this.check()}},{key:"scale",value:function(t){return Array.isArray(t)?h.o(this,this,t):h.o(this,this,[t,t,t]),this.check()}},{key:"translate",value:function(t){return h.p(this,this,t),this.check()}},{key:"transform",value:function(t,e){return 4===t.length?(e=v.n(e||[-0,-0,-0,-0],t,this),Object(c.b)(e,4),e):this.transformAsPoint(t,e)}},{key:"transformAsPoint",value:function(t,e){switch(t.length){case 2:e=d.j(e||[-0,-0],t,this);break;case 3:e=b.o(e||[-0,-0,-0],t,this);break;default:throw new Error("Illegal vector")}return Object(c.b)(e,t.length),e}},{key:"transformAsVector",value:function(t,e){switch(t.length){case 2:e=Object(f.a)(e||[-0,-0],t,this);break;case 3:e=Object(f.c)(e||[-0,-0,-0],t,this);break;default:throw new Error("Illegal vector")}return Object(c.b)(e,t.length),e}},{key:"makeRotationX",value:function(t){return this.identity().rotateX(t)}},{key:"makeTranslation",value:function(t,e,r){return this.identity().translate([t,e,r])}},{key:"transformPoint",value:function(t,e){return Object(c.c)("Matrix4.transformPoint","3.0"),this.transformAsPoint(t,e)}},{key:"transformVector",value:function(t,e){return Object(c.c)("Matrix4.transformVector","3.0"),this.transformAsPoint(t,e)}},{key:"transformDirection",value:function(t,e){return Object(c.c)("Matrix4.transformDirection","3.0"),this.transformAsVector(t,e)}}],[{key:"_computeInfinitePerspectiveOffCenter",value:function(t,e,r,n,a,i){var o=2*i/(r-e),u=2*i/(a-n),s=(r+e)/(r-e),c=(a+n)/(a-n),l=-2*i;return t[0]=o,t[1]=0,t[2]=0,t[3]=0,t[4]=0,t[5]=u,t[6]=0,t[7]=0,t[8]=s,t[9]=c,t[10]=-1,t[11]=-1,t[12]=0,t[13]=0,t[14]=l,t[15]=0,t}}]),r}(l.a)},ODXe:function(t,e,r){"use strict";r.d(e,"a",(function(){return a}));var n=r("BsWD");function a(t,e){return function(t){if(Array.isArray(t))return t}(t)||function(t,e){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(t)){var r=[],n=!0,a=!1,i=void 0;try{for(var o,u=t[Symbol.iterator]();!(n=(o=u.next()).done)&&(r.push(o.value),!e||r.length!==e);n=!0);}catch(s){a=!0,i=s}finally{try{n||null==u.return||u.return()}finally{if(a)throw i}}return r}}(t,e)||Object(n.a)(t,e)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}},OklE:function(t,e,r){"use strict";r.d(e,"a",(function(){return J}));var n,a=r("1OyB"),i=r("vuIU"),o=r("md7G"),u=r("JX7q"),s=r("foSv"),c=r("ReuC"),l=r("Ji7U"),f=r("L8KH"),h=r("l6PP"),d=r("11Ib"),b=r("rePB"),v=r("iein"),g=r("n4Ve"),m=r("CxzY"),y=(n={},Object(b.a)(n,5126,R.bind(null,"uniform1fv",k,1,I)),Object(b.a)(n,35664,R.bind(null,"uniform2fv",k,2,I)),Object(b.a)(n,35665,R.bind(null,"uniform3fv",k,3,I)),Object(b.a)(n,35666,R.bind(null,"uniform4fv",k,4,I)),Object(b.a)(n,5124,R.bind(null,"uniform1iv",E,1,I)),Object(b.a)(n,35667,R.bind(null,"uniform2iv",E,2,I)),Object(b.a)(n,35668,R.bind(null,"uniform3iv",E,3,I)),Object(b.a)(n,35669,R.bind(null,"uniform4iv",E,4,I)),Object(b.a)(n,35670,R.bind(null,"uniform1iv",E,1,I)),Object(b.a)(n,35671,R.bind(null,"uniform2iv",E,2,I)),Object(b.a)(n,35672,R.bind(null,"uniform3iv",E,3,I)),Object(b.a)(n,35673,R.bind(null,"uniform4iv",E,4,I)),Object(b.a)(n,35674,R.bind(null,"uniformMatrix2fv",k,4,D)),Object(b.a)(n,35675,R.bind(null,"uniformMatrix3fv",k,9,D)),Object(b.a)(n,35676,R.bind(null,"uniformMatrix4fv",k,16,D)),Object(b.a)(n,35678,P),Object(b.a)(n,35680,P),Object(b.a)(n,5125,R.bind(null,"uniform1uiv",x,1,I)),Object(b.a)(n,36294,R.bind(null,"uniform2uiv",x,2,I)),Object(b.a)(n,36295,R.bind(null,"uniform3uiv",x,3,I)),Object(b.a)(n,36296,R.bind(null,"uniform4uiv",x,4,I)),Object(b.a)(n,35685,R.bind(null,"uniformMatrix2x3fv",k,6,D)),Object(b.a)(n,35686,R.bind(null,"uniformMatrix2x4fv",k,8,D)),Object(b.a)(n,35687,R.bind(null,"uniformMatrix3x2fv",k,6,D)),Object(b.a)(n,35688,R.bind(null,"uniformMatrix3x4fv",k,12,D)),Object(b.a)(n,35689,R.bind(null,"uniformMatrix4x2fv",k,8,D)),Object(b.a)(n,35690,R.bind(null,"uniformMatrix4x3fv",k,12,D)),Object(b.a)(n,35679,P),Object(b.a)(n,35682,P),Object(b.a)(n,36289,P),Object(b.a)(n,36292,P),Object(b.a)(n,36293,P),Object(b.a)(n,36298,P),Object(b.a)(n,36299,P),Object(b.a)(n,36300,P),Object(b.a)(n,36303,P),Object(b.a)(n,36306,P),Object(b.a)(n,36307,P),Object(b.a)(n,36308,P),Object(b.a)(n,36311,P),n),p={},O={},j={},_=[0];function A(t,e,r,n){1===e&&"boolean"==typeof t&&(t=t?1:0),Number.isFinite(t)&&(_[0]=t,t=_);var a=t.length;if(a%e&&v.g.warn("Uniform size should be multiples of ".concat(e),t)(),t instanceof r)return t;var i=n[a];i||(i=new r(a),n[a]=i);for(var o=0;o<a;o++)i[o]=t[o];return i}function k(t,e){return A(t,e,Float32Array,p)}function E(t,e){return A(t,e,Int32Array,O)}function x(t,e){return A(t,e,Uint32Array,j)}function w(t){if("]"!==t[t.length-1])return{name:t,length:1,isArray:!1};var e=t.match(/([^[]*)(\[[0-9]+\])?/);if(!e||e.length<2)throw new Error("Failed to parse GLSL uniform name ".concat(t));return{name:e[1],length:e[2]||1,isArray:Boolean(e[2])}}function T(t,e,r){var n=y[r.type];if(!n)throw new Error("Unknown GLSL uniform type ".concat(r.type));return n().bind(null,t,e)}function M(t,e,r){for(var n in t){var a=t[n];if((!r||Boolean(r[n]))&&!L(a))throw e=e?"".concat(e," "):"",console.error("".concat(e," Bad uniform ").concat(n),a),new Error("".concat(e," Bad uniform ").concat(n))}return!0}function L(t){return Array.isArray(t)||ArrayBuffer.isView(t)?function(t){if(0===t.length)return!1;for(var e=Math.min(t.length,16),r=0;r<e;++r)if(!Number.isFinite(t[r]))return!1;return!0}(t):!!isFinite(t)||(!0===t||!1===t||(t instanceof h.a||(t instanceof g.a||t instanceof d.a&&Boolean(t.texture))))}function S(t,e,r){if(Array.isArray(r)||ArrayBuffer.isView(r))if(t[e])for(var n=t[e],a=0,i=r.length;a<i;++a)n[a]=r[a];else t[e]=r.slice();else t[e]=r}function P(){var t=null;return function(e,r,n){var a=t!==n;return a&&(e.uniform1i(r,n),t=n),a}}function R(t,e,r,n){var a=null,i=null;return function(o,u,s){var c=e(s,r),l=c.length,f=!1;if(null===a)a=new Float32Array(l),i=l,f=!0;else{Object(m.a)(i===l,"Uniform length cannot change.");for(var h=0;h<l;++h)if(c[h]!==a[h]){f=!0;break}}return f&&(n(o,t,u,c),a.set(c)),f}}function I(t,e,r,n){t[e](r,n)}function D(t,e,r,n){t[e](r,!1,n)}function F(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"unnamed",r=/#define[\s*]SHADER_NAME[\s*]([A-Za-z0-9_-]+)[\s*]/,n=t.match(r);return n?n[1]:e}function B(t,e,r,n){for(var a=t.split(/\r?\n/),i={},o={},u=n||F(e)||"(unnamed)",s="".concat(function(t){switch(t){case 35632:return"fragment";case 35633:return"vertex";default:return"unknown type"}}(r)," shader ").concat(u),c=0;c<a.length;c++){var l=a[c];if(!(l.length<=1)){var f=l.split(":"),h=f[0],d=parseInt(f[2],10);if(isNaN(d))throw new Error("GLSL compilation error in ".concat(s,": ").concat(t));"WARNING"!==h?i[d]=l:o[d]=l}}var b=function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1,r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:": ",n=t.split(/\r?\n/),a=String(n.length+e-1).length;return n.map((function(t,n){var i=n+e,o=String(i).length;return C(i,a-o)+r+t}))}(e);return{shaderName:s,errors:N(i,b),warnings:N(o,b)}}function N(t,e){for(var r="",n=0;n<e.length;n++){var a=e[n];if((t[n+3]||t[n+2]||t[n+1])&&(r+="".concat(a,"\n"),t[n+1])){var i=t[n+1],o=i.split(":",3),u=o[0],s=parseInt(o[1],10)||0,c=i.substring(o.join(":").length+1).trim();r+=C("^^^ ".concat(u,": ").concat(c,"\n\n"),s)}}return r}function C(t,e){for(var r="",n=0;n<e;++n)r+=" ";return"".concat(r).concat(t)}var U=r("SUVH"),G=r("VdrS"),V=function(t){function e(t,r){var n;Object(a.a)(this,e),Object(U.b)(t),Object(m.a)("string"==typeof r.source,"Shader: GLSL source code must be a JavaScript string");var i=F(r.source,null)||r.id||Object(G.c)("unnamed ".concat(e.getTypeName(r.shaderType)));return(n=Object(o.a)(this,Object(s.a)(e).call(this,t,{id:i}))).shaderType=r.shaderType,n.source=r.source,n.initialize(r),n}return Object(l.a)(e,t),Object(i.a)(e,null,[{key:"getTypeName",value:function(t){switch(t){case 35633:return"vertex-shader";case 35632:return"fragment-shader";default:return Object(m.a)(!1),"unknown"}}}]),Object(i.a)(e,[{key:"initialize",value:function(t){var e=t.source,r=F(e,null);r&&(this.id=Object(G.c)(r)),this._compile(e)}},{key:"getParameter",value:function(t){return this.gl.getShaderParameter(this.handle,t)}},{key:"toString",value:function(){return"".concat(e.getTypeName(this.shaderType),":").concat(this.id)}},{key:"getName",value:function(){return F(this.source)||"unnamed-shader"}},{key:"getSource",value:function(){return this.gl.getShaderSource(this.handle)}},{key:"getTranslatedSource",value:function(){var t=this.gl.getExtension("WEBGL.debug_shaders");return t?t.getTranslatedShaderSource(this.handle):"No translated source available. WEBGL.debug_shaders not implemented"}},{key:"_compile",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:this.source;t.startsWith("#version ")||(t="#version 100\n".concat(t)),this.source=t,this.gl.shaderSource(this.handle,this.source),this.gl.compileShader(this.handle);var e=this.getParameter(35713);if(!e){var r=this.gl.getShaderInfoLog(this.handle),n=B(r,this.source,this.shaderType,this.id),a=n.shaderName,i=n.errors,o=n.warnings;throw v.g.error("GLSL compilation errors in ".concat(a,"\n").concat(i))(),v.g.warn("GLSL compilation warnings in ".concat(a,"\n").concat(o))(),new Error("GLSL compilation errors in ".concat(a))}}},{key:"_deleteHandle",value:function(){this.gl.deleteShader(this.handle)}},{key:"_getOptsFromHandle",value:function(){return{type:this.getParameter(35663),source:this.getSource()}}}]),e}(f.a),z=function(t){function e(t,r){return Object(a.a)(this,e),"string"==typeof r&&(r={source:r}),Object(o.a)(this,Object(s.a)(e).call(this,t,Object.assign({},r,{shaderType:35633})))}return Object(l.a)(e,t),Object(i.a)(e,[{key:"_createHandle",value:function(){return this.gl.createShader(35633)}}]),e}(V),H=function(t){function e(t,r){return Object(a.a)(this,e),"string"==typeof r&&(r={source:r}),Object(o.a)(this,Object(s.a)(e).call(this,t,Object.assign({},r,{shaderType:35632})))}return Object(l.a)(e,t),Object(i.a)(e,[{key:"_createHandle",value:function(){return this.gl.createShader(35632)}}]),e}(V),X=r("T2Hy"),W=r("oejM"),q=function(){function t(e){Object(a.a)(this,t),this.id=e.id,this.attributeInfos=[],this.attributeInfosByName={},this.attributeInfosByLocation=[],this.varyingInfos=[],this.varyingInfosByName={},Object.seal(this),this._readAttributesFromProgram(e),this._readVaryingsFromProgram(e)}return Object(i.a)(t,[{key:"getAttributeInfo",value:function(t){var e=Number(t);return Number.isFinite(e)?this.attributeInfosByLocation[e]:this.attributeInfosByName[t]||null}},{key:"getAttributeLocation",value:function(t){var e=this.getAttributeInfo(t);return e?e.location:-1}},{key:"getAttributeAccessor",value:function(t){var e=this.getAttributeInfo(t);return e?e.accessor:null}},{key:"getVaryingInfo",value:function(t){var e=Number(t);return Number.isFinite(e)?this.varyingInfos[e]:this.varyingInfosByName[t]||null}},{key:"getVaryingIndex",value:function(t){var e=this.getVaryingInfo();return e?e.location:-1}},{key:"getVaryingAccessor",value:function(t){var e=this.getVaryingInfo();return e?e.accessor:null}},{key:"_readAttributesFromProgram",value:function(t){for(var e=t.gl,r=e.getProgramParameter(t.handle,35721),n=0;n<r;n++){var a=e.getActiveAttrib(t.handle,n),i=a.name,o=a.type,u=a.size,s=e.getAttribLocation(t.handle,i);s>=0&&this._addAttribute(s,i,o,u)}this.attributeInfos.sort((function(t,e){return t.location-e.location}))}},{key:"_readVaryingsFromProgram",value:function(t){var e=t.gl;if(Object(v.f)(e)){for(var r=e.getProgramParameter(t.handle,35971),n=0;n<r;n++){var a=e.getTransformFeedbackVarying(t.handle,n),i=a.name,o=a.type,u=a.size;this._addVarying(n,i,o,u)}this.varyingInfos.sort((function(t,e){return t.location-e.location}))}}},{key:"_addAttribute",value:function(t,e,r,n){var a=Object(W.a)(r),i={type:a.type,size:n*a.components};this._inferProperties(t,e,i);var o={location:t,name:e,accessor:new X.a(i)};this.attributeInfos.push(o),this.attributeInfosByLocation[t]=o,this.attributeInfosByName[o.name]=o}},{key:"_inferProperties",value:function(t,e,r){/instance/i.test(e)&&(r.divisor=1)}},{key:"_addVarying",value:function(t,e,r,n){var a=Object(W.a)(r),i=a.type,o=a.components,u={location:t,name:e,accessor:new X.a({type:i,size:n*o})};this.varyingInfos.push(u),this.varyingInfosByName[u.name]=u}}]),t}(),Q=r("rnmN"),Y=["setVertexArray","setAttributes","setBuffers","unsetBuffers","use","getUniformCount","getUniformInfo","getUniformLocation","getUniformValue","getVarying","getFragDataLocation","getAttachedShaders","getAttributeCount","getAttributeLocation","getAttributeInfo"],J=function(t){function e(t){var r,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return Object(a.a)(this,e),(r=Object(o.a)(this,Object(s.a)(e).call(this,t,n))).stubRemovedMethods("Program","v6.0",Y),r._isCached=!1,r.initialize(n),Object.seal(Object(u.a)(r)),r._setId(n.id),r}return Object(l.a)(e,t),Object(i.a)(e,[{key:"initialize",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},e=t.hash,r=t.vs,n=t.fs,a=t.varyings,i=t.bufferMode,o=void 0===i?35981:i;return this.hash=e||"",this.vs="string"==typeof r?new z(this.gl,{id:"".concat(t.id,"-vs"),source:r}):r,this.fs="string"==typeof n?new H(this.gl,{id:"".concat(t.id,"-fs"),source:n}):n,Object(m.a)(this.vs instanceof z),Object(m.a)(this.fs instanceof H),this.uniforms={},this._textureUniforms={},this._texturesRenderable=!0,a&&a.length>0&&(Object(U.a)(this.gl),this.varyings=a,this.gl.transformFeedbackVaryings(this.handle,a,o)),this._compileAndLink(),this._readUniformLocationsFromLinkedProgram(),this.configuration=new q(this),this.setProps(t)}},{key:"delete",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return this._isCached?this:Object(c.a)(Object(s.a)(e.prototype),"delete",this).call(this,t)}},{key:"setProps",value:function(t){return"uniforms"in t&&this.setUniforms(t.uniforms),this}},{key:"draw",value:function(t){var e=this,r=t.logPriority,n=t.drawMode,a=void 0===n?4:n,i=t.vertexCount,o=t.offset,u=void 0===o?0:o,s=t.start,c=t.end,l=t.isIndexed,f=void 0!==l&&l,h=t.indexType,d=void 0===h?5123:h,b=t.instanceCount,g=void 0===b?0:b,y=t.isInstanced,p=void 0===y?g>0:y,O=t.vertexArray,j=void 0===O?null:O,_=t.transformFeedback,A=t.framebuffer,k=t.parameters,E=void 0===k?{}:k,x=t.uniforms,w=t.samplers;if((x||w)&&(v.g.deprecated("Program.draw({uniforms})","Program.setUniforms(uniforms)")(),this.setUniforms(x||{})),v.g.priority>=r){var T=A?A.id:"default",M="mode=".concat(Object(Q.a)(this.gl,a)," verts=").concat(i," ")+"instances=".concat(g," indexType=").concat(Object(Q.a)(this.gl,d)," ")+"isInstanced=".concat(p," isIndexed=").concat(f," ")+"Framebuffer=".concat(T);v.g.log(r,M)()}return Object(m.a)(j),this.gl.useProgram(this.handle),!(!this._areTexturesRenderable()||0===i||p&&0===g)&&(j.bindForDraw(i,g,(function(){if(void 0!==A&&(E=Object.assign({},E,{framebuffer:A})),_){var t=Object(W.c)(a);_.begin(t)}e._bindTextures(),Object(v.k)(e.gl,E,(function(){f&&p?e.gl.drawElementsInstanced(a,i,d,u,g):f&&Object(v.f)(e.gl)&&!isNaN(s)&&!isNaN(c)?e.gl.drawRangeElements(a,s,c,i,d,u):f?e.gl.drawElements(a,i,d,u):p?e.gl.drawArraysInstanced(a,u,i,g):e.gl.drawArrays(a,u,i)})),_&&_.end()})),!0)}},{key:"setUniforms",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};for(var e in v.g.priority>=2&&M(t,this.id,this._uniformSetters),this.gl.useProgram(this.handle),t){var r=t[e],n=this._uniformSetters[e];if(n){var a=r,i=!1;if(a instanceof d.a&&(a=a.texture),a instanceof h.a)if(i=this.uniforms[e]!==r){void 0===n.textureIndex&&(n.textureIndex=this._textureIndexCounter++);var o=a,u=n.textureIndex;o.bind(u),a=u,o.loaded||(this._texturesRenderable=!1),this._textureUniforms[e]=o}else a=n.textureIndex;else this._textureUniforms[e]&&delete this._textureUniforms[e];(n(a)||i)&&S(this.uniforms,e,r)}}return this}},{key:"_areTexturesRenderable",value:function(){if(this._texturesRenderable)return!0;for(var t in this._texturesRenderable=!0,this._textureUniforms){var e=this._textureUniforms[t];this._texturesRenderable=this._texturesRenderable&&e.loaded}return this._texturesRenderable}},{key:"_bindTextures",value:function(){for(var t in this._textureUniforms){var e=this._uniformSetters[t].textureIndex;this._textureUniforms[t].bind(e)}}},{key:"_createHandle",value:function(){return this.gl.createProgram()}},{key:"_deleteHandle",value:function(){this.gl.deleteProgram(this.handle)}},{key:"_getOptionsFromHandle",value:function(t){var e=this.gl.getAttachedShaders(t),r={},n=!0,a=!1,i=void 0;try{for(var o,u=e[Symbol.iterator]();!(n=(o=u.next()).done);n=!0){var s=o.value;switch(this.gl.getShaderParameter(this.handle,35663)){case 35633:r.vs=new z({handle:s});break;case 35632:r.fs=new H({handle:s})}}}catch(c){a=!0,i=c}finally{try{n||null==u.return||u.return()}finally{if(a)throw i}}return r}},{key:"_getParameter",value:function(t){return this.gl.getProgramParameter(this.handle,t)}},{key:"_setId",value:function(t){if(!t){var e=this._getName();this.id=Object(G.c)(e)}}},{key:"_getName",value:function(){var t=this.vs.getName()||this.fs.getName();return t=(t=t.replace(/shader/i,""))?"".concat(t,"-program"):"program"}},{key:"_compileAndLink",value:function(){var t=this.gl;if(t.attachShader(this.handle,this.vs.handle),t.attachShader(this.handle,this.fs.handle),v.g.time(4,"linkProgram for ".concat(this._getName()))(),t.linkProgram(this.handle),v.g.timeEnd(4,"linkProgram for ".concat(this._getName()))(),t.debug||v.g.level>0){if(!t.getProgramParameter(this.handle,35714))throw new Error("Error linking: ".concat(t.getProgramInfoLog(this.handle)));if(t.validateProgram(this.handle),!t.getProgramParameter(this.handle,35715))throw new Error("Error validating: ".concat(t.getProgramInfoLog(this.handle)))}}},{key:"_readUniformLocationsFromLinkedProgram",value:function(){var t=this.gl;this._uniformSetters={},this._uniformCount=this._getParameter(35718);for(var e=0;e<this._uniformCount;e++){var r=this.gl.getActiveUniform(this.handle,e),n=w(r.name),a=n.name,i=(n.isArray,t.getUniformLocation(this.handle,a));if(this._uniformSetters[a]=T(t,i,r),r.size>1)for(var o=0;o<r.size;o++)i=t.getUniformLocation(this.handle,"".concat(a,"[").concat(o,"]")),this._uniformSetters["".concat(a,"[").concat(o,"]")]=T(t,i,r)}this._textureIndexCounter=0}},{key:"getActiveUniforms",value:function(t,e){return this.gl.getActiveUniforms(this.handle,t,e)}},{key:"getUniformBlockIndex",value:function(t){return this.gl.getUniformBlockIndex(this.handle,t)}},{key:"getActiveUniformBlockParameter",value:function(t,e){return this.gl.getActiveUniformBlockParameter(this.handle,t,e)}},{key:"uniformBlockBinding",value:function(t,e){this.gl.uniformBlockBinding(this.handle,t,e)}}]),e}(f.a)},"Oz/4":function(t,e,r){"use strict";r.d(e,"a",(function(){return b}));var n=r("1OyB"),a=r("vuIU"),i=r("Ji7U"),o=r("md7G"),u=r("foSv"),s=r("sYR6"),c=r("a3TU"),l=r("+H0l"),f=r("ZxFD"),h=r("sSh/");function d(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(t){return!1}}();return function(){var r,n=Object(u.a)(t);if(e){var a=Object(u.a)(this).constructor;r=Reflect.construct(n,arguments,a)}else r=n.apply(this,arguments);return Object(o.a)(this,r)}}var b=function(t){Object(i.a)(r,t);var e=d(r);function r(){var t,a=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;return Object(n.a)(this,r),t=e.call(this,2),Object(c.e)(a)&&1===arguments.length?t.copy(a):(c.b.debug&&(Object(l.a)(a),Object(l.a)(i)),t[0]=a,t[1]=i),t}return Object(a.a)(r,[{key:"set",value:function(t,e){return this[0]=t,this[1]=e,this.check()}},{key:"copy",value:function(t){return this[0]=t[0],this[1]=t[1],this.check()}},{key:"fromObject",value:function(t){return c.b.debug&&(Object(l.a)(t.x),Object(l.a)(t.y)),this[0]=t.x,this[1]=t.y,this.check()}},{key:"toObject",value:function(t){return t.x=this[0],t.y=this[1],t}},{key:"horizontalAngle",value:function(){return Math.atan2(this.y,this.x)}},{key:"verticalAngle",value:function(){return Math.atan2(this.x,this.y)}},{key:"transform",value:function(t){return this.transformAsPoint(t)}},{key:"transformAsPoint",value:function(t){return f.j(this,this,t),this.check()}},{key:"transformAsVector",value:function(t){return Object(h.a)(this,this,t),this.check()}},{key:"transformByMatrix3",value:function(t){return f.i(this,this,t),this.check()}},{key:"transformByMatrix2x3",value:function(t){return f.h(this,this,t),this.check()}},{key:"transformByMatrix2",value:function(t){return f.g(this,this,t),this.check()}},{key:"ELEMENTS",get:function(){return 2}}]),r}(s.a)},P5C6:function(t,e,r){"use strict";r.d(e,"b",(function(){return c})),r.d(e,"a",(function(){return l}));var n,a,i=r("rePB"),o=r("g6k1"),u=function(t){return Object(o.h)(t)?void 0:0},s=(n={},Object(i.a)(n,3074,(function(t){return Object(o.h)(t)?void 0:36064})),Object(i.a)(n,35723,(function(t){return Object(o.h)(t)?void 0:4352})),Object(i.a)(n,35977,u),Object(i.a)(n,32937,u),Object(i.a)(n,36795,(function(t,e){var r=Object(o.h)(t)?t.getExtension("EXT_disjoint_timer_query_webgl2"):t.getExtension("EXT_disjoint_timer_query");return r&&r.GPU_DISJOINT_EXT?e(r.GPU_DISJOINT_EXT):0})),Object(i.a)(n,37445,(function(t,e){var r=t.getExtension("WEBGL_debug_renderer_info");return e(r&&r.UNMASKED_VENDOR_WEBGL||7936)})),Object(i.a)(n,37446,(function(t,e){var r=t.getExtension("WEBGL_debug_renderer_info");return e(r&&r.UNMASKED_RENDERER_WEBGL||7937)})),Object(i.a)(n,34047,(function(t,e){var r=t.luma.extensions.EXT_texture_filter_anisotropic;return r?e(r.MAX_TEXTURE_MAX_ANISOTROPY_EXT):1})),Object(i.a)(n,32883,u),Object(i.a)(n,35071,u),Object(i.a)(n,37447,u),Object(i.a)(n,36063,(function(t,e){if(!Object(o.h)(t)){var r=t.getExtension("WEBGL_draw_buffers");return r?e(r.MAX_COLOR_ATTACHMENTS_WEBGL):0}})),Object(i.a)(n,35379,u),Object(i.a)(n,35374,u),Object(i.a)(n,35377,u),Object(i.a)(n,34852,(function(t){if(!Object(o.h)(t)){var e=t.getExtension("WEBGL_draw_buffers");return e?e.MAX_DRAW_BUFFERS_WEBGL:0}})),Object(i.a)(n,36203,(function(t){return t.getExtension("OES_element_index")?2147483647:65535})),Object(i.a)(n,33001,(function(t){return t.getExtension("OES_element_index")?16777216:65535})),Object(i.a)(n,33e3,(function(t){return 16777216})),Object(i.a)(n,37157,u),Object(i.a)(n,35373,u),Object(i.a)(n,35657,u),Object(i.a)(n,36183,u),Object(i.a)(n,37137,u),Object(i.a)(n,34045,u),Object(i.a)(n,35978,u),Object(i.a)(n,35979,u),Object(i.a)(n,35968,u),Object(i.a)(n,35376,u),Object(i.a)(n,35375,u),Object(i.a)(n,35659,u),Object(i.a)(n,37154,u),Object(i.a)(n,35371,u),Object(i.a)(n,35658,u),Object(i.a)(n,35076,u),Object(i.a)(n,35077,u),Object(i.a)(n,35380,u),n);var c=(a={},Object(i.a)(a,"OES_vertex_array_object",{meta:{suffix:"OES"},createVertexArray:function(){Object(o.a)(!1,"VertexArray requires WebGL2 or OES_vertex_array_object extension")},deleteVertexArray:function(){},bindVertexArray:function(){},isVertexArray:function(){return!1}}),Object(i.a)(a,"ANGLE_instanced_arrays",{meta:{suffix:"ANGLE"},vertexAttribDivisor:function(t,e){Object(o.a)(0===e,"WebGL instanced rendering not supported")},drawElementsInstanced:function(){},drawArraysInstanced:function(){}}),Object(i.a)(a,"WEBGL_draw_buffers",{meta:{suffix:"WEBGL"},drawBuffers:function(){Object(o.a)(!1)}}),Object(i.a)(a,"EXT_disjoint_timer_query",{meta:{suffix:"EXT"},createQuery:function(){Object(o.a)(!1)},deleteQuery:function(){Object(o.a)(!1)},beginQuery:function(){Object(o.a)(!1)},endQuery:function(){},getQuery:function(t,e){return this.getQueryObject(t,e)},getQueryParameter:function(t,e){return this.getQueryObject(t,e)},getQueryObject:function(){}}),a),l={readBuffer:function(t,e,r){Object(o.h)(t)&&e(r)},getVertexAttrib:function(t,e,r,n){var a,i=function(t,e){return{webgl2:Object(o.h)(t),ext:t.getExtension(e)}}(t,"ANGLE_instanced_arrays"),u=i.webgl2,s=i.ext;switch(n){case 35069:a=!!u&&void 0;break;case 35070:a=u||s?void 0:0}return void 0!==a?a:e(r,n)},getProgramParameter:function(t,e,r,n){if(!Object(o.h)(t))switch(n){case 35967:return 35981;case 35971:case 35382:return 0}return e(r,n)},getInternalformatParameter:function(t,e,r,n,a){if(!Object(o.h)(t))switch(a){case 32937:return new Int32Array([0])}return t.getInternalformatParameter(r,n,a)},getTexParameter:function(t,e,r,n){switch(n){case 34046:var a=t.luma.extensions.EXT_texture_filter_anisotropic;n=a&&a.TEXTURE_MAX_ANISOTROPY_EXT||34046}return e(r,n)},getParameter:function(t,e,r){var n=s[r],a="function"==typeof n?n(t,e,r):n;return void 0!==a?a:e(r)},hint:function(t,e,r,n){return e(r,n)}}},QFcT:function(t,e,r){var n=r("I+eb"),a=Math.hypot,i=Math.abs,o=Math.sqrt;n({target:"Math",stat:!0,forced:!!a&&a(1/0,NaN)!==1/0},{hypot:function(t,e){for(var r,n,a=0,u=0,s=arguments.length,c=0;u<s;)c<(r=i(arguments[u++]))?(a=a*(n=c/r)*n+1,c=r):a+=r>0?(n=r/c)*n:r;return c===1/0?1/0:c*o(a)}})},QPTa:function(t,e,r){"use strict";var n="#if (defined(SHADER_TYPE_FRAGMENT) && defined(LIGHTING_FRAGMENT)) || (defined(SHADER_TYPE_VERTEX) && defined(LIGHTING_VERTEX))\n\nstruct AmbientLight {\n vec3 color;\n};\n\nstruct PointLight {\n vec3 color;\n vec3 position;\n vec3 attenuation;\n};\n\nstruct DirectionalLight {\n  vec3 color;\n  vec3 direction;\n};\n\nuniform AmbientLight lighting_uAmbientLight;\nuniform PointLight lighting_uPointLight[MAX_LIGHTS];\nuniform DirectionalLight lighting_uDirectionalLight[MAX_LIGHTS];\nuniform int lighting_uPointLightCount;\nuniform int lighting_uDirectionalLightCount;\n\nuniform bool lighting_uEnabled;\n\nfloat getPointLightAttenuation(PointLight pointLight, float distance) {\n  return pointLight.attenuation.x\n       + pointLight.attenuation.y * distance\n       + pointLight.attenuation.z * distance * distance;\n}\n\n#endif\n",a=(e.a={name:"lights",vs:n,fs:n,getUniforms:function t(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:a;if("lightSources"in e){var r=e.lightSources||{},n=r.ambientLight,i=r.pointLights,u=r.directionalLights,s=n||i&&i.length>0||u&&u.length>0;return s?Object.assign({},o({ambientLight:n,pointLights:i,directionalLights:u}),{lighting_uEnabled:!0}):{lighting_uEnabled:!1}}if("lights"in e){var c={pointLights:[],directionalLights:[]},l=!0,f=!1,h=void 0;try{for(var d,b=(e.lights||[])[Symbol.iterator]();!(l=(d=b.next()).done);l=!0){var v=d.value;switch(v.type){case"ambient":c.ambientLight=v;break;case"directional":c.directionalLights.push(v);break;case"point":c.pointLights.push(v)}}}catch(g){f=!0,h=g}finally{try{l||null==b.return||b.return()}finally{if(f)throw h}}return t({lightSources:c})}return{}},defines:{MAX_LIGHTS:3}},{});function i(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},e=t.color,r=void 0===e?[0,0,0]:e,n=t.intensity,a=void 0===n?1:n;return r.map((function(t){return t*a/255}))}function o(t){var e=t.ambientLight,r=t.pointLights,n=void 0===r?[]:r,a=t.directionalLights,o=void 0===a?[]:a,u={};return u["lighting_uAmbientLight.color"]=e?i(e):[0,0,0],n.forEach((function(t,e){u["lighting_uPointLight[".concat(e,"].color")]=i(t),u["lighting_uPointLight[".concat(e,"].position")]=t.position,u["lighting_uPointLight[".concat(e,"].attenuation")]=t.attenuation||[1,0,0]})),u.lighting_uPointLightCount=n.length,o.forEach((function(t,e){u["lighting_uDirectionalLight[".concat(e,"].color")]=i(t),u["lighting_uDirectionalLight[".concat(e,"].direction")]=t.direction})),u.lighting_uDirectionalLightCount=o.length,u}},ReuC:function(t,e,r){"use strict";r.d(e,"a",(function(){return a}));var n=r("foSv");function a(t,e,r){return(a="undefined"!=typeof Reflect&&Reflect.get?Reflect.get:function(t,e,r){var a=function(t,e){for(;!Object.prototype.hasOwnProperty.call(t,e)&&null!==(t=Object(n.a)(t)););return t}(t,e);if(a){var i=Object.getOwnPropertyDescriptor(a,e);return i.get?i.get.call(r):i.value}})(t,e,r||t)}},SUVH:function(t,e,r){"use strict";r.d(e,"b",(function(){return i})),r.d(e,"a",(function(){return o}));var n=r("CxzY"),a=r("iein");function i(t){Object(n.a)(Object(a.e)(t),"Invalid WebGLRenderingContext")}function o(t){Object(n.a)(Object(a.f)(t),"Requires WebGL2")}},T2Hy:function(t,e,r){"use strict";r.d(e,"a",(function(){return f}));var n=r("RHh3"),a=r("1OyB"),i=r("vuIU"),o=r("B9+J"),u=r("CxzY"),s=r("LE90"),c={offset:0,stride:0,type:5126,size:1,divisor:0,normalized:!1,integer:!1},l={deprecatedProps:{instanced:"divisor",isInstanced:"divisor"}},f=function(){function t(){var e=this;Object(a.a)(this,t);for(var r=arguments.length,n=new Array(r),i=0;i<r;i++)n[i]=arguments[i];n.forEach((function(t){return e._assign(t)})),Object.freeze(this)}return Object(i.a)(t,null,[{key:"getBytesPerElement",value:function(t){return Object(o.c)(t.type||5126).BYTES_PER_ELEMENT}},{key:"getBytesPerVertex",value:function(t){return Object(u.a)(t.size),Object(o.c)(t.type||5126).BYTES_PER_ELEMENT*t.size}},{key:"resolve",value:function(){for(var e=arguments.length,r=new Array(e),a=0;a<e;a++)r[a]=arguments[a];return Object(n.a)(t,[c].concat(r))}}]),Object(i.a)(t,[{key:"toString",value:function(){return JSON.stringify(this)}},{key:"_assign",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return void 0!==(t=Object(s.a)("Accessor",t,l)).type&&(this.type=t.type,5124!==t.type&&5125!==t.type||(this.integer=!0)),void 0!==t.size&&(this.size=t.size),void 0!==t.offset&&(this.offset=t.offset),void 0!==t.stride&&(this.stride=t.stride),void 0!==t.normalized&&(this.normalized=t.normalized),void 0!==t.integer&&(this.integer=t.integer),void 0!==t.divisor&&(this.divisor=t.divisor),void 0!==t.buffer&&(this.buffer=t.buffer),void 0!==t.index&&("boolean"==typeof index?this.index=t.index?1:0:this.index=t.index),void 0!==t.instanced&&(this.divisor=t.instanced?1:0),void 0!==t.isInstanced&&(this.divisor=t.isInstanced?1:0),this}},{key:"BYTES_PER_ELEMENT",get:function(){return t.getBytesPerElement(this)}},{key:"BYTES_PER_VERTEX",get:function(){return t.getBytesPerVertex(this)}}]),t}()},VdrS:function(t,e,r){"use strict";r.d(e,"c",(function(){return i})),r.d(e,"b",(function(){return o})),r.d(e,"a",(function(){return u}));var n=r("CxzY"),a={};function i(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"id";a[t]=a[t]||1;var e=a[t]++;return"".concat(t,"-").concat(e)}function o(t){return Object(n.a)("number"==typeof t,"Input must be a number"),t&&0==(t&t-1)}function u(t){var e=!0;for(var r in t){e=!1;break}return e}},VvNH:function(t,e,r){"use strict";(function(t){var n=r("a3TU"),a=r("Oz/4");r.d(e,"c",(function(){return a.a}));var i=r("zXfU");r.d(e,"d",(function(){return i.a}));var o=r("Nw31");r.d(e,"a",(function(){return o.a}));var u=r("Xjzu");r.d(e,"b",(function(){return u.a})),r.d(e,"f",(function(){return n.c})),r.d(e,"h",(function(){return n.g})),r.d(e,"e",(function(){return n.a})),r.d(e,"g",(function(){return n.f}));var s={self:"undefined"!=typeof self&&self,window:"undefined"!=typeof window&&window,global:void 0!==t&&t};(s.global||s.self||s.window).mathgl={config:n.b}}).call(this,r("yLpj"))},Xjzu:function(t,e,r){"use strict";r.d(e,"a",(function(){return F}));var n=r("1OyB"),a=r("vuIU"),i=r("Ji7U"),o=r("md7G"),u=r("foSv"),s=r("41X0"),c=r("+H0l"),l=r("tS8E"),f=r("yU0y"),h=r("HwUG"),d=r("n+fv"),b=r("bl9R");function v(){var t=new f.a(4);return f.a!=Float32Array&&(t[0]=0,t[1]=0,t[2]=0),t[3]=1,t}function g(t,e,r){r*=.5;var n=Math.sin(r);return t[0]=n*e[0],t[1]=n*e[1],t[2]=n*e[2],t[3]=Math.cos(r),t}function m(t,e,r){var n=e[0],a=e[1],i=e[2],o=e[3],u=r[0],s=r[1],c=r[2],l=r[3];return t[0]=n*l+o*u+a*c-i*s,t[1]=a*l+o*s+i*u-n*c,t[2]=i*l+o*c+n*s-a*u,t[3]=o*l-n*u-a*s-i*c,t}function y(t,e,r,n){var a,i,o,u,s,c=e[0],l=e[1],h=e[2],d=e[3],b=r[0],v=r[1],g=r[2],m=r[3];return(i=c*b+l*v+h*g+d*m)<0&&(i=-i,b=-b,v=-v,g=-g,m=-m),1-i>f.b?(a=Math.acos(i),o=Math.sin(a),u=Math.sin((1-n)*a)/o,s=Math.sin(n*a)/o):(u=1-n,s=n),t[0]=u*c+s*b,t[1]=u*l+s*v,t[2]=u*h+s*g,t[3]=u*d+s*m,t}function p(t,e){var r,n=e[0]+e[4]+e[8];if(n>0)r=Math.sqrt(n+1),t[3]=.5*r,r=.5/r,t[0]=(e[5]-e[7])*r,t[1]=(e[6]-e[2])*r,t[2]=(e[1]-e[3])*r;else{var a=0;e[4]>e[0]&&(a=1),e[8]>e[3*a+a]&&(a=2);var i=(a+1)%3,o=(a+2)%3;r=Math.sqrt(e[3*a+a]-e[3*i+i]-e[3*o+o]+1),t[a]=.5*r,r=.5/r,t[3]=(e[3*i+o]-e[3*o+i])*r,t[i]=(e[3*i+a]+e[3*a+i])*r,t[o]=(e[3*o+a]+e[3*a+o])*r}return t}b.b,b.g,b.c,b.l;var O,j,_,A,k,E,x=b.a,w=b.k,T=b.d,M=b.i,L=b.h,S=b.m,P=b.j,R=(b.f,b.e,O=d.b(),j=d.e(1,0,0),_=d.e(0,1,0),function(t,e,r){var n=d.d(e,r);return n<-.999999?(d.c(O,j,e),d.f(O)<1e-6&&d.c(O,_,e),d.i(O,O),g(t,O,Math.PI),t):n>.999999?(t[0]=0,t[1]=0,t[2]=0,t[3]=1,t):(d.c(O,e,r),t[0]=O[0],t[1]=O[1],t[2]=O[2],t[3]=1+n,P(t,t))});A=v(),k=v(),E=h.a();function I(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(t){return!1}}();return function(){var r,n=Object(u.a)(t);if(e){var a=Object(u.a)(this).constructor;r=Reflect.construct(n,arguments,a)}else r=n.apply(this,arguments);return Object(o.a)(this,r)}}var D=[0,0,0,1],F=function(t){Object(i.a)(r,t);var e=I(r);function r(){var t,a=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,o=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0,u=arguments.length>3&&void 0!==arguments[3]?arguments[3]:1;return Object(n.a)(this,r),t=e.call(this,-0,-0,-0,-0),Array.isArray(a)&&1===arguments.length?t.copy(a):t.set(a,i,o,u),t}return Object(a.a)(r,[{key:"copy",value:function(t){return this[0]=t[0],this[1]=t[1],this[2]=t[2],this[3]=t[3],this.check()}},{key:"set",value:function(t,e,r,n){return this[0]=t,this[1]=e,this[2]=r,this[3]=n,this.check()}},{key:"fromMatrix3",value:function(t){return p(this,t),this.check()}},{key:"identity",value:function(){var t;return(t=this)[0]=0,t[1]=0,t[2]=0,t[3]=1,this.check()}},{key:"fromAxisRotation",value:function(t,e){return g(this,t,e),this.check()}},{key:"setAxisAngle",value:function(t,e){return this.fromAxisRotation(t,e)}},{key:"len",value:function(){return L(this)}},{key:"lengthSquared",value:function(){return S(this)}},{key:"dot",value:function(t,e){if(void 0!==e)throw new Error("Quaternion.dot only takes one argument");return T(this,t)}},{key:"rotationTo",value:function(t,e){return R(this,t,e),this.check()}},{key:"add",value:function(t,e){if(void 0!==e)throw new Error("Quaternion.add only takes one argument");return x(this,this,t),this.check()}},{key:"calculateW",value:function(){var t,e,r,n,a;return t=this,r=(e=this)[0],n=e[1],a=e[2],t[0]=r,t[1]=n,t[2]=a,t[3]=Math.sqrt(Math.abs(1-r*r-n*n-a*a)),this.check()}},{key:"conjugate",value:function(){var t,e;return e=this,(t=this)[0]=-e[0],t[1]=-e[1],t[2]=-e[2],t[3]=e[3],this.check()}},{key:"invert",value:function(){var t,e,r,n,a,i,o,u;return t=this,r=(e=this)[0],n=e[1],a=e[2],i=e[3],u=(o=r*r+n*n+a*a+i*i)?1/o:0,t[0]=-r*u,t[1]=-n*u,t[2]=-a*u,t[3]=i*u,this.check()}},{key:"lerp",value:function(t,e,r){return M(this,t,e,r),this.check()}},{key:"multiplyRight",value:function(t,e){return Object(l.a)(!e),m(this,this,t),this.check()}},{key:"multiplyLeft",value:function(t,e){return Object(l.a)(!e),m(this,t,this),this.check()}},{key:"normalize",value:function(){var t=this.len(),e=t>0?1/t:0;return this[0]=this[0]*e,this[1]=this[1]*e,this[2]=this[2]*e,this[3]=this[3]*e,0===t&&(this[3]=1),this.check()}},{key:"rotateX",value:function(t){return function(t,e,r){r*=.5;var n=e[0],a=e[1],i=e[2],o=e[3],u=Math.sin(r),s=Math.cos(r);t[0]=n*s+o*u,t[1]=a*s+i*u,t[2]=i*s-a*u,t[3]=o*s-n*u}(this,this,t),this.check()}},{key:"rotateY",value:function(t){return function(t,e,r){r*=.5;var n=e[0],a=e[1],i=e[2],o=e[3],u=Math.sin(r),s=Math.cos(r);t[0]=n*s-i*u,t[1]=a*s+o*u,t[2]=i*s+n*u,t[3]=o*s-a*u}(this,this,t),this.check()}},{key:"rotateZ",value:function(t){return function(t,e,r){r*=.5;var n=e[0],a=e[1],i=e[2],o=e[3],u=Math.sin(r),s=Math.cos(r);t[0]=n*s+a*u,t[1]=a*s-n*u,t[2]=i*s+o*u,t[3]=o*s-i*u}(this,this,t),this.check()}},{key:"scale",value:function(t){return w(this,this,t),this.check()}},{key:"slerp",value:function(t,e,r){switch(arguments.length){case 1:var n=arguments[0],a=n.start;t=void 0===a?D:a,e=n.target,r=n.ratio;break;case 2:var i=Array.prototype.slice.call(arguments);e=i[0],r=i[1],t=this}return y(this,t,e,r),this.check()}},{key:"transformVector4",value:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:t;return b.o(e,t,this),Object(c.b)(e,4)}},{key:"lengthSq",value:function(){return this.lengthSquared()}},{key:"setFromAxisAngle",value:function(t,e){return this.setAxisAngle(t,e)}},{key:"premultiply",value:function(t,e){return this.multiplyLeft(t,e)}},{key:"multiply",value:function(t,e){return this.multiplyRight(t,e)}},{key:"ELEMENTS",get:function(){return 4}},{key:"x",get:function(){return this[0]},set:function(t){this[0]=Object(c.a)(t)}},{key:"y",get:function(){return this[1]},set:function(t){this[1]=Object(c.a)(t)}},{key:"z",get:function(){return this[2]},set:function(t){this[2]=Object(c.a)(t)}},{key:"w",get:function(){return this[3]},set:function(t){this[3]=Object(c.a)(t)}}]),r}(s.a)},ZaHm:function(t,e,r){"use strict";r.d(e,"q",(function(){return a})),r.d(e,"f",(function(){return i})),r.d(e,"a",(function(){return o})),r.d(e,"h",(function(){return u})),r.d(e,"p",(function(){return s})),r.d(e,"o",(function(){return c})),r.d(e,"k",(function(){return l})),r.d(e,"l",(function(){return f})),r.d(e,"m",(function(){return h})),r.d(e,"n",(function(){return d})),r.d(e,"e",(function(){return b})),r.d(e,"c",(function(){return v})),r.d(e,"d",(function(){return g})),r.d(e,"j",(function(){return m})),r.d(e,"i",(function(){return y})),r.d(e,"g",(function(){return p})),r.d(e,"b",(function(){return O}));r("QFcT");var n=r("yU0y");function a(t,e){if(t===e){var r=e[1],n=e[2],a=e[3],i=e[6],o=e[7],u=e[11];t[1]=e[4],t[2]=e[8],t[3]=e[12],t[4]=r,t[6]=e[9],t[7]=e[13],t[8]=n,t[9]=i,t[11]=e[14],t[12]=a,t[13]=o,t[14]=u}else t[0]=e[0],t[1]=e[4],t[2]=e[8],t[3]=e[12],t[4]=e[1],t[5]=e[5],t[6]=e[9],t[7]=e[13],t[8]=e[2],t[9]=e[6],t[10]=e[10],t[11]=e[14],t[12]=e[3],t[13]=e[7],t[14]=e[11],t[15]=e[15];return t}function i(t,e){var r=e[0],n=e[1],a=e[2],i=e[3],o=e[4],u=e[5],s=e[6],c=e[7],l=e[8],f=e[9],h=e[10],d=e[11],b=e[12],v=e[13],g=e[14],m=e[15],y=r*u-n*o,p=r*s-a*o,O=r*c-i*o,j=n*s-a*u,_=n*c-i*u,A=a*c-i*s,k=l*v-f*b,E=l*g-h*b,x=l*m-d*b,w=f*g-h*v,T=f*m-d*v,M=h*m-d*g,L=y*M-p*T+O*w+j*x-_*E+A*k;return L?(L=1/L,t[0]=(u*M-s*T+c*w)*L,t[1]=(a*T-n*M-i*w)*L,t[2]=(v*A-g*_+m*j)*L,t[3]=(h*_-f*A-d*j)*L,t[4]=(s*x-o*M-c*E)*L,t[5]=(r*M-a*x+i*E)*L,t[6]=(g*O-b*A-m*p)*L,t[7]=(l*A-h*O+d*p)*L,t[8]=(o*T-u*x+c*k)*L,t[9]=(n*x-r*T-i*k)*L,t[10]=(b*_-v*O+m*y)*L,t[11]=(f*O-l*_-d*y)*L,t[12]=(u*E-o*w-s*k)*L,t[13]=(r*w-n*E+a*k)*L,t[14]=(v*p-b*j-g*y)*L,t[15]=(l*j-f*p+h*y)*L,t):null}function o(t){var e=t[0],r=t[1],n=t[2],a=t[3],i=t[4],o=t[5],u=t[6],s=t[7],c=t[8],l=t[9],f=t[10],h=t[11],d=t[12],b=t[13],v=t[14],g=t[15];return(e*o-r*i)*(f*g-h*v)-(e*u-n*i)*(l*g-h*b)+(e*s-a*i)*(l*v-f*b)+(r*u-n*o)*(c*g-h*d)-(r*s-a*o)*(c*v-f*d)+(n*s-a*u)*(c*b-l*d)}function u(t,e,r){var n=e[0],a=e[1],i=e[2],o=e[3],u=e[4],s=e[5],c=e[6],l=e[7],f=e[8],h=e[9],d=e[10],b=e[11],v=e[12],g=e[13],m=e[14],y=e[15],p=r[0],O=r[1],j=r[2],_=r[3];return t[0]=p*n+O*u+j*f+_*v,t[1]=p*a+O*s+j*h+_*g,t[2]=p*i+O*c+j*d+_*m,t[3]=p*o+O*l+j*b+_*y,p=r[4],O=r[5],j=r[6],_=r[7],t[4]=p*n+O*u+j*f+_*v,t[5]=p*a+O*s+j*h+_*g,t[6]=p*i+O*c+j*d+_*m,t[7]=p*o+O*l+j*b+_*y,p=r[8],O=r[9],j=r[10],_=r[11],t[8]=p*n+O*u+j*f+_*v,t[9]=p*a+O*s+j*h+_*g,t[10]=p*i+O*c+j*d+_*m,t[11]=p*o+O*l+j*b+_*y,p=r[12],O=r[13],j=r[14],_=r[15],t[12]=p*n+O*u+j*f+_*v,t[13]=p*a+O*s+j*h+_*g,t[14]=p*i+O*c+j*d+_*m,t[15]=p*o+O*l+j*b+_*y,t}function s(t,e,r){var n,a,i,o,u,s,c,l,f,h,d,b,v=r[0],g=r[1],m=r[2];return e===t?(t[12]=e[0]*v+e[4]*g+e[8]*m+e[12],t[13]=e[1]*v+e[5]*g+e[9]*m+e[13],t[14]=e[2]*v+e[6]*g+e[10]*m+e[14],t[15]=e[3]*v+e[7]*g+e[11]*m+e[15]):(n=e[0],a=e[1],i=e[2],o=e[3],u=e[4],s=e[5],c=e[6],l=e[7],f=e[8],h=e[9],d=e[10],b=e[11],t[0]=n,t[1]=a,t[2]=i,t[3]=o,t[4]=u,t[5]=s,t[6]=c,t[7]=l,t[8]=f,t[9]=h,t[10]=d,t[11]=b,t[12]=n*v+u*g+f*m+e[12],t[13]=a*v+s*g+h*m+e[13],t[14]=i*v+c*g+d*m+e[14],t[15]=o*v+l*g+b*m+e[15]),t}function c(t,e,r){var n=r[0],a=r[1],i=r[2];return t[0]=e[0]*n,t[1]=e[1]*n,t[2]=e[2]*n,t[3]=e[3]*n,t[4]=e[4]*a,t[5]=e[5]*a,t[6]=e[6]*a,t[7]=e[7]*a,t[8]=e[8]*i,t[9]=e[9]*i,t[10]=e[10]*i,t[11]=e[11]*i,t[12]=e[12],t[13]=e[13],t[14]=e[14],t[15]=e[15],t}function l(t,e,r,a){var i,o,u,s,c,l,f,h,d,b,v,g,m,y,p,O,j,_,A,k,E,x,w,T,M=a[0],L=a[1],S=a[2],P=Math.hypot(M,L,S);return P<n.b?null:(M*=P=1/P,L*=P,S*=P,i=Math.sin(r),u=1-(o=Math.cos(r)),s=e[0],c=e[1],l=e[2],f=e[3],h=e[4],d=e[5],b=e[6],v=e[7],g=e[8],m=e[9],y=e[10],p=e[11],O=M*M*u+o,j=L*M*u+S*i,_=S*M*u-L*i,A=M*L*u-S*i,k=L*L*u+o,E=S*L*u+M*i,x=M*S*u+L*i,w=L*S*u-M*i,T=S*S*u+o,t[0]=s*O+h*j+g*_,t[1]=c*O+d*j+m*_,t[2]=l*O+b*j+y*_,t[3]=f*O+v*j+p*_,t[4]=s*A+h*k+g*E,t[5]=c*A+d*k+m*E,t[6]=l*A+b*k+y*E,t[7]=f*A+v*k+p*E,t[8]=s*x+h*w+g*T,t[9]=c*x+d*w+m*T,t[10]=l*x+b*w+y*T,t[11]=f*x+v*w+p*T,e!==t&&(t[12]=e[12],t[13]=e[13],t[14]=e[14],t[15]=e[15]),t)}function f(t,e,r){var n=Math.sin(r),a=Math.cos(r),i=e[4],o=e[5],u=e[6],s=e[7],c=e[8],l=e[9],f=e[10],h=e[11];return e!==t&&(t[0]=e[0],t[1]=e[1],t[2]=e[2],t[3]=e[3],t[12]=e[12],t[13]=e[13],t[14]=e[14],t[15]=e[15]),t[4]=i*a+c*n,t[5]=o*a+l*n,t[6]=u*a+f*n,t[7]=s*a+h*n,t[8]=c*a-i*n,t[9]=l*a-o*n,t[10]=f*a-u*n,t[11]=h*a-s*n,t}function h(t,e,r){var n=Math.sin(r),a=Math.cos(r),i=e[0],o=e[1],u=e[2],s=e[3],c=e[8],l=e[9],f=e[10],h=e[11];return e!==t&&(t[4]=e[4],t[5]=e[5],t[6]=e[6],t[7]=e[7],t[12]=e[12],t[13]=e[13],t[14]=e[14],t[15]=e[15]),t[0]=i*a-c*n,t[1]=o*a-l*n,t[2]=u*a-f*n,t[3]=s*a-h*n,t[8]=i*n+c*a,t[9]=o*n+l*a,t[10]=u*n+f*a,t[11]=s*n+h*a,t}function d(t,e,r){var n=Math.sin(r),a=Math.cos(r),i=e[0],o=e[1],u=e[2],s=e[3],c=e[4],l=e[5],f=e[6],h=e[7];return e!==t&&(t[8]=e[8],t[9]=e[9],t[10]=e[10],t[11]=e[11],t[12]=e[12],t[13]=e[13],t[14]=e[14],t[15]=e[15]),t[0]=i*a+c*n,t[1]=o*a+l*n,t[2]=u*a+f*n,t[3]=s*a+h*n,t[4]=c*a-i*n,t[5]=l*a-o*n,t[6]=f*a-u*n,t[7]=h*a-s*n,t}function b(t,e){var r=e[0],n=e[1],a=e[2],i=e[4],o=e[5],u=e[6],s=e[8],c=e[9],l=e[10];return t[0]=Math.hypot(r,n,a),t[1]=Math.hypot(i,o,u),t[2]=Math.hypot(s,c,l),t}function v(t,e){var r=e[0],n=e[1],a=e[2],i=e[3],o=r+r,u=n+n,s=a+a,c=r*o,l=n*o,f=n*u,h=a*o,d=a*u,b=a*s,v=i*o,g=i*u,m=i*s;return t[0]=1-f-b,t[1]=l+m,t[2]=h-g,t[3]=0,t[4]=l-m,t[5]=1-c-b,t[6]=d+v,t[7]=0,t[8]=h+g,t[9]=d-v,t[10]=1-c-f,t[11]=0,t[12]=0,t[13]=0,t[14]=0,t[15]=1,t}function g(t,e,r,n,a,i,o){var u=1/(r-e),s=1/(a-n),c=1/(i-o);return t[0]=2*i*u,t[1]=0,t[2]=0,t[3]=0,t[4]=0,t[5]=2*i*s,t[6]=0,t[7]=0,t[8]=(r+e)*u,t[9]=(a+n)*s,t[10]=(o+i)*c,t[11]=-1,t[12]=0,t[13]=0,t[14]=o*i*2*c,t[15]=0,t}function m(t,e,r,n,a){var i,o=1/Math.tan(e/2);return t[0]=o/r,t[1]=0,t[2]=0,t[3]=0,t[4]=0,t[5]=o,t[6]=0,t[7]=0,t[8]=0,t[9]=0,t[11]=-1,t[12]=0,t[13]=0,t[15]=0,null!=a&&a!==1/0?(i=1/(n-a),t[10]=(a+n)*i,t[14]=2*a*n*i):(t[10]=-1,t[14]=-2*n),t}function y(t,e,r,n,a,i,o){var u=1/(e-r),s=1/(n-a),c=1/(i-o);return t[0]=-2*u,t[1]=0,t[2]=0,t[3]=0,t[4]=0,t[5]=-2*s,t[6]=0,t[7]=0,t[8]=0,t[9]=0,t[10]=2*c,t[11]=0,t[12]=(e+r)*u,t[13]=(a+n)*s,t[14]=(o+i)*c,t[15]=1,t}function p(t,e,r,a){var i,o,u,s,c,l,f,h,d,b,v=e[0],g=e[1],m=e[2],y=a[0],p=a[1],O=a[2],j=r[0],_=r[1],A=r[2];return Math.abs(v-j)<n.b&&Math.abs(g-_)<n.b&&Math.abs(m-A)<n.b?function(t){return t[0]=1,t[1]=0,t[2]=0,t[3]=0,t[4]=0,t[5]=1,t[6]=0,t[7]=0,t[8]=0,t[9]=0,t[10]=1,t[11]=0,t[12]=0,t[13]=0,t[14]=0,t[15]=1,t}(t):(f=v-j,h=g-_,d=m-A,i=p*(d*=b=1/Math.hypot(f,h,d))-O*(h*=b),o=O*(f*=b)-y*d,u=y*h-p*f,(b=Math.hypot(i,o,u))?(i*=b=1/b,o*=b,u*=b):(i=0,o=0,u=0),s=h*u-d*o,c=d*i-f*u,l=f*o-h*i,(b=Math.hypot(s,c,l))?(s*=b=1/b,c*=b,l*=b):(s=0,c=0,l=0),t[0]=i,t[1]=s,t[2]=f,t[3]=0,t[4]=o,t[5]=c,t[6]=h,t[7]=0,t[8]=u,t[9]=l,t[10]=d,t[11]=0,t[12]=-(i*v+o*g+u*m),t[13]=-(s*v+c*g+l*m),t[14]=-(f*v+h*g+d*m),t[15]=1,t)}function O(t,e){var r=t[0],a=t[1],i=t[2],o=t[3],u=t[4],s=t[5],c=t[6],l=t[7],f=t[8],h=t[9],d=t[10],b=t[11],v=t[12],g=t[13],m=t[14],y=t[15],p=e[0],O=e[1],j=e[2],_=e[3],A=e[4],k=e[5],E=e[6],x=e[7],w=e[8],T=e[9],M=e[10],L=e[11],S=e[12],P=e[13],R=e[14],I=e[15];return Math.abs(r-p)<=n.b*Math.max(1,Math.abs(r),Math.abs(p))&&Math.abs(a-O)<=n.b*Math.max(1,Math.abs(a),Math.abs(O))&&Math.abs(i-j)<=n.b*Math.max(1,Math.abs(i),Math.abs(j))&&Math.abs(o-_)<=n.b*Math.max(1,Math.abs(o),Math.abs(_))&&Math.abs(u-A)<=n.b*Math.max(1,Math.abs(u),Math.abs(A))&&Math.abs(s-k)<=n.b*Math.max(1,Math.abs(s),Math.abs(k))&&Math.abs(c-E)<=n.b*Math.max(1,Math.abs(c),Math.abs(E))&&Math.abs(l-x)<=n.b*Math.max(1,Math.abs(l),Math.abs(x))&&Math.abs(f-w)<=n.b*Math.max(1,Math.abs(f),Math.abs(w))&&Math.abs(h-T)<=n.b*Math.max(1,Math.abs(h),Math.abs(T))&&Math.abs(d-M)<=n.b*Math.max(1,Math.abs(d),Math.abs(M))&&Math.abs(b-L)<=n.b*Math.max(1,Math.abs(b),Math.abs(L))&&Math.abs(v-S)<=n.b*Math.max(1,Math.abs(v),Math.abs(S))&&Math.abs(g-P)<=n.b*Math.max(1,Math.abs(g),Math.abs(P))&&Math.abs(m-R)<=n.b*Math.max(1,Math.abs(m),Math.abs(R))&&Math.abs(y-I)<=n.b*Math.max(1,Math.abs(y),Math.abs(I))}},ZxFD:function(t,e,r){"use strict";r.d(e,"a",(function(){return a})),r.d(e,"e",(function(){return i})),r.d(e,"b",(function(){return o})),r.d(e,"d",(function(){return u})),r.d(e,"c",(function(){return s})),r.d(e,"g",(function(){return c})),r.d(e,"h",(function(){return l})),r.d(e,"i",(function(){return f})),r.d(e,"j",(function(){return h})),r.d(e,"f",(function(){return v}));r("QFcT");var n=r("yU0y");function a(t,e,r){return t[0]=e[0]+r[0],t[1]=e[1]+r[1],t}function i(t,e,r){return t[0]=e[0]*r,t[1]=e[1]*r,t}function o(t){var e=t[0],r=t[1];return Math.hypot(e,r)}function u(t,e){return t[0]=-e[0],t[1]=-e[1],t}function s(t,e,r,n){var a=e[0],i=e[1];return t[0]=a+n*(r[0]-a),t[1]=i+n*(r[1]-i),t}function c(t,e,r){var n=e[0],a=e[1];return t[0]=r[0]*n+r[2]*a,t[1]=r[1]*n+r[3]*a,t}function l(t,e,r){var n=e[0],a=e[1];return t[0]=r[0]*n+r[2]*a+r[4],t[1]=r[1]*n+r[3]*a+r[5],t}function f(t,e,r){var n=e[0],a=e[1];return t[0]=r[0]*n+r[3]*a+r[6],t[1]=r[1]*n+r[4]*a+r[7],t}function h(t,e,r){var n=e[0],a=e[1];return t[0]=r[0]*n+r[4]*a+r[12],t[1]=r[1]*n+r[5]*a+r[13],t}var d,b,v=function(t,e,r){return t[0]=e[0]-r[0],t[1]=e[1]-r[1],t};d=new n.a(2),n.a!=Float32Array&&(d[0]=0,d[1]=0),b=d},a3TU:function(t,e,r){"use strict";r.d(e,"b",(function(){return i})),r.d(e,"d",(function(){return u})),r.d(e,"e",(function(){return s})),r.d(e,"i",(function(){return l})),r.d(e,"h",(function(){return f})),r.d(e,"g",(function(){return h})),r.d(e,"a",(function(){return d})),r.d(e,"f",(function(){return b})),r.d(e,"c",(function(){return v}));r("U8pU"),r("RHh3"),r("KQm4"),r("tS8E");var n=1/Math.PI*180,a=1/180*Math.PI,i={};function o(t){return Math.round(t/i.EPSILON)*i.EPSILON}function u(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},r=e.precision,n=void 0===r?i.precision||4:r;return t=o(t),"".concat(parseFloat(t.toPrecision(n)))}function s(t){return Array.isArray(t)||ArrayBuffer.isView(t)&&!(t instanceof DataView)}function c(t,e,r){if(s(t)){r=r||((a=t).clone?a.clone():new Array(a.length));for(var n=0;n<r.length&&n<t.length;++n)r[n]=e(t[n],n,r);return r}var a;return e(t)}function l(t){return h(t)}function f(t){return function(t,e){return c(t,(function(t){return t*n}),e)}(t)}function h(t,e){return c(t,(function(t){return t*a}),e)}function d(t,e,r){return c(t,(function(t){return Math.max(e,Math.min(r,t))}))}function b(t,e,r){return s(t)?t.map((function(t,n){return b(t,e[n],r)})):r*e+(1-r)*t}function v(t,e,r){var n=i.EPSILON;r&&(i.EPSILON=r);try{if(t===e)return!0;if(s(t)&&s(e)){if(t.length!==e.length)return!1;for(var a=0;a<t.length;++a)if(!v(t[a],e[a]))return!1;return!0}return t&&t.equals?t.equals(e):e&&e.equals?e.equals(t):!(!Number.isFinite(t)||!Number.isFinite(e))&&Math.abs(t-e)<=i.EPSILON*Math.max(1,Math.abs(t),Math.abs(e))}finally{i.EPSILON=n}}i.EPSILON=1e-12,i.debug=!1,i.precision=4,i.printTypes=!1,i.printDegrees=!1,i.printRowMajor=!0},bl9R:function(t,e,r){"use strict";r.d(e,"b",(function(){return a})),r.d(e,"g",(function(){return i})),r.d(e,"c",(function(){return o})),r.d(e,"l",(function(){return u})),r.d(e,"a",(function(){return s})),r.d(e,"k",(function(){return c})),r.d(e,"h",(function(){return l})),r.d(e,"m",(function(){return f})),r.d(e,"j",(function(){return h})),r.d(e,"d",(function(){return d})),r.d(e,"i",(function(){return b})),r.d(e,"n",(function(){return v})),r.d(e,"o",(function(){return g})),r.d(e,"f",(function(){return m})),r.d(e,"e",(function(){return y}));r("QFcT");var n=r("yU0y");function a(t){var e=new n.a(4);return e[0]=t[0],e[1]=t[1],e[2]=t[2],e[3]=t[3],e}function i(t,e,r,a){var i=new n.a(4);return i[0]=t,i[1]=e,i[2]=r,i[3]=a,i}function o(t,e){return t[0]=e[0],t[1]=e[1],t[2]=e[2],t[3]=e[3],t}function u(t,e,r,n,a){return t[0]=e,t[1]=r,t[2]=n,t[3]=a,t}function s(t,e,r){return t[0]=e[0]+r[0],t[1]=e[1]+r[1],t[2]=e[2]+r[2],t[3]=e[3]+r[3],t}function c(t,e,r){return t[0]=e[0]*r,t[1]=e[1]*r,t[2]=e[2]*r,t[3]=e[3]*r,t}function l(t){var e=t[0],r=t[1],n=t[2],a=t[3];return Math.hypot(e,r,n,a)}function f(t){var e=t[0],r=t[1],n=t[2],a=t[3];return e*e+r*r+n*n+a*a}function h(t,e){var r=e[0],n=e[1],a=e[2],i=e[3],o=r*r+n*n+a*a+i*i;return o>0&&(o=1/Math.sqrt(o)),t[0]=r*o,t[1]=n*o,t[2]=a*o,t[3]=i*o,t}function d(t,e){return t[0]*e[0]+t[1]*e[1]+t[2]*e[2]+t[3]*e[3]}function b(t,e,r,n){var a=e[0],i=e[1],o=e[2],u=e[3];return t[0]=a+n*(r[0]-a),t[1]=i+n*(r[1]-i),t[2]=o+n*(r[2]-o),t[3]=u+n*(r[3]-u),t}function v(t,e,r){var n=e[0],a=e[1],i=e[2],o=e[3];return t[0]=r[0]*n+r[4]*a+r[8]*i+r[12]*o,t[1]=r[1]*n+r[5]*a+r[9]*i+r[13]*o,t[2]=r[2]*n+r[6]*a+r[10]*i+r[14]*o,t[3]=r[3]*n+r[7]*a+r[11]*i+r[15]*o,t}function g(t,e,r){var n=e[0],a=e[1],i=e[2],o=r[0],u=r[1],s=r[2],c=r[3],l=c*n+u*i-s*a,f=c*a+s*n-o*i,h=c*i+o*a-u*n,d=-o*n-u*a-s*i;return t[0]=l*c+d*-o+f*-s-h*-u,t[1]=f*c+d*-u+h*-o-l*-s,t[2]=h*c+d*-s+l*-u-f*-o,t[3]=e[3],t}function m(t,e){return t[0]===e[0]&&t[1]===e[1]&&t[2]===e[2]&&t[3]===e[3]}function y(t,e){var r=t[0],a=t[1],i=t[2],o=t[3],u=e[0],s=e[1],c=e[2],l=e[3];return Math.abs(r-u)<=n.b*Math.max(1,Math.abs(r),Math.abs(u))&&Math.abs(a-s)<=n.b*Math.max(1,Math.abs(a),Math.abs(s))&&Math.abs(i-c)<=n.b*Math.max(1,Math.abs(i),Math.abs(c))&&Math.abs(o-l)<=n.b*Math.max(1,Math.abs(o),Math.abs(l))}var p,O;p=new n.a(4),n.a!=Float32Array&&(p[0]=0,p[1]=0,p[2]=0,p[3]=0),O=p},bphH:function(t,e,r){"use strict";r.d(e,"a",(function(){return b}));var n=r("1OyB"),a=r("md7G"),i=r("foSv"),o=r("JX7q"),u=r("vuIU"),s=r("Ji7U"),c=r("iein"),l=r("L8KH"),f=r("sc/6"),h=r("SUVH"),d=r("VdrS"),b=function(t){function e(t){var r,u=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return Object(n.a)(this,e),Object(h.a)(t),(r=Object(a.a)(this,Object(i.a)(e).call(this,t,u))).initialize(u),r.stubRemovedMethods("TransformFeedback","v6.0",["pause","resume"]),Object.seal(Object(o.a)(r)),r}return Object(s.a)(e,t),Object(u.a)(e,null,[{key:"isSupported",value:function(t){return Object(c.f)(t)}}]),Object(u.a)(e,[{key:"initialize",value:function(){var t=this,e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return this.buffers={},this.unused={},this.configuration=null,this.bindOnUse=!0,Object(d.a)(this.buffers)||this.bind((function(){return t._unbindBuffers()})),this.setProps(e),this}},{key:"setProps",value:function(t){"program"in t&&(this.configuration=t.program&&t.program.configuration),"configuration"in t&&(this.configuration=t.configuration),"bindOnUse"in t&&(t=t.bindOnUse),"buffers"in t&&this.setBuffers(t.buffers)}},{key:"setBuffers",value:function(){var t=this,e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return this.bind((function(){for(var r in e)t.setBuffer(r,e[r])})),this}},{key:"setBuffer",value:function(t,e){var r=this,n=this._getVaryingIndex(t),a=this._getBufferParams(e),i=a.buffer,o=a.byteSize,u=a.byteOffset;return n<0?(this.unused[t]=i,c.g.warn((function(){return"".concat(r.id," unused varying buffer ").concat(t)}))(),this):(this.buffers[n]=e,this.bindOnUse||this._bindBuffer(n,i,u,o),this)}},{key:"begin",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0;return this.gl.bindTransformFeedback(36386,this.handle),this._bindBuffers(),this.gl.beginTransformFeedback(t),this}},{key:"end",value:function(){return this.gl.endTransformFeedback(),this._unbindBuffers(),this.gl.bindTransformFeedback(36386,null),this}},{key:"_getBufferParams",value:function(t){var e,r,n;return t instanceof f.a==!1?(n=t.buffer,r=t.byteSize,e=t.byteOffset):n=t,void 0===e&&void 0===r||(e=e||0,r=r||n.byteLength-e),{buffer:n,byteOffset:e,byteSize:r}}},{key:"_getVaryingInfo",value:function(t){return this.configuration&&this.configuration.getVaryingInfo(t)}},{key:"_getVaryingIndex",value:function(t){if(this.configuration)return this.configuration.getVaryingInfo(t).location;var e=Number(t);return Number.isFinite(e)?e:-1}},{key:"_bindBuffers",value:function(){if(this.bindOnUse)for(var t in this.buffers){var e=this._getBufferParams(this.buffers[t]),r=e.buffer,n=e.byteSize,a=e.byteOffset;this._bindBuffer(t,r,a,n)}}},{key:"_unbindBuffers",value:function(){if(this.bindOnUse)for(var t in this.buffers)this._bindBuffer(t,null)}},{key:"_bindBuffer",value:function(t,e){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0,n=arguments.length>3?arguments[3]:void 0,a=e&&e.handle;return a&&void 0!==n?this.gl.bindBufferRange(35982,t,a,r,n):this.gl.bindBufferBase(35982,t,a),this}},{key:"_createHandle",value:function(){return this.gl.createTransformFeedback()}},{key:"_deleteHandle",value:function(){this.gl.deleteTransformFeedback(this.handle)}},{key:"_bindHandle",value:function(t){this.gl.bindTransformFeedback(36386,this.handle)}}]),e}(l.a)},c9N0:function(t,e,r){"use strict";var n=r("VvNH");r.d(e,"a",(function(){return n.a})),r.d(e,"b",(function(){return n.b})),r.d(e,"c",(function(){return n.c})),r.d(e,"d",(function(){return n.d})),r.d(e,"e",(function(){return n.e})),r.d(e,"f",(function(){return n.f})),r.d(e,"g",(function(){return n.g})),r.d(e,"h",(function(){return n.h}))},d3kR:function(t,e,r){"use strict";r.d(e,"b",(function(){return o})),r.d(e,"c",(function(){return u})),r.d(e,"a",(function(){return s}));var n=r("tMmZ"),a=r("iein"),i=r("CxzY");function o(t,e){return u(t,e)}function u(t,e){return(e=Array.isArray(e)?e:[e]).every((function(e){return c(t,e)}))}function s(t){for(var e in t.luma=t.luma||{},t.luma.caps=t.luma.caps||{},n.b)void 0===t.luma.caps[e]&&(t.luma.caps[e]=c(t,e));return t.luma.caps}function c(t,e){return t.luma=t.luma||{},t.luma.caps=t.luma.caps||{},void 0===t.luma.caps[e]&&(t.luma.caps[e]=function(t,e){var r,o=n.b[e];Object(i.a)(o,e);var u=Object(a.f)(t)&&o[1]||o[0];if("function"==typeof u)r=u(t);else if(Array.isArray(u)){r=!0;var s=!0,c=!1,l=void 0;try{for(var f,h=u[Symbol.iterator]();!(s=(f=h.next()).done);s=!0){var d=f.value;r=r&&Boolean(t.getExtension(d))}}catch(b){c=!0,l=b}finally{try{s||null==h.return||h.return()}finally{if(c)throw l}}}else"string"==typeof u?r=Boolean(t.getExtension(u)):"boolean"==typeof u?r=u:Object(i.a)(!1);return r}(t,e)),t.luma.caps[e]||a.g.log(2,"Feature: ".concat(e," not supported"))(),t.luma.caps[e]}},f5Sf:function(t,e,r){"use strict";r.d(e,"a",(function(){return b}));var n=r("1OyB"),a=r("md7G"),i=r("foSv"),o=r("JX7q"),u=r("vuIU"),s=r("Ji7U"),c=r("l6PP"),l=r("SUVH"),f=r("CxzY"),h="";function d(t,e){return Object(f.a)("string"==typeof t),t=h+t,new Promise((function(r,n){try{var a=new Image;a.onload=function(){return r(a)},a.onerror=function(){return n(new Error("Could not load image ".concat(t,".")))},a.crossOrigin=e&&e.crossOrigin||"anonymous",a.src=t}catch(i){n(i)}}))}var b=function(t){function e(t){var r,u=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return Object(n.a)(this,e),Object(l.b)(t),(u instanceof Promise||"string"==typeof u)&&(u={data:u}),"string"==typeof u.data&&(u=Object.assign({},u,{data:d(u.data)})),(r=Object(a.a)(this,Object(i.a)(e).call(this,t,Object.assign({},u,{target:3553})))).initialize(u),Object.seal(Object(o.a)(r)),r}return Object(s.a)(e,t),Object(u.a)(e,null,[{key:"isSupported",value:function(t,e){return c.a.isSupported(t,e)}}]),e}(c.a)},fxzv:function(t,e,r){"use strict";r.d(e,"a",(function(){return h}));var n=r("1OyB"),a=r("vuIU"),i=r("Ji7U"),o=r("md7G"),u=r("foSv"),s=r("41X0"),c=r("+H0l"),l=r("a3TU");function f(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(t){return!1}}();return function(){var r,n=Object(u.a)(t);if(e){var a=Object(u.a)(this).constructor;r=Reflect.construct(n,arguments,a)}else r=n.apply(this,arguments);return Object(o.a)(this,r)}}var h=function(t){Object(i.a)(r,t);var e=f(r);function r(){return Object(n.a)(this,r),e.apply(this,arguments)}return Object(a.a)(r,[{key:"toString",value:function(){var t="[";if(l.b.printRowMajor){t+="row-major:";for(var e=0;e<this.RANK;++e)for(var r=0;r<this.RANK;++r)t+=" ".concat(this[r*this.RANK+e])}else{t+="column-major:";for(var n=0;n<this.ELEMENTS;++n)t+=" ".concat(this[n])}return t+="]"}},{key:"getElementIndex",value:function(t,e){return e*this.RANK+t}},{key:"getElement",value:function(t,e){return this[e*this.RANK+t]}},{key:"setElement",value:function(t,e,r){return this[e*this.RANK+t]=Object(c.a)(r),this}},{key:"getColumn",value:function(t){for(var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:new Array(this.RANK).fill(-0),r=t*this.RANK,n=0;n<this.RANK;++n)e[n]=this[r+n];return e}},{key:"setColumn",value:function(t,e){for(var r=t*this.RANK,n=0;n<this.RANK;++n)this[r+n]=e[n];return this}}]),r}(s.a)},g6k1:function(t,e,r){"use strict";r.d(e,"a",(function(){return a})),r.d(e,"d",(function(){return o})),r.d(e,"f",(function(){return i})),r.d(e,"b",(function(){return s})),r.d(e,"c",(function(){return u})),r.d(e,"e",(function(){return c})),r.d(e,"g",(function(){return d})),r.d(e,"h",(function(){return b})),r.d(e,"i",(function(){return v}));var n=r("d3wX");function a(t,e){if(!t)throw new Error(e||"luma.gl: assertion failed.")}function i(t){for(var e in t)return!1;return!0}function o(t,e){if(t===e)return!0;var r=Array.isArray(t)||ArrayBuffer.isView(t),n=Array.isArray(e)||ArrayBuffer.isView(e);if(r&&n&&t.length===e.length){for(var a=0;a<t.length;++a)if(t[a]!==e[a])return!1;return!0}return!1}function u(t){if(t.canvas&&t.luma){var e=t.luma.canvasSizeInfo.clientWidth;return e?t.drawingBufferWidth/e:1}return 1}function s(t,e){var r=!(arguments.length>2&&void 0!==arguments[2])||arguments[2],n=u(t),a=t.drawingBufferWidth,i=t.drawingBufferHeight;return l(e,n,a,i,r)}function c(t){var e="undefined"==typeof window?1:window.devicePixelRatio||1;return Number.isFinite(t)?t<=0?1:t:t?e:1}function l(t,e,r,n,a){var i,o=f(t[0],e,r),u=h(t[1],e,n,a),s=f(t[0]+1,e,r),c=s===r-1?s:s-1;return s=h(t[1]+1,e,n,a),a?(i=u,u=s=0===s?s:s+1):i=s===n-1?s:s-1,{x:o,y:u,width:Math.max(c-o+1,1),height:Math.max(i-u+1,1)}}function f(t,e,r){return Math.min(Math.round(t*e),r-1)}function h(t,e,r,n){return n?Math.max(0,r-1-Math.round(t*e)):Math.min(Math.round(t*e),r-1)}function d(t){return Boolean(t&&Number.isFinite(t._version))}function b(t){return Boolean(t&&2===t._version)}var v=new n.a({id:"luma.gl"})},gXd2:function(t,e,r){"use strict";r.d(e,"c",(function(){return o})),r.d(e,"a",(function(){return u})),r.d(e,"b",(function(){return s})),r.d(e,"d",(function(){return c}));var n=r("rp2x"),a=r("9Q0L"),i=r("g6k1");function o(t,e){if(Object(i.a)(Object(i.g)(t),"setParameters requires a WebGL context"),!Object(i.f)(e)){var r={};for(var a in e){var o=Number(a),u=n.e[a];u&&("string"==typeof u?r[u]=!0:u(t,e[a],o))}var s=t.state&&t.state.cache;if(s)for(var c in r){(0,n.a[c])(t,e,s)}}}function u(t,e){if("number"==typeof(e=e||n.c)){var r=e,a=n.d[r];return a?a(t,r):t.getParameter(r)}var i=Array.isArray(e)?e:Object.keys(e),o={},u=!0,s=!1,c=void 0;try{for(var l,f=i[Symbol.iterator]();!(u=(l=f.next()).done);u=!0){var h=l.value,d=n.d[h];o[h]=d?d(t,Number(h)):t.getParameter(Number(h))}}catch(b){s=!0,c=b}finally{try{u||null==f.return||f.return()}finally{if(s)throw c}}return o}function s(t){o(t,n.c)}function c(t,e,r){if(Object(i.f)(e))return r(t);var n,u=e.nocatch,s=void 0===u||u;if(Object(a.c)(t),o(t,e),s)n=r(t),Object(a.b)(t);else try{n=r(t)}finally{Object(a.b)(t)}return n}},hQ05:function(t,e,r){"use strict";r.d(e,"a",(function(){return E}));var n=r("U8pU"),a=r("o0o1"),i=r.n(a),o=r("HaE+"),u=r("1OyB"),s=r("vuIU"),c=r("iein"),l=r("rta6"),f=r("CxzY"),h=r("md7G"),d=r("foSv"),b=r("JX7q"),v=r("Ji7U"),g=r("L8KH"),m=r("d3kR"),y=r("tMmZ"),p=function(t){function e(t){var r,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return Object(u.a)(this,e),(r=Object(h.a)(this,Object(d.a)(e).call(this,t,n))).target=null,r._queryPending=!1,r._pollingPromise=null,Object.seal(Object(b.a)(r)),r}return Object(v.a)(e,t),Object(s.a)(e,null,[{key:"isSupported",value:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[],r=Object(c.f)(t),n=Object(m.c)(t,y.a.TIMER_QUERY),a=r||n,i=!0,o=!1,u=void 0;try{for(var s,l=e[Symbol.iterator]();!(i=(s=l.next()).done);i=!0){var h=s.value;switch(h){case"queries":a=a&&r;break;case"timers":a=a&&n;break;default:Object(f.a)(!1)}}}catch(d){o=!0,u=d}finally{try{i||null==l.return||l.return()}finally{if(o)throw u}}return a}}]),Object(s.a)(e,[{key:"beginTimeElapsedQuery",value:function(){return this.begin(35007)}},{key:"beginOcclusionQuery",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},e=t.conservative,r=void 0!==e&&e;return this.begin(r?36202:35887)}},{key:"beginTransformFeedbackQuery",value:function(){return this.begin(35976)}},{key:"begin",value:function(t){return this._queryPending||(this.target=t,this.gl.beginQuery(this.target,this.handle)),this}},{key:"end",value:function(){return this._queryPending||this.target&&(this.gl.endQuery(this.target),this.target=null,this._queryPending=!0),this}},{key:"isResultAvailable",value:function(){if(!this._queryPending)return!1;var t=this.gl.getQueryParameter(this.handle,34919);return t&&(this._queryPending=!1),t}},{key:"isTimerDisjoint",value:function(){return this.gl.getParameter(36795)}},{key:"getResult",value:function(){return this.gl.getQueryParameter(this.handle,34918)}},{key:"getTimerMilliseconds",value:function(){return this.getResult()/1e6}},{key:"createPoll",value:function(){var t=this,e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Number.POSITIVE_INFINITY;if(this._pollingPromise)return this._pollingPromise;var r=0;return this._pollingPromise=new Promise((function(n,a){requestAnimationFrame((function i(){t.isResultAvailable()?(n(t.getResult()),t._pollingPromise=null):r++>e?(a("Timed out"),t._pollingPromise=null):requestAnimationFrame(i)}))})),this._pollingPromise}},{key:"_createHandle",value:function(){return e.isSupported(this.gl)?this.gl.createQuery():null}},{key:"_deleteHandle",value:function(){this.gl.deleteQuery(this.handle)}}]),e}(g.a);function O(t){return"undefined"!=typeof window&&window.cancelAnimationFrame?window.cancelAnimationFrame(t):clearTimeout(t)}var j=r("11Ib"),_=r("xSaR"),A=Object(_.isBrowser)()&&"undefined"!=typeof document,k=0,E=function(){function t(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};Object(u.a)(this,t);var r=e.onCreateContext,n=void 0===r?function(t){return Object(c.a)(t)}:r,a=e.onAddHTML,i=void 0===a?null:a,o=e.onInitialize,s=void 0===o?function(){}:o,f=e.onRender,h=void 0===f?function(){}:f,d=e.onFinalize,b=void 0===d?function(){}:d,v=e.onError,g=e.gl,m=void 0===g?null:g,y=e.glOptions,p=void 0===y?{}:y,O=e.debug,j=void 0!==O&&O,_=e.createFramebuffer,A=void 0!==_&&_,E=e.autoResizeViewport,x=void 0===E||E,w=e.autoResizeDrawingBuffer,T=void 0===w||w,M=e.stats,L=void 0===M?l.a.get("animation-loop-".concat(k++)):M,S=e.useDevicePixels,P=void 0===S||S;"useDevicePixelRatio"in e&&(c.g.deprecated("useDevicePixelRatio","useDevicePixels")(),P=e.useDevicePixelRatio),this.props={onCreateContext:n,onAddHTML:i,onInitialize:s,onRender:h,onFinalize:b,onError:v,gl:m,glOptions:p,debug:j,createFramebuffer:A},this.gl=m,this.needsRedraw=null,this.timeline=null,this.stats=L,this.cpuTime=this.stats.get("CPU Time"),this.gpuTime=this.stats.get("GPU Time"),this.frameRate=this.stats.get("Frame Rate"),this._initialized=!1,this._running=!1,this._animationFrameId=null,this._nextFramePromise=null,this._resolveNextFrame=null,this._cpuStartTime=0,this.setProps({autoResizeViewport:x,autoResizeDrawingBuffer:T,useDevicePixels:P}),this.start=this.start.bind(this),this.stop=this.stop.bind(this),this._pageLoadPromise=null,this._onMousemove=this._onMousemove.bind(this),this._onMouseleave=this._onMouseleave.bind(this)}var e;return Object(s.a)(t,[{key:"delete",value:function(){this.stop(),this._setDisplay(null)}},{key:"setNeedsRedraw",value:function(t){return Object(f.a)("string"==typeof t),this.needsRedraw=this.needsRedraw||t,this}},{key:"setProps",value:function(t){return"autoResizeViewport"in t&&(this.autoResizeViewport=t.autoResizeViewport),"autoResizeDrawingBuffer"in t&&(this.autoResizeDrawingBuffer=t.autoResizeDrawingBuffer),"useDevicePixels"in t&&(this.useDevicePixels=t.useDevicePixels),this}},{key:"start",value:function(){var t=this,e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};if(this._running)return this;this._running=!0;var r=this._getPageLoadPromise().then((function(){return!t._running||t._initialized?null:(t._createWebGLContext(e),t._createFramebuffer(),t._startEventHandling(),t._initializeCallbackData(),t._updateCallbackData(),t._resizeCanvasDrawingBuffer(),t._resizeViewport(),t._gpuTimeQuery=p.isSupported(t.gl,["timers"])?new p(t.gl):null,t._initialized=!0,t.onInitialize(t.animationProps))})).then((function(e){t._running&&(t._addCallbackData(e||{}),!1!==e&&t._startLoop())}));return this.props.onError&&r.catch(this.props.onError),this}},{key:"redraw",value:function(){return this._beginTimers(),this._setupFrame(),this._updateCallbackData(),this._renderFrame(this.animationProps),this._clearNeedsRedraw(),this.offScreen&&this.gl.commit&&this.gl.commit(),this._resolveNextFrame&&(this._resolveNextFrame(this),this._nextFramePromise=null,this._resolveNextFrame=null),this._endTimers(),this}},{key:"stop",value:function(){return this._running&&(this._finalizeCallbackData(),O(this._animationFrameId),this._nextFramePromise=null,this._resolveNextFrame=null,this._animationFrameId=null,this._running=!1),this}},{key:"attachTimeline",value:function(t){return this.timeline=t,this.timeline}},{key:"detachTimeline",value:function(){this.timeline=null}},{key:"waitForRender",value:function(){var t=this;return this.setNeedsRedraw("waitForRender"),this._nextFramePromise||(this._nextFramePromise=new Promise((function(e){t._resolveNextFrame=e}))),this._nextFramePromise}},{key:"toDataURL",value:(e=Object(o.a)(i.a.mark((function t(){return i.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return this.setNeedsRedraw("toDataURL"),t.next=3,this.waitForRender();case 3:return t.abrupt("return",this.gl.canvas.toDataURL());case 4:case"end":return t.stop()}}),t,this)}))),function(){return e.apply(this,arguments)})},{key:"onCreateContext",value:function(){var t;return(t=this.props).onCreateContext.apply(t,arguments)}},{key:"onInitialize",value:function(){var t;return(t=this.props).onInitialize.apply(t,arguments)}},{key:"onRender",value:function(){var t;return(t=this.props).onRender.apply(t,arguments)}},{key:"onFinalize",value:function(){var t;return(t=this.props).onFinalize.apply(t,arguments)}},{key:"getHTMLControlValue",value:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1,r=document.getElementById(t);return r?Number(r.value):e}},{key:"setViewParameters",value:function(){return c.g.removed("AnimationLoop.setViewParameters","AnimationLoop.setProps")(),this}},{key:"_startLoop",value:function(){var t=this;O(this._animationFrameId),this._animationFrameId=this._requestAnimationFrame((function e(){t._running&&(t.redraw(),t._animationFrameId=t._requestAnimationFrame(e))}))}},{key:"_getPageLoadPromise",value:function(){return this._pageLoadPromise||(this._pageLoadPromise=A?new Promise((function(t,e){A&&"complete"===document.readyState?t(document):window.addEventListener("load",(function(){t(document)}))})):Promise.resolve({})),this._pageLoadPromise}},{key:"_setDisplay",value:function(t){this.display&&(this.display.delete(),this.display.animationLoop=null),t&&(t.animationLoop=this),this.display=t}},{key:"_requestAnimationFrame",value:function(t){var e;this.display&&this.display.requestAnimationFrame(t)||(e=t,"undefined"!=typeof window&&window.requestAnimationFrame?window.requestAnimationFrame(e):setTimeout(e,1e3/60))}},{key:"_renderFrame",value:function(){var t;this.display?(t=this.display)._renderFrame.apply(t,arguments):this.onRender.apply(this,arguments)}},{key:"_clearNeedsRedraw",value:function(){this.needsRedraw=null}},{key:"_setupFrame",value:function(){this._onSetupFrame?this._onSetupFrame(this.animationProps):(this._resizeCanvasDrawingBuffer(),this._resizeViewport(),this._resizeFramebuffer())}},{key:"_initializeCallbackData",value:function(){this.animationProps={gl:this.gl,stop:this.stop,canvas:this.gl.canvas,framebuffer:this.framebuffer,useDevicePixels:this.useDevicePixels,needsRedraw:null,startTime:Date.now(),engineTime:0,tick:0,tock:0,time:0,_timeline:this.timeline,_loop:this,_animationLoop:this,_mousePosition:null}}},{key:"_updateCallbackData",value:function(){var t=this._getSizeAndAspect(),e=t.width,r=t.height,n=t.aspect;e===this.animationProps.width&&r===this.animationProps.height||this.setNeedsRedraw("drawing buffer resized"),n!==this.animationProps.aspect&&this.setNeedsRedraw("drawing buffer aspect changed"),this.animationProps.width=e,this.animationProps.height=r,this.animationProps.aspect=n,this.animationProps.needsRedraw=this.needsRedraw,this.animationProps.engineTime=Date.now()-this.animationProps.startTime,this.timeline&&this.timeline.update(this.animationProps.engineTime),this.animationProps.tick=Math.floor(this.animationProps.time/1e3*60),this.animationProps.tock++,this.animationProps.time=this.timeline?this.timeline.getTime():this.animationProps.engineTime,this.animationProps._offScreen=this.offScreen}},{key:"_finalizeCallbackData",value:function(){this.onFinalize(this.animationProps)}},{key:"_addCallbackData",value:function(t){"object"===Object(n.a)(t)&&null!==t&&(this.animationProps=Object.assign({},this.animationProps,t))}},{key:"_createWebGLContext",value:function(t){if(this.offScreen=t.canvas&&"undefined"!=typeof OffscreenCanvas&&t.canvas instanceof OffscreenCanvas,t=Object.assign({},t,this.props.glOptions),this.gl=this.props.gl?Object(c.d)(this.props.gl,t):this.onCreateContext(t),!Object(c.e)(this.gl))throw new Error("AnimationLoop.onCreateContext - illegal context returned");Object(c.h)(this.gl),this._createInfoDiv()}},{key:"_createInfoDiv",value:function(){if(this.gl.canvas&&this.props.onAddHTML){var t=document.createElement("div");document.body.appendChild(t),t.style.position="relative";var e=document.createElement("div");e.style.position="absolute",e.style.left="10px",e.style.bottom="10px",e.style.width="300px",e.style.background="white",t.appendChild(this.gl.canvas),t.appendChild(e);var r=this.props.onAddHTML(e);r&&(e.innerHTML=r)}}},{key:"_getSizeAndAspect",value:function(){var t=this.gl.drawingBufferWidth,e=this.gl.drawingBufferHeight,r=1,n=this.gl.canvas;return n&&n.clientHeight?r=n.clientWidth/n.clientHeight:t>0&&e>0&&(r=t/e),{width:t,height:e,aspect:r}}},{key:"_resizeViewport",value:function(){this.autoResizeViewport&&this.gl.viewport(0,0,this.gl.drawingBufferWidth,this.gl.drawingBufferHeight)}},{key:"_resizeCanvasDrawingBuffer",value:function(){this.autoResizeDrawingBuffer&&Object(c.i)(this.gl,{useDevicePixels:this.useDevicePixels})}},{key:"_createFramebuffer",value:function(){this.props.createFramebuffer&&(this.framebuffer=new j.a(this.gl))}},{key:"_resizeFramebuffer",value:function(){this.framebuffer&&this.framebuffer.resize({width:this.gl.drawingBufferWidth,height:this.gl.drawingBufferHeight})}},{key:"_beginTimers",value:function(){this.frameRate.timeEnd(),this.frameRate.timeStart(),this._gpuTimeQuery&&this._gpuTimeQuery.isResultAvailable()&&!this._gpuTimeQuery.isTimerDisjoint()&&this.stats.get("GPU Time").addTime(this._gpuTimeQuery.getTimerMilliseconds()),this._gpuTimeQuery&&this._gpuTimeQuery.beginTimeElapsedQuery(),this.cpuTime.timeStart()}},{key:"_endTimers",value:function(){this.cpuTime.timeEnd(),this._gpuTimeQuery&&this._gpuTimeQuery.end()}},{key:"_startEventHandling",value:function(){var t=this.gl.canvas;t&&(t.addEventListener("mousemove",this._onMousemove),t.addEventListener("mouseleave",this._onMouseleave))}},{key:"_onMousemove",value:function(t){this.animationProps._mousePosition=[t.offsetX,t.offsetY]}},{key:"_onMouseleave",value:function(t){this.animationProps._mousePosition=null}}]),t}()},haqy:function(t,e,r){"use strict";r.d(e,"a",(function(){return I}));var n=r("1OyB"),a=r("vuIU"),i=r("ODXe"),o=r("rePB"),u=r("rMhL"),s=r("uzDn"),c=r("U8pU"),l={number:{validate:function(t,e){return Number.isFinite(t)&&(!("max"in e)||t<=e.max)&&(!("min"in e)||t>=e.min)}},array:{validate:function(t,e){return Array.isArray(t)||ArrayBuffer.isView(t)}}};function f(t){var e=h(t);return"object"===e?t?"type"in t?Object.assign({},t,l[t.type]):"value"in t?(e=h(t.value),Object.assign({type:e},t,l[e])):{type:"object",value:t}:{type:"object",value:null}:Object.assign({type:e,value:t},l[e])}function h(t){return Array.isArray(t)||ArrayBuffer.isView(t)?"array":Object(c.a)(t)}var d=function(){function t(e){var r=e.name,a=e.vs,i=e.fs,o=e.dependencies,u=void 0===o?[]:o,c=e.uniforms,l=e.getUniforms,h=e.deprecations,d=void 0===h?[]:h,b=e.defines,v=void 0===b?{}:b,g=e.inject,m=void 0===g?{}:g,y=e.vertexShader,p=e.fragmentShader;Object(n.a)(this,t),Object(s.a)("string"==typeof r),this.name=r,this.vs=a||y,this.fs=i||p,this.getModuleUniforms=l,this.dependencies=u,this.deprecations=this._parseDeprecationDefinitions(d),this.defines=v,this.injections=function(t){var e={vs:{},fs:{}};for(var r in t){var n=t[r],a=r.slice(0,2);"string"==typeof n&&(n={injection:n}),e[a][r]=n}return e}(m),c&&(this.uniforms=function(t){var e={};for(var r in t){var n=f(t[r]);e[r]=n}return e}(c))}return Object(a.a)(t,[{key:"getModuleSource",value:function(t){var e;switch(t){case"vs":e=this.vs||"";break;case"fs":e=this.fs||"";break;default:Object(s.a)(!1)}return"#define MODULE_".concat(this.name.toUpperCase().replace(/[^0-9a-z]/gi,"_"),"\n").concat(e,"// END MODULE_").concat(this.name,"\n\n")}},{key:"getUniforms",value:function(t,e){return this.getModuleUniforms?this.getModuleUniforms(t,e):this.uniforms?this._defaultGetUniforms(t):{}}},{key:"getDefines",value:function(){return this.defines}},{key:"checkDeprecations",value:function(t,e){this.deprecations.forEach((function(r){r.regex.test(t)&&(r.deprecated?e.deprecated(r.old,r.new)():e.removed(r.old,r.new)())}))}},{key:"_parseDeprecationDefinitions",value:function(t){return t.forEach((function(t){switch(t.type){case"function":t.regex=new RegExp("\\b".concat(t.old,"\\("));break;default:t.regex=new RegExp("".concat(t.type," ").concat(t.old,";"))}})),t}},{key:"_defaultGetUniforms",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},e={},r=this.uniforms;for(var n in r){var a=r[n];n in t&&!a.private?(a.validate&&Object(s.a)(a.validate(t[n],a),"".concat(this.name,": invalid ").concat(n)),e[n]=t[n]):e[n]=a.value}return e}}]),t}();function b(t){return v(function t(e,r){return e.map((function(e){return e instanceof d||(Object(s.a)("string"!=typeof e,"Shader module use by name is deprecated. Import shader module '".concat(e,"' and use it directly.")),Object(s.a)(e.name,"shader module has no name"),(e=new d(e)).dependencies=t(e.dependencies)),e}))}(t))}function v(t){var e={},r={};return g({modules:t,level:0,moduleMap:e,moduleDepth:r}),Object.keys(r).sort((function(t,e){return r[e]-r[t]})).map((function(t){return e[t]}))}function g(t){var e=t.modules,r=t.level,n=t.moduleMap,a=t.moduleDepth;if(r>=5)throw new Error("Possible loop in shader dependency graph");var i=!0,o=!1,u=void 0;try{for(var s,c=e[Symbol.iterator]();!(i=(s=c.next()).done);i=!0){var l=s.value;n[l.name]=l,(void 0===a[l.name]||a[l.name]<r)&&(a[l.name]=r)}}catch(y){o=!0,u=y}finally{try{i||null==c.return||c.return()}finally{if(o)throw u}}var f=!0,h=!1,d=void 0;try{for(var b,v=e[Symbol.iterator]();!(f=(b=v.next()).done);f=!0){var m=b.value;m.dependencies&&g({modules:m.dependencies,level:r+1,moduleMap:n,moduleDepth:a})}}catch(y){h=!0,d=y}finally{try{f||null==v.return||v.return()}finally{if(h)throw d}}}function m(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},e="undefined"!=typeof window&&window.navigator||{},r=t.userAgent||e.userAgent||"",n=-1!==r.indexOf("MSIE "),a=-1!==r.indexOf("Trident/");return n||a}var y={GLSL_FRAG_DATA:["WEBGL_draw_buffers",!0],GLSL_FRAG_DEPTH:["EXT_frag_depth",!0],GLSL_DERIVATIVES:["OES_standard_derivatives",!0],GLSL_TEXTURE_LOD:["EXT_shader_texture_lod",!0]},p={};Object.keys(y).forEach((function(t){p[t]=t}));var O={};function j(t,e){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},n=y[e];if(Object(s.a)(n,e),!m(r))return!0;if(e in O)return O[e];var a=n[0],i=r.behavior||"enable",o="#extension GL_".concat(a," : ").concat(i,"\nvoid main(void) {}"),u=t.createShader(35633);t.shaderSource(u,o),t.compileShader(u);var c=t.getShaderParameter(u,35713);return t.deleteShader(u),O[e]=c,c}function _(t,e){var r=y[e];Object(s.a)(r,e);var n=function(t){return Boolean(t&&2===t._version)}(t)&&r[1]||r[0],a="string"==typeof n?Boolean(t.getExtension(n)):n;return Object(s.a)(!1===a||!0===a),a}function A(t,e){return(e=Array.isArray(e)?e:[e]).every((function(e){return _(t,e)}))}var k=r("rpxL");function E(t,e,r){switch(e){case 300:return r?function(t){return t.replace(/^(#version[ \t]+(100|300[ \t]+es))?[ \t]*\n/,"#version 300 es\n").replace(/^[ \t]*attribute[ \t]+(.+;)/gm,"in $1").replace(/^[ \t]*varying[ \t]+(.+;)/gm,"out $1").replace(/\btexture2D\(/g,"texture(").replace(/\btextureCube\(+/g,"texture(").replace(/\btexture2DLodEXT\(/g,"textureLod(").replace(/\btextureCubeLodEXT\(/g,"textureLod(")}(t):function(t){return t.replace(/^(#version[ \t]+(100|300[ \t]+es))?[ \t]*\n/,"#version 300 es\n").replace(/^[ \t]*varying[ \t]+(.+;)/gm,"in $1").replace(/\btexture2D\(/g,"texture(").replace(/\btextureCube\(/g,"texture(").replace(/\btexture2DLodEXT\(/g,"textureLod(").replace(/\btextureCubeLodEXT\(/g,"textureLod(")}(t);case 100:return r?function(t){return t.replace(/^#version[ \t]+300[ \t]+es/,"#version 100").replace(/^[ \t]*in[ \t]+(.+;)/gm,"attribute $1").replace(/^[ \t]*out[ \t]+(.+;)/gm,"varying $1").replace(/\btexture\(/g,"texture2D(").replace(/\btextureLod\(/g,"texture2DLodEXT(")}(t):function(t){var e=(t=t.replace(/^#version[ \t]+300[ \t]+es/,"#version 100").replace(/^[ \t]*in[ \t]+/gm,"varying ").replace(/\btexture\(/g,"texture2D(").replace(/\btextureLod\(/g,"texture2DLodEXT(")).match(w);if(e){var r=e[1];t=t.replace(w,"").replace(new RegExp("\\b".concat(r,"\\b"),"g"),"gl_FragColor")}return t}(t);default:throw new Error("unknown GLSL version ".concat(e))}}var x,w=/^[ \t]*out[ \t]+vec4[ \t]+(\w+)[ \t]*;\s+/m;var T="\n\n".concat(k.a,"\n\n"),M=(x={},Object(o.a)(x,u.b,"vertex"),Object(o.a)(x,u.a,"fragment"),x);function L(t,e){var r=e.vs,n=e.fs,a=b(e.modules||[]);return{gl:t,vs:S(t,Object.assign({},e,{source:r,type:u.b,modules:a})),fs:S(t,Object.assign({},e,{source:n,type:u.a,modules:a})),getUniforms:P(a)}}function S(t,e){var r=e.id,n=e.source,a=e.type,o=e.modules,c=e.defines,l=void 0===c?{}:c,f=e.hookFunctions,h=void 0===f?[]:f,d=e.inject,b=void 0===d?{}:d,v=e.transpileToGLSL100,g=void 0!==v&&v,m=e.prologue,y=void 0===m||m,O=e.log;Object(s.a)("string"==typeof n,"shader source must be a string");var _=a===u.b,x=n.split("\n"),w=100,L="",S=n;0===x[0].indexOf("#version ")?(w=300,L=x[0],S=x.slice(1).join("\n")):L="#version ".concat(w);var P={};o.forEach((function(t){Object.assign(P,t.getDefines())})),Object.assign(P,l);var R=y?"".concat(L,"\n").concat(function(t){var e=t.id,r=t.source,n=t.type;return e&&"string"==typeof e&&-1===r.indexOf("SHADER_NAME")?"\n#define SHADER_NAME ".concat(e,"_").concat(M[n],"\n\n"):""}({id:r,source:n,type:a}),"\n").concat(function(t){var e=t.type;return"\n#define SHADER_TYPE_".concat(M[e].toUpperCase(),"\n")}({type:a}),"\n").concat(function(t){switch(function(t){var e=t.getExtension("WEBGL_debug_renderer_info"),r=t.getParameter(e&&e.UNMASKED_VENDOR_WEBGL||7936),n=t.getParameter(e&&e.UNMASKED_RENDERER_WEBGL||7937);return{gpuVendor:function(t,e){if(t.match(/NVIDIA/i)||e.match(/NVIDIA/i))return"NVIDIA";if(t.match(/INTEL/i)||e.match(/INTEL/i))return"INTEL";if(t.match(/AMD/i)||e.match(/AMD/i)||t.match(/ATI/i)||e.match(/ATI/i))return"AMD";return"UNKNOWN GPU"}(r,n),vendor:r,renderer:n,version:t.getParameter(7938),shadingLanguageVersion:t.getParameter(35724)}}(t).gpuVendor.toLowerCase()){case"nvidia":return"#define NVIDIA_GPU\n// Nvidia optimizes away the calculation necessary for emulated fp64\n#define LUMA_FP64_CODE_ELIMINATION_WORKAROUND 1\n";case"intel":return"#define INTEL_GPU\n// Intel optimizes away the calculation necessary for emulated fp64\n#define LUMA_FP64_CODE_ELIMINATION_WORKAROUND 1\n// Intel's built-in 'tan' function doesn't have acceptable precision\n#define LUMA_FP32_TAN_PRECISION_WORKAROUND 1\n// Intel GPU doesn't have full 32 bits precision in same cases, causes overflow\n#define LUMA_FP64_HIGH_BITS_OVERFLOW_WORKAROUND 1\n";case"amd":return"#define AMD_GPU\n";default:return"#define DEFAULT_GPU\n// Prevent driver from optimizing away the calculation necessary for emulated fp64\n#define LUMA_FP64_CODE_ELIMINATION_WORKAROUND 1\n// Intel's built-in 'tan' function doesn't have acceptable precision\n#define LUMA_FP32_TAN_PRECISION_WORKAROUND 1\n// Intel GPU doesn't have full 32 bits precision in same cases, causes overflow\n#define LUMA_FP64_HIGH_BITS_OVERFLOW_WORKAROUND 1\n"}}(t),"\n").concat(function(t,e,r){var n="#if (__VERSION__ > 120)\n\n# define FRAG_DEPTH\n# define DERIVATIVES\n# define DRAW_BUFFERS\n# define TEXTURE_LOD\n\n#endif // __VERSION\n";return A(t,p.GLSL_FRAG_DEPTH)&&(n+="// FRAG_DEPTH => gl_FragDepth is available\n#ifdef GL_EXT_frag_depth\n#extension GL_EXT_frag_depth : enable\n# define FRAG_DEPTH\n# define gl_FragDepth gl_FragDepthEXT\n#endif\n"),A(t,p.GLSL_DERIVATIVES)&&j(t,p.GLSL_DERIVATIVES)&&(n+="// DERIVATIVES => dxdF, dxdY and fwidth are available\n#ifdef GL_OES_standard_derivatives\n#extension GL_OES_standard_derivatives : enable\n# define DERIVATIVES\n#endif\n"),A(t,p.GLSL_FRAG_DATA)&&j(t,p.GLSL_FRAG_DATA,{behavior:"require"})&&(n+="// DRAW_BUFFERS => gl_FragData[] is available\n#ifdef GL_EXT_draw_buffers\n#extension GL_EXT_draw_buffers : require\n#define DRAW_BUFFERS\n#endif\n"),A(t,p.GLSL_TEXTURE_LOD)&&(n+="// TEXTURE_LOD => texture2DLod etc are available\n#ifdef GL_EXT_shader_texture_lod\n#extension GL_EXT_shader_texture_lod : enable\n# define TEXTURE_LOD\n#define texture2DLod texture2DLodEXT\n#define texture2DProjLod texture2DProjLodEXT\n#define texture2DProjLod texture2DProjLodEXT\n#define textureCubeLod textureCubeLodEXT\n#define texture2DGrad texture2DGradEXT\n#define texture2DProjGrad texture2DProjGradEXT\n#define texture2DProjGrad texture2DProjGradEXT\n#define textureCubeGrad textureCubeGradEXT\n#endif\n"),n}(t),"\n").concat(function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},e=0,r="";for(var n in t){0===e&&(r+="\n// APPLICATION DEFINES\n"),e++;var a=t[n];(a||Number.isFinite(a))&&(r+="#define ".concat(n.toUpperCase()," ").concat(t[n],"\n"))}0===e&&(r+="\n");return r}(P),"\n").concat(_?"":"precision highp float;\n\n","\n"):"".concat(L,"\n");h=function(t){var e={vs:{},fs:{}};return t.forEach((function(t){var r;"string"!=typeof t?t=(r=t).hook:r={};var n=(t=t.trim()).split(":"),a=Object(i.a)(n,2),o=a[0],u=a[1],s=t.replace(/\(.+/,"");e[o][s]=Object.assign(r,{signature:u})})),e}(h);var I={},D={},F={};for(var B in b){var N="string"==typeof b[B]?{injection:b[B],order:0}:b[B],C=B.match(/^(v|f)s:(#)?([\w-]+)$/);if(C){var U=C[2],G=C[3];U?"decl"===G?D[B]=[N]:F[B]=[N]:I[B]=[N]}else F[B]=[N]}var V=!0,z=!1,H=void 0;try{for(var X,W=o[Symbol.iterator]();!(V=(X=W.next()).done);V=!0){var q=X.value;O&&q.checkDeprecations(S,O),R+=q.getModuleSource(a,w);var Q=q.injections[a];for(var Y in Q){var J=Y.match(/^(v|f)s:#([\w-]+)$/);if(J){var K="decl"===J[2]?D:F;K[Y]=K[Y]||[],K[Y].push(Q[Y])}else I[Y]=I[Y]||[],I[Y].push(Q[Y])}}}catch(Z){z=!0,H=Z}finally{try{V||null==W.return||W.return()}finally{if(z)throw H}}return R+=T,R=Object(k.c)(R,a,D),R+=function(t,e){var r="";for(var n in t){var a=t[n];if(r+="void ".concat(a.signature," {\n"),a.header&&(r+="  ".concat(a.header)),e[n]){var i=e[n];i.sort((function(t,e){return t.order-e.order}));var o=!0,u=!1,s=void 0;try{for(var c,l=i[Symbol.iterator]();!(o=(c=l.next()).done);o=!0){var f=c.value;r+="  ".concat(f.injection,"\n")}}catch(Z){u=!0,s=Z}finally{try{o||null==l.return||l.return()}finally{if(u)throw s}}}a.footer&&(r+="  ".concat(a.footer)),r+="}\n"}return r}(h[a],I),R+=S,R=E(R=Object(k.c)(R,a,F),g?100:w,_)}function P(t){return function(e){var r={},n=!0,a=!1,i=void 0;try{for(var o,u=t[Symbol.iterator]();!(n=(o=u.next()).done);n=!0){var s=o.value.getUniforms(e,r);Object.assign(r,s)}}catch(c){a=!0,i=c}finally{try{n||null==u.return||u.return()}finally{if(a)throw i}}return r}}var R=r("OklE"),I=function(){function t(e){Object(n.a)(this,t),this.gl=e,this._programCache={},this._getUniforms={},this._registeredModules={},this._hookFunctions=[],this._defaultModules=[],this._hashes={},this._hashCounter=0,this.stateHash=0,this._useCounts={}}return Object(a.a)(t,null,[{key:"getDefaultProgramManager",value:function(e){return e.luma=e.luma||{},e.luma.defaultProgramManager=e.luma.defaultProgramManager||new t(e),e.luma.defaultProgramManager}}]),Object(a.a)(t,[{key:"addDefaultModule",value:function(t){this._defaultModules.find((function(e){return e.name===t.name}))||this._defaultModules.push(t),this.stateHash++}},{key:"removeDefaultModule",value:function(t){var e="string"==typeof t?t:t.name;this._defaultModules=this._defaultModules.filter((function(t){return t.name!==e})),this.stateHash++}},{key:"addShaderHook",value:function(t,e){e&&(t=Object.assign(e,{hook:t})),this._hookFunctions.push(t),this.stateHash++}},{key:"get",value:function(){var t=this,e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},r=e.vs,n=void 0===r?"":r,a=e.fs,i=void 0===a?"":a,o=e.defines,u=void 0===o?{}:o,s=e.inject,c=void 0===s?{}:s,l=e.varyings,f=void 0===l?[]:l,h=e.bufferMode,d=void 0===h?35981:h,b=e.transpileToGLSL100,v=void 0!==b&&b,g=this._getModuleList(e.modules),m=this._getHash(n),y=this._getHash(i),p=g.map((function(e){return t._getHash(e.name)})).sort(),O=f.map((function(e){return t._getHash(e)})),j=Object.keys(u).sort(),_=Object.keys(c).sort(),A=[],k=[],E=!0,x=!1,w=void 0;try{for(var T,M=j[Symbol.iterator]();!(E=(T=M.next()).done);E=!0){var S=T.value;A.push(this._getHash(S)),A.push(this._getHash(u[S]))}}catch(G){x=!0,w=G}finally{try{E||null==M.return||M.return()}finally{if(x)throw w}}var P=!0,I=!1,D=void 0;try{for(var F,B=_[Symbol.iterator]();!(P=(F=B.next()).done);P=!0){var N=F.value;k.push(this._getHash(N)),k.push(this._getHash(c[N]))}}catch(G){I=!0,D=G}finally{try{P||null==B.return||B.return()}finally{if(I)throw D}}var C="".concat(m,"/").concat(y,"D").concat(A.join("/"),"M").concat(p.join("/"),"I").concat(k.join("/"),"V").concat(O.join("/"),"H").concat(this.stateHash,"B").concat(d).concat(v?"T":"");if(!this._programCache[C]){var U=L(this.gl,{vs:n,fs:i,modules:g,inject:c,defines:u,hookFunctions:this._hookFunctions,transpileToGLSL100:v});this._programCache[C]=new R.a(this.gl,{hash:C,vs:U.vs,fs:U.fs,varyings:f,bufferMode:d}),this._getUniforms[C]=U.getUniforms||function(t){},this._useCounts[C]=0}return this._useCounts[C]++,this._programCache[C]}},{key:"getUniforms",value:function(t){return this._getUniforms[t.hash]||null}},{key:"release",value:function(t){var e=t.hash;this._useCounts[e]--,0===this._useCounts[e]&&(this._programCache[e].delete(),delete this._programCache[e],delete this._getUniforms[e],delete this._useCounts[e])}},{key:"_getHash",value:function(t){return void 0===this._hashes[t]&&(this._hashes[t]=this._hashCounter++),this._hashes[t]}},{key:"_getModuleList",value:function(){for(var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],e=new Array(this._defaultModules.length+t.length),r={},n=0,a=0,i=this._defaultModules.length;a<i;++a){var o=this._defaultModules[a],u=o.name;e[n++]=o,r[u]=!0}for(var s=0,c=t.length;s<c;++s){var l=t[s],f=l.name;r[f]||(e[n++]=l,r[f]=!0)}return e.length=n,e}}]),t}()},iein:function(t,e,r){"use strict";r.d(e,"j",(function(){return n.c})),r.d(e,"h",(function(){return n.b})),r.d(e,"k",(function(){return n.d})),r.d(e,"a",(function(){return l})),r.d(e,"i",(function(){return h})),r.d(e,"d",(function(){return f})),r.d(e,"g",(function(){return o.i})),r.d(e,"c",(function(){return o.c})),r.d(e,"b",(function(){return o.b})),r.d(e,"e",(function(){return o.g})),r.d(e,"f",(function(){return o.h}));r("Hogv");var n=r("gXd2"),a=r("9Q0L"),i=r("xSaR"),o=r("g6k1"),u=Object(i.isBrowser)(),s=u&&"undefined"!=typeof document,c={webgl2:!0,webgl1:!0,throwOnError:!0,manageState:!0,canvas:null,debug:!1,width:800,height:600};function l(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};Object(o.a)(u,"createGLContext only available in the browser.\nCreate your own headless context or use 'createHeadlessContext' from @luma.gl/test-utils");var e,r=t=Object.assign({},c,t),n=r.width,a=r.height;function i(e){if(t.throwOnError)throw new Error(e);return console.error(e),null}t.onError=i;var s=t,l=s.canvas,h=b({canvas:l,width:n,height:a,onError:i});return(e=d(h,t))?(v(e=f(e,t)),e):null}function f(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};if(!t||t._instrumented)return t;t._version=t._version||g(t),t.luma=t.luma||{},t.luma.canvasSizeInfo=t.luma.canvasSizeInfo||{};var r=e=Object.assign({},c,e),n=r.manageState,s=r.debug;return n&&Object(a.a)(t,{copyState:!1,log:function(){for(var t=arguments.length,e=new Array(t),r=0;r<t;r++)e[r]=arguments[r];return o.i.log.apply(o.i,[1].concat(e))()}}),u&&s&&(i.global.makeDebugContext?(t=i.global.makeDebugContext(t,e),o.i.level=Math.max(o.i.level,1)):o.i.warn('WebGL debug mode not activated. import "@luma.gl/debug" to enable.')()),t._instrumented=!0,t}function h(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};if(t.canvas){var r=Object(o.e)(e.useDevicePixels);m(t,r,e)}else{var n=t.getExtension("STACKGL_resize_drawingbuffer");n&&"width"in e&&"height"in e&&n.resize(e.width,e.height)}}function d(t,e){var r=e.onError,n=null,a=function(t){return n=t.statusMessage||n};t.addEventListener("webglcontextcreationerror",a,!1);var i=e.webgl1,o=void 0===i||i,u=e.webgl2,s=void 0===u||u,c=null;return s&&(c=(c=c||t.getContext("webgl2",e))||t.getContext("experimental-webgl2",e)),o&&(c=(c=c||t.getContext("webgl",e))||t.getContext("experimental-webgl",e)),t.removeEventListener("webglcontextcreationerror",a,!1),c||r("Failed to create ".concat(s&&!o?"WebGL2":"WebGL"," context: ").concat(n||"Unknown error"))}function b(t){var e,r=t.canvas,n=t.width,a=void 0===n?800:n,i=t.height,o=void 0===i?600:i,u=t.onError;"string"==typeof r?(s&&"complete"===document.readyState||u("createGLContext called on canvas '".concat(r,"' before page was loaded")),e=document.getElementById(r)):r?e=r:((e=document.createElement("canvas")).id="lumagl-canvas",e.style.width=Number.isFinite(a)?"".concat(a,"px"):"100%",e.style.height=Number.isFinite(o)?"".concat(o,"px"):"100%",document.body.insertBefore(e,document.body.firstChild));return e}function v(t){var e=Object(o.h)(t)?"WebGL2":"WebGL1",r=function(t){var e=t.getParameter(7936),r=t.getParameter(7937),n=t.getExtension("WEBGL_debug_renderer_info");return{vendor:n&&t.getParameter(n.UNMASKED_VENDOR_WEBGL||7936)||e,renderer:n&&t.getParameter(n.UNMASKED_RENDERER_WEBGL||7937)||r,vendorMasked:e,rendererMasked:r,version:t.getParameter(7938),shadingLanguageVersion:t.getParameter(35724)}}(t),n=r?"(".concat(r.vendor,",").concat(r.renderer,")"):"",a=t.debug?" debug":"";o.i.info(1,"".concat(e).concat(a," context ").concat(n))()}function g(t){return"undefined"!=typeof WebGL2RenderingContext&&t instanceof WebGL2RenderingContext?2:1}function m(t,e,r){var n="width"in r?r.width:t.canvas.clientWidth,a="height"in r?r.height:t.canvas.clientHeight;n&&a||(o.i.log(1,"Canvas clientWidth/clientHeight is 0")(),e=1,n=t.canvas.width||1,a=t.canvas.height||1),t.luma=t.luma||{},t.luma.canvasSizeInfo=t.luma.canvasSizeInfo||{};var i=t.luma.canvasSizeInfo;if(i.clientWidth!==n||i.clientHeight!==a||i.devicePixelRatio!==e){var u=e,s=Math.floor(n*u),c=Math.floor(a*u);t.canvas.width=s,t.canvas.height=c,t.drawingBufferWidth===s&&t.drawingBufferHeight===c||(o.i.warn("Device pixel ratio clamped")(),u=Math.min(t.drawingBufferWidth/n,t.drawingBufferHeight/a),t.canvas.width=Math.floor(n*u),t.canvas.height=Math.floor(a*u)),Object.assign(t.luma.canvasSizeInfo,{clientWidth:n,clientHeight:a,devicePixelRatio:e})}}},jWbo:function(t,e,r){"use strict";(function(t,n){var a=r("TqRt");Object.defineProperty(e,"__esModule",{value:!0}),e.console=e.process=e.document=e.global=e.window=e.self=void 0;var i=a(r("cDf5")),o={self:"undefined"!=typeof self&&self,window:"undefined"!=typeof window&&window,global:void 0!==t&&t,document:"undefined"!=typeof document&&document,process:"object"===(void 0===n?"undefined":(0,i.default)(n))&&n},u=o.self||o.window||o.global;e.self=u;var s=o.window||o.self||o.global;e.window=s;var c=o.global||o.self||o.window;e.global=c;var l=o.document||{};e.document=l;var f=o.process||{};e.process=f;var h=console;e.console=h}).call(this,r("yLpj"),r("8oxB"))},kD43:function(t,e,r){"use strict";r.d(e,"a",(function(){return f}));var n=r("o0o1"),a=r.n(n),i=(r("wcNg"),r("HaE+")),o=r("VLYs"),u=r(15),s=r("P+ME"),c="undefined"!=typeof __VERSION__?__VERSION__:"beta",l={};function f(t,e,r){return h.apply(this,arguments)}function h(){return(h=Object(i.a)(a.a.mark((function t(e,r,n){return a.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return void 0===r&&(r=null),void 0===n&&(n={}),r&&(e=d(e,r,n)),l[e]=l[e]||b(e),t.next=6,l[e];case 6:return t.abrupt("return",t.sent);case 7:case"end":return t.stop()}}),t)})))).apply(this,arguments)}function d(t,e,r){var n=r.modules||{};return n[t]?n[t]:o.b?r.CDN?(Object(s.a)(r.CDN.startsWith("http")),r.CDN+"/"+e+"@"+c+"/dist/libs/"+t):o.c?"../src/libs/"+t:"modules/"+e+"/src/libs/"+t:"modules/"+e+"/dist/libs/"+t}function b(t){return v.apply(this,arguments)}function v(){return(v=Object(i.a)(a.a.mark((function t(e){var r,n,i;return a.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(!e.endsWith("wasm")){t.next=7;break}return t.next=3,fetch(e);case 3:return r=t.sent,t.next=6,r.arrayBuffer();case 6:return t.abrupt("return",t.sent);case 7:if(o.b){t.next=9;break}return t.abrupt("return",u.requireFromFile&&u.requireFromFile(e));case 9:if(!o.c){t.next=11;break}return t.abrupt("return",importScripts(e));case 11:return t.next=13,fetch(e);case 13:return n=t.sent,t.next=16,n.text();case 16:return i=t.sent,t.abrupt("return",g(i,e));case 18:case"end":return t.stop()}}),t)})))).apply(this,arguments)}function g(t,e){if(!o.b)return u.requireFromString&&u.requireFromString(t,e);if(o.c)return eval.call(o.a,t),null;var r=document.createElement("script");r.id=e;try{r.appendChild(document.createTextNode(t))}catch(n){r.text=t}return document.body.appendChild(r),null}},l6PP:function(t,e,r){"use strict";r.d(e,"a",(function(){return y}));var n=r("1OyB"),a=r("md7G"),i=r("foSv"),o=r("vuIU"),u=r("Ji7U"),s=r("L8KH"),c=r("sc/6"),l=r("uYBD"),f=r("iein"),h=r("xSaR"),d=r("SUVH"),b=r("VdrS"),v=r("CxzY"),g=[9729,9728],m=h.global.WebGLBuffer||function(){},y=function(t){function e(t,r){var o;Object(n.a)(this,e);var u=r.id,s=void 0===u?Object(b.c)("texture"):u,c=r.handle,l=r.target;return(o=Object(a.a)(this,Object(i.a)(e).call(this,t,{id:s,handle:c}))).target=l,o.textureUnit=void 0,o.loaded=!1,o.width=void 0,o.height=void 0,o.depth=void 0,o.format=void 0,o.type=void 0,o.dataFormat=void 0,o.border=void 0,o.textureUnit=void 0,o.mipmaps=void 0,o}return Object(u.a)(e,t),Object(o.a)(e,null,[{key:"isSupported",value:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},r=e.format,n=e.linearFiltering,a=!0;return r&&(a=(a=a&&Object(l.d)(t,r))&&(!n||Object(l.e)(t,r))),a}}]),Object(o.a)(e,[{key:"toString",value:function(){return"Texture(".concat(this.id,",").concat(this.width,"x").concat(this.height,")")}},{key:"initialize",value:function(){var t=this,e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},r=e.data;if(r instanceof Promise)return r.then((function(r){return t.initialize(Object.assign({},e,{pixels:r,data:r}))})),this;var n=e.pixels,a=void 0===n?null:n,i=e.format,o=void 0===i?6408:i,u=e.border,s=void 0===u?0:u,c=e.recreate,l=void 0!==c&&c,h=e.parameters,d=void 0===h?{}:h,b=e.pixelStore,v=void 0===b?{}:b,g=e.textureUnit,m=void 0===g?void 0:g,y=e.mipmaps,p=void 0===y||y;r||(r=a);var O=e.width,j=e.height,_=e.dataFormat,A=e.type,k=e.depth,E=void 0===k?0:k,x=this._deduceParameters({format:o,type:A,dataFormat:_,compressed:!1,data:r,width:O,height:j});return O=x.width,j=x.height,_=x.dataFormat,A=x.type,this.width=O,this.height=j,this.depth=E,this.format=o,this.type=A,this.dataFormat=_,this.border=s,this.textureUnit=m,Number.isFinite(this.textureUnit)&&(this.gl.activeTexture(33984+this.textureUnit),this.gl.bindTexture(this.target,this.handle)),p&&this._isNPOT()&&(f.g.warn("texture: ".concat(this," is Non-Power-Of-Two, disabling mipmaping"))(),p=!1,this._updateForNPOT(d)),this.mipmaps=p,this.setImageData({data:r,width:O,height:j,depth:E,format:o,type:A,dataFormat:_,border:s,mipmaps:p,parameters:v}),p&&this.generateMipmap(),this.setParameters(d),l&&(this.data=r),this}},{key:"resize",value:function(t){var e=t.height,r=t.width,n=t.mipmaps,a=void 0!==n&&n;return r!==this.width||e!==this.height?this.initialize({width:r,height:e,format:this.format,type:this.type,dataFormat:this.dataFormat,border:this.border,mipmaps:a}):this}},{key:"generateMipmap",value:function(){var t=this,e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return this._isNPOT()?(f.g.warn("texture: ".concat(this," is Non-Power-Of-Two, disabling mipmaping"))(),this):(this.mipmaps=!0,this.gl.bindTexture(this.target,this.handle),Object(f.k)(this.gl,e,(function(){t.gl.generateMipmap(t.target)})),this.gl.bindTexture(this.target,null),this)}},{key:"setImageData",value:function(t){this._trackDeallocatedMemory("Texture");var e=t.target,r=void 0===e?this.target:e,n=t.pixels,a=void 0===n?null:n,i=t.level,o=void 0===i?0:i,u=t.format,s=void 0===u?this.format:u,c=t.border,h=void 0===c?this.border:c,b=t.offset,g=void 0===b?0:b,m=t.parameters,y=void 0===m?{}:m,p=t.data,O=void 0===p?null:p,j=t.type,_=void 0===j?this.type:j,A=t.width,k=void 0===A?this.width:A,E=t.height,x=void 0===E?this.height:E,w=t.dataFormat,T=void 0===w?this.dataFormat:w,M=t.compressed,L=void 0!==M&&M;O||(O=a);var S=this._deduceParameters({format:s,type:_,dataFormat:T,compressed:L,data:O,width:k,height:x});_=S.type,T=S.dataFormat,L=S.compressed,k=S.width,x=S.height;var P=this.gl;P.bindTexture(this.target,this.handle);var R,I=this._getDataType({data:O,compressed:L});if(O=I.data,R=I.dataType,Object(f.k)(this.gl,y,(function(){switch(R){case"null":P.texImage2D(r,o,s,k,x,h,T,_,O);break;case"typed-array":P.texImage2D(r,o,s,k,x,h,T,_,O,g);break;case"buffer":Object(d.a)(P),P.bindBuffer(35052,O.handle||O),P.texImage2D(r,o,s,k,x,h,T,_,g),P.bindBuffer(35052,null);break;case"browser-object":Object(f.f)(P)?P.texImage2D(r,o,s,k,x,h,T,_,O):P.texImage2D(r,o,s,T,_,O);break;case"compressed":P.compressedTexImage2D(r,o,s,k,x,h,O);break;default:Object(v.a)(!1,"Unknown image data type")}})),O&&O.byteLength)this._trackAllocatedMemory(O.byteLength,"Texture");else{var D=l.a[this.dataFormat]||4,F=l.c[this.type]||1;this._trackAllocatedMemory(this.width*this.height*D*F,"Texture")}return this.loaded=!0,this}},{key:"setSubImageData",value:function(t){var e=this,r=t.target,n=void 0===r?this.target:r,a=t.pixels,i=void 0===a?null:a,o=t.data,u=void 0===o?null:o,s=t.x,l=void 0===s?0:s,h=t.y,b=void 0===h?0:h,g=t.width,y=void 0===g?this.width:g,p=t.height,O=void 0===p?this.height:p,j=t.level,_=void 0===j?0:j,A=t.format,k=void 0===A?this.format:A,E=t.type,x=void 0===E?this.type:E,w=t.dataFormat,T=void 0===w?this.dataFormat:w,M=t.compressed,L=void 0!==M&&M,S=t.offset,P=void 0===S?0:S,R=t.border,I=(void 0===R&&this.border,t.parameters),D=void 0===I?{}:I,F=this._deduceParameters({format:k,type:x,dataFormat:T,compressed:L,data:u,width:y,height:O});if(x=F.type,T=F.dataFormat,L=F.compressed,y=F.width,O=F.height,Object(v.a)(0===this.depth,"texSubImage not supported for 3D textures"),u||(u=i),u&&u.data){var B=u;u=B.data,y=B.shape[0],O=B.shape[1]}u instanceof c.a&&(u=u.handle),this.gl.bindTexture(this.target,this.handle),Object(f.k)(this.gl,D,(function(){L?e.gl.compressedTexSubImage2D(n,_,l,b,y,O,k,u):null===u?e.gl.texSubImage2D(n,_,l,b,y,O,T,x,null):ArrayBuffer.isView(u)?e.gl.texSubImage2D(n,_,l,b,y,O,T,x,u,P):u instanceof m?(Object(d.a)(e.gl),e.gl.bindBuffer(35052,u),e.gl.texSubImage2D(n,_,l,b,y,O,T,x,P),e.gl.bindBuffer(35052,null)):Object(f.f)(e.gl)?e.gl.texSubImage2D(n,_,l,b,y,O,T,x,u):e.gl.texSubImage2D(n,_,l,b,T,x,u)})),this.gl.bindTexture(this.target,null)}},{key:"copyFramebuffer",value:function(){return f.g.error("Texture.copyFramebuffer({...}) is no logner supported, use copyToTexture(source, target, opts})")(),null}},{key:"getActiveUnit",value:function(){return this.gl.getParameter(34016)-33984}},{key:"bind",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:this.textureUnit,e=this.gl;return void 0!==t&&(this.textureUnit=t,e.activeTexture(33984+t)),e.bindTexture(this.target,this.handle),t}},{key:"unbind",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:this.textureUnit,e=this.gl;return void 0!==t&&(this.textureUnit=t,e.activeTexture(33984+t)),e.bindTexture(this.target,null),t}},{key:"_getDataType",value:function(t){var e=t.data,r=t.compressed;return void 0!==r&&r?{data:e,dataType:"compressed"}:null===e?{data:e,dataType:"null"}:ArrayBuffer.isView(e)?{data:e,dataType:"typed-array"}:e instanceof c.a?{data:e.handle,dataType:"buffer"}:e instanceof m?{data:e,dataType:"buffer"}:{data:e,dataType:"browser-object"}}},{key:"_deduceParameters",value:function(t){var e=t.format,r=t.data,n=t.width,a=t.height,i=t.dataFormat,o=t.type,u=t.compressed,s=l.b[e];i=i||s&&s.dataFormat,o=o||s&&s.types[0],u=u||s&&s.compressed;var c=this._deduceImageSize(r,n,a);return{dataFormat:i,type:o,compressed:u,width:n=c.width,height:a=c.height,format:e,data:r}}},{key:"_deduceImageSize",value:function(t,e,r){var n;return n="undefined"!=typeof ImageData&&t instanceof ImageData?{width:t.width,height:t.height}:"undefined"!=typeof HTMLImageElement&&t instanceof HTMLImageElement?{width:t.naturalWidth,height:t.naturalHeight}:"undefined"!=typeof HTMLCanvasElement&&t instanceof HTMLCanvasElement||"undefined"!=typeof ImageBitmap&&t instanceof ImageBitmap?{width:t.width,height:t.height}:"undefined"!=typeof HTMLVideoElement&&t instanceof HTMLVideoElement?{width:t.videoWidth,height:t.videoHeight}:t?{width:e,height:r}:{width:e>=0?e:1,height:r>=0?r:1},Object(v.a)(n,"Could not deduced texture size"),Object(v.a)(void 0===e||n.width===e,"Deduced texture width does not match supplied width"),Object(v.a)(void 0===r||n.height===r,"Deduced texture height does not match supplied height"),n}},{key:"_createHandle",value:function(){return this.gl.createTexture()}},{key:"_deleteHandle",value:function(){this.gl.deleteTexture(this.handle),this._trackDeallocatedMemory("Texture")}},{key:"_getParameter",value:function(t){switch(t){case 4096:return this.width;case 4097:return this.height;default:this.gl.bindTexture(this.target,this.handle);var e=this.gl.getTexParameter(this.target,t);return this.gl.bindTexture(this.target,null),e}}},{key:"_setParameter",value:function(t,e){switch(this.gl.bindTexture(this.target,this.handle),e=this._getNPOTParam(t,e),t){case 33082:case 33083:this.gl.texParameterf(this.handle,t,e);break;case 4096:case 4097:Object(v.a)(!1);break;default:this.gl.texParameteri(this.target,t,e)}return this.gl.bindTexture(this.target,null),this}},{key:"_isNPOT",value:function(){return!Object(f.f)(this.gl)&&(!(!this.width||!this.height)&&(!Object(b.b)(this.width)||!Object(b.b)(this.height)))}},{key:"_updateForNPOT",value:function(t){void 0===t[this.gl.TEXTURE_MIN_FILTER]&&(t[this.gl.TEXTURE_MIN_FILTER]=this.gl.LINEAR),void 0===t[this.gl.TEXTURE_WRAP_S]&&(t[this.gl.TEXTURE_WRAP_S]=this.gl.CLAMP_TO_EDGE),void 0===t[this.gl.TEXTURE_WRAP_T]&&(t[this.gl.TEXTURE_WRAP_T]=this.gl.CLAMP_TO_EDGE)}},{key:"_getNPOTParam",value:function(t,e){if(this._isNPOT())switch(t){case 10241:-1===g.indexOf(e)&&(e=9729);break;case 10242:case 10243:33071!==e&&(e=33071)}return e}}]),e}(s.a)},"n+fv":function(t,e,r){"use strict";r.d(e,"b",(function(){return a})),r.d(e,"g",(function(){return i})),r.d(e,"e",(function(){return o})),r.d(e,"h",(function(){return u})),r.d(e,"i",(function(){return s})),r.d(e,"d",(function(){return c})),r.d(e,"c",(function(){return l})),r.d(e,"o",(function(){return f})),r.d(e,"n",(function(){return h})),r.d(e,"p",(function(){return d})),r.d(e,"j",(function(){return b})),r.d(e,"k",(function(){return v})),r.d(e,"l",(function(){return g})),r.d(e,"a",(function(){return m})),r.d(e,"m",(function(){return p})),r.d(e,"f",(function(){return O}));r("QFcT");var n=r("yU0y");function a(){var t=new n.a(3);return n.a!=Float32Array&&(t[0]=0,t[1]=0,t[2]=0),t}function i(t){var e=t[0],r=t[1],n=t[2];return Math.hypot(e,r,n)}function o(t,e,r){var a=new n.a(3);return a[0]=t,a[1]=e,a[2]=r,a}function u(t,e){return t[0]=-e[0],t[1]=-e[1],t[2]=-e[2],t}function s(t,e){var r=e[0],n=e[1],a=e[2],i=r*r+n*n+a*a;return i>0&&(i=1/Math.sqrt(i)),t[0]=e[0]*i,t[1]=e[1]*i,t[2]=e[2]*i,t}function c(t,e){return t[0]*e[0]+t[1]*e[1]+t[2]*e[2]}function l(t,e,r){var n=e[0],a=e[1],i=e[2],o=r[0],u=r[1],s=r[2];return t[0]=a*s-i*u,t[1]=i*o-n*s,t[2]=n*u-a*o,t}function f(t,e,r){var n=e[0],a=e[1],i=e[2],o=r[3]*n+r[7]*a+r[11]*i+r[15];return o=o||1,t[0]=(r[0]*n+r[4]*a+r[8]*i+r[12])/o,t[1]=(r[1]*n+r[5]*a+r[9]*i+r[13])/o,t[2]=(r[2]*n+r[6]*a+r[10]*i+r[14])/o,t}function h(t,e,r){var n=e[0],a=e[1],i=e[2];return t[0]=n*r[0]+a*r[3]+i*r[6],t[1]=n*r[1]+a*r[4]+i*r[7],t[2]=n*r[2]+a*r[5]+i*r[8],t}function d(t,e,r){var n=r[0],a=r[1],i=r[2],o=r[3],u=e[0],s=e[1],c=e[2],l=a*c-i*s,f=i*u-n*c,h=n*s-a*u,d=a*h-i*f,b=i*l-n*h,v=n*f-a*l,g=2*o;return l*=g,f*=g,h*=g,d*=2,b*=2,v*=2,t[0]=u+l+d,t[1]=s+f+b,t[2]=c+h+v,t}function b(t,e,r,n){var a=[],i=[];return a[0]=e[0]-r[0],a[1]=e[1]-r[1],a[2]=e[2]-r[2],i[0]=a[0],i[1]=a[1]*Math.cos(n)-a[2]*Math.sin(n),i[2]=a[1]*Math.sin(n)+a[2]*Math.cos(n),t[0]=i[0]+r[0],t[1]=i[1]+r[1],t[2]=i[2]+r[2],t}function v(t,e,r,n){var a=[],i=[];return a[0]=e[0]-r[0],a[1]=e[1]-r[1],a[2]=e[2]-r[2],i[0]=a[2]*Math.sin(n)+a[0]*Math.cos(n),i[1]=a[1],i[2]=a[2]*Math.cos(n)-a[0]*Math.sin(n),t[0]=i[0]+r[0],t[1]=i[1]+r[1],t[2]=i[2]+r[2],t}function g(t,e,r,n){var a=[],i=[];return a[0]=e[0]-r[0],a[1]=e[1]-r[1],a[2]=e[2]-r[2],i[0]=a[0]*Math.cos(n)-a[1]*Math.sin(n),i[1]=a[0]*Math.sin(n)+a[1]*Math.cos(n),i[2]=a[2],t[0]=i[0]+r[0],t[1]=i[1]+r[1],t[2]=i[2]+r[2],t}function m(t,e){var r=t[0],n=t[1],a=t[2],i=e[0],o=e[1],u=e[2],s=Math.sqrt(r*r+n*n+a*a)*Math.sqrt(i*i+o*o+u*u),l=s&&c(t,e)/s;return Math.acos(Math.min(Math.max(l,-1),1))}var y,p=function(t,e,r){return t[0]=e[0]-r[0],t[1]=e[1]-r[1],t[2]=e[2]-r[2],t},O=i;y=a()},n4Ve:function(t,e,r){"use strict";r.d(e,"a",(function(){return m}));var n,a=r("1OyB"),i=r("md7G"),o=r("foSv"),u=r("JX7q"),s=r("vuIU"),c=r("Ji7U"),l=r("L8KH"),f=r("rePB"),h="EXT_color_buffer_float",d=(n={},Object(f.a)(n,33189,{bpp:2}),Object(f.a)(n,33190,{gl2:!0,bpp:3}),Object(f.a)(n,36012,{gl2:!0,bpp:4}),Object(f.a)(n,36168,{bpp:1}),Object(f.a)(n,34041,{bpp:4}),Object(f.a)(n,35056,{gl2:!0,bpp:4}),Object(f.a)(n,36013,{gl2:!0,bpp:5}),Object(f.a)(n,32854,{bpp:2}),Object(f.a)(n,36194,{bpp:2}),Object(f.a)(n,32855,{bpp:2}),Object(f.a)(n,33321,{gl2:!0,bpp:1}),Object(f.a)(n,33330,{gl2:!0,bpp:1}),Object(f.a)(n,33329,{gl2:!0,bpp:1}),Object(f.a)(n,33332,{gl2:!0,bpp:2}),Object(f.a)(n,33331,{gl2:!0,bpp:2}),Object(f.a)(n,33334,{gl2:!0,bpp:4}),Object(f.a)(n,33333,{gl2:!0,bpp:4}),Object(f.a)(n,33323,{gl2:!0,bpp:2}),Object(f.a)(n,33336,{gl2:!0,bpp:2}),Object(f.a)(n,33335,{gl2:!0,bpp:2}),Object(f.a)(n,33338,{gl2:!0,bpp:4}),Object(f.a)(n,33337,{gl2:!0,bpp:4}),Object(f.a)(n,33340,{gl2:!0,bpp:8}),Object(f.a)(n,33339,{gl2:!0,bpp:8}),Object(f.a)(n,32849,{gl2:!0,bpp:3}),Object(f.a)(n,32856,{gl2:!0,bpp:4}),Object(f.a)(n,32857,{gl2:!0,bpp:4}),Object(f.a)(n,36220,{gl2:!0,bpp:4}),Object(f.a)(n,36238,{gl2:!0,bpp:4}),Object(f.a)(n,36975,{gl2:!0,bpp:4}),Object(f.a)(n,36214,{gl2:!0,bpp:8}),Object(f.a)(n,36232,{gl2:!0,bpp:8}),Object(f.a)(n,36226,{gl2:!0,bpp:16}),Object(f.a)(n,36208,{gl2:!0,bpp:16}),Object(f.a)(n,33325,{gl2:h,bpp:2}),Object(f.a)(n,33327,{gl2:h,bpp:4}),Object(f.a)(n,34842,{gl2:h,bpp:8}),Object(f.a)(n,33326,{gl2:h,bpp:4}),Object(f.a)(n,33328,{gl2:h,bpp:8}),Object(f.a)(n,34836,{gl2:h,bpp:16}),Object(f.a)(n,35898,{gl2:h,bpp:4}),n),b=r("iein"),v=r("CxzY");function g(t,e,r){var n=r[e];if(!n)return!1;var a=Object(b.f)(t)&&n.gl2||n.gl1;return"string"==typeof a?t.getExtension(a):a}var m=function(t){function e(t){var r,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return Object(a.a)(this,e),(r=Object(i.a)(this,Object(o.a)(e).call(this,t,n))).initialize(n),Object.seal(Object(u.a)(r)),r}return Object(c.a)(e,t),Object(s.a)(e,null,[{key:"isSupported",value:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{format:null},r=e.format;return!r||g(t,r,d)}},{key:"getSamplesForFormat",value:function(t,e){var r=e.format;return t.getInternalformatParameter(36161,r,32937)}}]),Object(s.a)(e,[{key:"initialize",value:function(t){var e=t.format,r=t.width,n=void 0===r?1:r,a=t.height,i=void 0===a?1:a,o=t.samples,u=void 0===o?0:o;return Object(v.a)(e,"Needs format"),this._trackDeallocatedMemory(),this.gl.bindRenderbuffer(36161,this.handle),0!==u&&Object(b.f)(this.gl)?this.gl.renderbufferStorageMultisample(36161,u,e,n,i):this.gl.renderbufferStorage(36161,e,n,i),this.format=e,this.width=n,this.height=i,this.samples=u,this._trackAllocatedMemory(this.width*this.height*(this.samples||1)*d[this.format].bpp),this}},{key:"resize",value:function(t){var e=t.width,r=t.height;return e!==this.width||r!==this.height?this.initialize({width:e,height:r,format:this.format,samples:this.samples}):this}},{key:"_createHandle",value:function(){return this.gl.createRenderbuffer()}},{key:"_deleteHandle",value:function(){this.gl.deleteRenderbuffer(this.handle),this._trackDeallocatedMemory()}},{key:"_bindHandle",value:function(t){this.gl.bindRenderbuffer(36161,t)}},{key:"_syncHandle",value:function(t){this.format=this.getParameter(36164),this.width=this.getParameter(36162),this.height=this.getParameter(36163),this.samples=this.getParameter(36011)}},{key:"_getParameter",value:function(t){return this.gl.bindRenderbuffer(36161,this.handle),this.gl.getRenderbufferParameter(36161,t)}}]),e}(l.a)},oejM:function(t,e,r){"use strict";r.d(e,"c",(function(){return s})),r.d(e,"a",(function(){return c})),r.d(e,"b",(function(){return l}));var n,a=r("ODXe"),i=r("rePB"),o=r("CxzY"),u=(n={},Object(i.a)(n,5126,[5126,1,"float"]),Object(i.a)(n,35664,[5126,2,"vec2"]),Object(i.a)(n,35665,[5126,3,"vec3"]),Object(i.a)(n,35666,[5126,4,"vec4"]),Object(i.a)(n,5124,[5124,1,"int"]),Object(i.a)(n,35667,[5124,2,"ivec2"]),Object(i.a)(n,35668,[5124,3,"ivec3"]),Object(i.a)(n,35669,[5124,4,"ivec4"]),Object(i.a)(n,5125,[5125,1,"uint"]),Object(i.a)(n,36294,[5125,2,"uvec2"]),Object(i.a)(n,36295,[5125,3,"uvec3"]),Object(i.a)(n,36296,[5125,4,"uvec4"]),Object(i.a)(n,35670,[5126,1,"bool"]),Object(i.a)(n,35671,[5126,2,"bvec2"]),Object(i.a)(n,35672,[5126,3,"bvec3"]),Object(i.a)(n,35673,[5126,4,"bvec4"]),Object(i.a)(n,35674,[5126,8,"mat2"]),Object(i.a)(n,35685,[5126,8,"mat2x3"]),Object(i.a)(n,35686,[5126,8,"mat2x4"]),Object(i.a)(n,35675,[5126,12,"mat3"]),Object(i.a)(n,35687,[5126,12,"mat3x2"]),Object(i.a)(n,35688,[5126,12,"mat3x4"]),Object(i.a)(n,35676,[5126,16,"mat4"]),Object(i.a)(n,35689,[5126,16,"mat4x2"]),Object(i.a)(n,35690,[5126,16,"mat4x3"]),n);function s(t){switch(t){case 0:return 0;case 1:case 3:case 2:return 1;case 4:case 5:case 6:return 4;default:return Object(o.a)(!1),0}}function c(t){var e=u[t];if(!e)return null;var r=Object(a.a)(e,2);return{type:r[0],components:r[1]}}function l(t,e){switch(t){case 5120:case 5121:case 5122:case 5123:t=5126}for(var r in u){var n=Object(a.a)(u[r],3),i=n[0],o=n[1],s=n[2];if(i===t&&o===e)return{glType:r,name:s}}return null}},p7wt:function(t,e,r){"use strict";r.d(e,"b",(function(){return s})),r.d(e,"a",(function(){return c}));r("sc/6");var n=r("11Ib"),a=(r("l6PP"),r("iein"),r("SUVH"),r("B9+J")),i=r("CxzY");function o(t){switch(t){case 6406:case 33326:case 6403:return 1;case 33328:case 33319:return 2;case 6407:case 34837:return 3;case 6408:case 34836:return 4;default:return Object(i.a)(!1),0}}var u=r("MdWm");function s(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},r=e.sourceX,n=void 0===r?0:r,o=e.sourceY,u=void 0===o?0:o,s=e.sourceFormat,c=void 0===s?6408:s,h=e.sourceAttachment,d=void 0===h?36064:h,b=e.target,v=void 0===b?null:b,g=e.sourceWidth,m=e.sourceHeight,y=e.sourceType,p=l(t),O=p.framebuffer,j=p.deleteFramebuffer;Object(i.a)(O);var _=O.gl,A=O.handle,k=O.attachments;g=g||O.width,m=m||O.height,36064===d&&null===A&&(d=1028),Object(i.a)(k[d]),v=f(v,y=y||k[d].type,c,g,m),y=y||Object(a.b)(v);var E=_.bindFramebuffer(36160,A);return _.readPixels(n,u,g,m,c,y,v),_.bindFramebuffer(36160,E||null),j&&O.delete(),v}function c(t){for(var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},r=e.sourceAttachment,n=void 0===r?36064:r,i=e.targetMaxHeight,o=void 0===i?Number.MAX_SAFE_INTEGER:i,u=s(t,{sourceAttachment:n}),c=t.width,l=t.height;l>o;){var f=Object(a.d)({data:u,width:c,height:l});u=f.data,c=f.width,l=f.height}Object(a.a)({data:u,width:c,height:l});var h=document.createElement("canvas");h.width=c,h.height=l;var d=h.getContext("2d"),b=d.createImageData(c,l);return b.data.set(u),d.putImageData(b,0,0),h.toDataURL()}function l(t){return t instanceof n.a?{framebuffer:t,deleteFramebuffer:!1}:{framebuffer:Object(u.b)(t),deleteFramebuffer:!0}}function f(t,e,r,n,i){return t||(e=e||5121,new(Object(a.c)(e,{clamped:!1}))(n*i*o(r)))}},pRFE:function(t,e,r){"use strict";r.d(e,"a",(function(){return u})),r.d(e,"b",(function(){return s}));var n=r("ODXe"),a=r("iein"),i=r("SUVH"),o=r("CxzY");function u(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},r=e.framebuffer,n=void 0===r?null:r,i=e.color,u=void 0===i?null:i,s=e.depth,c=void 0===s?null:s,l=e.stencil,f=void 0===l?null:l,h={};n&&(h.framebuffer=n);var d=0;u&&(d|=16384,!0!==u&&(h.clearColor=u)),c&&(d|=256,!0!==c&&(h.clearDepth=c)),f&&(d|=1024,!0!==c&&(h.clearStencil=c)),Object(o.a)(0!==d,"clear: bad arguments"),Object(a.k)(t,h,(function(){t.clear(d)}))}function s(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},r=e.framebuffer,u=void 0===r?null:r,s=e.buffer,c=void 0===s?6144:s,l=e.drawBuffer,f=void 0===l?0:l,h=e.value,d=void 0===h?[0,0,0,0]:h;Object(i.a)(t),Object(a.k)(t,{framebuffer:u},(function(){switch(c){case 6144:switch(d.constructor){case Int32Array:t.clearBufferiv(c,f,d);break;case Uint32Array:t.clearBufferuiv(c,f,d);break;case Float32Array:default:t.clearBufferfv(c,f,d)}break;case 6145:t.clearBufferfv(6145,0,[d]);break;case 6146:t.clearBufferiv(6146,0,[d]);break;case 34041:var e=Object(n.a)(d,2),r=e[0],a=e[1];t.clearBufferfi(34041,0,r,a);break;default:Object(o.a)(!1,"clear: bad arguments")}}))}},rMhL:function(t,e,r){"use strict";r.d(e,"b",(function(){return n})),r.d(e,"a",(function(){return a}));var n="vs",a="fs"},rnmN:function(t,e,r){"use strict";r.d(e,"b",(function(){return a})),r.d(e,"a",(function(){return i}));var n=r("CxzY");function a(t,e){if("string"!=typeof e)return e;var r=Number(e);if(!isNaN(r))return r;var a=t[e=e.replace(/^.*\./,"")];return Object(n.a)(void 0!==a,"Accessing undefined constant GL.".concat(e)),a}function i(t,e){for(var r in e=Number(e),t)if(t[r]===e)return"GL.".concat(r);return String(e)}},rp2x:function(t,e,r){"use strict";r.d(e,"c",(function(){return l})),r.d(e,"e",(function(){return v})),r.d(e,"a",(function(){return m})),r.d(e,"b",(function(){return y})),r.d(e,"d",(function(){return O}));var n,a,i,o=r("ODXe"),u=r("KQm4"),s=r("rePB"),c=r("g6k1"),l=(n={},Object(s.a)(n,3042,!1),Object(s.a)(n,32773,new Float32Array([0,0,0,0])),Object(s.a)(n,32777,32774),Object(s.a)(n,34877,32774),Object(s.a)(n,32969,1),Object(s.a)(n,32968,0),Object(s.a)(n,32971,1),Object(s.a)(n,32970,0),Object(s.a)(n,3106,new Float32Array([0,0,0,0])),Object(s.a)(n,3107,[!0,!0,!0,!0]),Object(s.a)(n,2884,!1),Object(s.a)(n,2885,1029),Object(s.a)(n,2929,!1),Object(s.a)(n,2931,1),Object(s.a)(n,2932,513),Object(s.a)(n,2928,new Float32Array([0,1])),Object(s.a)(n,2930,!0),Object(s.a)(n,3024,!0),Object(s.a)(n,36006,null),Object(s.a)(n,2886,2305),Object(s.a)(n,33170,4352),Object(s.a)(n,2849,1),Object(s.a)(n,32823,!1),Object(s.a)(n,32824,0),Object(s.a)(n,10752,0),Object(s.a)(n,32938,1),Object(s.a)(n,32939,!1),Object(s.a)(n,3089,!1),Object(s.a)(n,3088,new Int32Array([0,0,1024,1024])),Object(s.a)(n,2960,!1),Object(s.a)(n,2961,0),Object(s.a)(n,2968,4294967295),Object(s.a)(n,36005,4294967295),Object(s.a)(n,2962,519),Object(s.a)(n,2967,0),Object(s.a)(n,2963,4294967295),Object(s.a)(n,34816,519),Object(s.a)(n,36003,0),Object(s.a)(n,36004,4294967295),Object(s.a)(n,2964,7680),Object(s.a)(n,2965,7680),Object(s.a)(n,2966,7680),Object(s.a)(n,34817,7680),Object(s.a)(n,34818,7680),Object(s.a)(n,34819,7680),Object(s.a)(n,2978,[0,0,1024,1024]),Object(s.a)(n,3333,4),Object(s.a)(n,3317,4),Object(s.a)(n,37440,!1),Object(s.a)(n,37441,!1),Object(s.a)(n,37443,37444),Object(s.a)(n,35723,4352),Object(s.a)(n,36010,null),Object(s.a)(n,35977,!1),Object(s.a)(n,3330,0),Object(s.a)(n,3332,0),Object(s.a)(n,3331,0),Object(s.a)(n,3314,0),Object(s.a)(n,32878,0),Object(s.a)(n,3316,0),Object(s.a)(n,3315,0),Object(s.a)(n,32877,0),n),f=function(t,e,r){return e?t.enable(r):t.disable(r)},h=function(t,e,r){return t.hint(r,e)},d=function(t,e,r){return t.pixelStorei(r,e)};function b(t){return Array.isArray(t)||ArrayBuffer.isView(t)}var v=(a={},Object(s.a)(a,3042,f),Object(s.a)(a,32773,(function(t,e){return t.blendColor.apply(t,Object(u.a)(e))})),Object(s.a)(a,32777,"blendEquation"),Object(s.a)(a,34877,"blendEquation"),Object(s.a)(a,32969,"blendFunc"),Object(s.a)(a,32968,"blendFunc"),Object(s.a)(a,32971,"blendFunc"),Object(s.a)(a,32970,"blendFunc"),Object(s.a)(a,3106,(function(t,e){return t.clearColor.apply(t,Object(u.a)(e))})),Object(s.a)(a,3107,(function(t,e){return t.colorMask.apply(t,Object(u.a)(e))})),Object(s.a)(a,2884,f),Object(s.a)(a,2885,(function(t,e){return t.cullFace(e)})),Object(s.a)(a,2929,f),Object(s.a)(a,2931,(function(t,e){return t.clearDepth(e)})),Object(s.a)(a,2932,(function(t,e){return t.depthFunc(e)})),Object(s.a)(a,2928,(function(t,e){return t.depthRange.apply(t,Object(u.a)(e))})),Object(s.a)(a,2930,(function(t,e){return t.depthMask(e)})),Object(s.a)(a,3024,f),Object(s.a)(a,35723,h),Object(s.a)(a,36006,(function(t,e){var r=Object(c.h)(t)?36009:36160;return t.bindFramebuffer(r,e)})),Object(s.a)(a,2886,(function(t,e){return t.frontFace(e)})),Object(s.a)(a,33170,h),Object(s.a)(a,2849,(function(t,e){return t.lineWidth(e)})),Object(s.a)(a,32823,f),Object(s.a)(a,32824,"polygonOffset"),Object(s.a)(a,10752,"polygonOffset"),Object(s.a)(a,35977,f),Object(s.a)(a,32938,"sampleCoverage"),Object(s.a)(a,32939,"sampleCoverage"),Object(s.a)(a,3089,f),Object(s.a)(a,3088,(function(t,e){return t.scissor.apply(t,Object(u.a)(e))})),Object(s.a)(a,2960,f),Object(s.a)(a,2961,(function(t,e){return t.clearStencil(e)})),Object(s.a)(a,2968,(function(t,e){return t.stencilMaskSeparate(1028,e)})),Object(s.a)(a,36005,(function(t,e){return t.stencilMaskSeparate(1029,e)})),Object(s.a)(a,2962,"stencilFuncFront"),Object(s.a)(a,2967,"stencilFuncFront"),Object(s.a)(a,2963,"stencilFuncFront"),Object(s.a)(a,34816,"stencilFuncBack"),Object(s.a)(a,36003,"stencilFuncBack"),Object(s.a)(a,36004,"stencilFuncBack"),Object(s.a)(a,2964,"stencilOpFront"),Object(s.a)(a,2965,"stencilOpFront"),Object(s.a)(a,2966,"stencilOpFront"),Object(s.a)(a,34817,"stencilOpBack"),Object(s.a)(a,34818,"stencilOpBack"),Object(s.a)(a,34819,"stencilOpBack"),Object(s.a)(a,2978,(function(t,e){return t.viewport.apply(t,Object(u.a)(e))})),Object(s.a)(a,3333,d),Object(s.a)(a,3317,d),Object(s.a)(a,37440,d),Object(s.a)(a,37441,d),Object(s.a)(a,37443,d),Object(s.a)(a,3330,d),Object(s.a)(a,3332,d),Object(s.a)(a,3331,d),Object(s.a)(a,36010,(function(t,e){return t.bindFramebuffer(36008,e)})),Object(s.a)(a,3314,d),Object(s.a)(a,32878,d),Object(s.a)(a,3316,d),Object(s.a)(a,3315,d),Object(s.a)(a,32877,d),Object(s.a)(a,"framebuffer",(function(t,e){var r=e&&"handle"in e?e.handle:e;return t.bindFramebuffer(36160,r)})),Object(s.a)(a,"blend",(function(t,e){return e?t.enable(3042):t.disable(3042)})),Object(s.a)(a,"blendColor",(function(t,e){return t.blendColor.apply(t,Object(u.a)(e))})),Object(s.a)(a,"blendEquation",(function(t,e){e=b(e)?e:[e,e],t.blendEquationSeparate.apply(t,Object(u.a)(e))})),Object(s.a)(a,"blendFunc",(function(t,e){e=b(e)&&2===e.length?[].concat(Object(u.a)(e),Object(u.a)(e)):e,t.blendFuncSeparate.apply(t,Object(u.a)(e))})),Object(s.a)(a,"clearColor",(function(t,e){return t.clearColor.apply(t,Object(u.a)(e))})),Object(s.a)(a,"clearDepth",(function(t,e){return t.clearDepth(e)})),Object(s.a)(a,"clearStencil",(function(t,e){return t.clearStencil(e)})),Object(s.a)(a,"colorMask",(function(t,e){return t.colorMask.apply(t,Object(u.a)(e))})),Object(s.a)(a,"cull",(function(t,e){return e?t.enable(2884):t.disable(2884)})),Object(s.a)(a,"cullFace",(function(t,e){return t.cullFace(e)})),Object(s.a)(a,"depthTest",(function(t,e){return e?t.enable(2929):t.disable(2929)})),Object(s.a)(a,"depthFunc",(function(t,e){return t.depthFunc(e)})),Object(s.a)(a,"depthMask",(function(t,e){return t.depthMask(e)})),Object(s.a)(a,"depthRange",(function(t,e){return t.depthRange.apply(t,Object(u.a)(e))})),Object(s.a)(a,"dither",(function(t,e){return e?t.enable(3024):t.disable(3024)})),Object(s.a)(a,"derivativeHint",(function(t,e){t.hint(35723,e)})),Object(s.a)(a,"frontFace",(function(t,e){return t.frontFace(e)})),Object(s.a)(a,"mipmapHint",(function(t,e){return t.hint(33170,e)})),Object(s.a)(a,"lineWidth",(function(t,e){return t.lineWidth(e)})),Object(s.a)(a,"polygonOffsetFill",(function(t,e){return e?t.enable(32823):t.disable(32823)})),Object(s.a)(a,"polygonOffset",(function(t,e){return t.polygonOffset.apply(t,Object(u.a)(e))})),Object(s.a)(a,"sampleCoverage",(function(t,e){return t.sampleCoverage.apply(t,Object(u.a)(e))})),Object(s.a)(a,"scissorTest",(function(t,e){return e?t.enable(3089):t.disable(3089)})),Object(s.a)(a,"scissor",(function(t,e){return t.scissor.apply(t,Object(u.a)(e))})),Object(s.a)(a,"stencilTest",(function(t,e){return e?t.enable(2960):t.disable(2960)})),Object(s.a)(a,"stencilMask",(function(t,e){var r=e=b(e)?e:[e,e],n=Object(o.a)(r,2),a=n[0],i=n[1];t.stencilMaskSeparate(1028,a),t.stencilMaskSeparate(1029,i)})),Object(s.a)(a,"stencilFunc",(function(t,e){var r=e=b(e)&&3===e.length?[].concat(Object(u.a)(e),Object(u.a)(e)):e,n=Object(o.a)(r,6),a=n[0],i=n[1],s=n[2],c=n[3],l=n[4],f=n[5];t.stencilFuncSeparate(1028,a,i,s),t.stencilFuncSeparate(1029,c,l,f)})),Object(s.a)(a,"stencilOp",(function(t,e){var r=e=b(e)&&3===e.length?[].concat(Object(u.a)(e),Object(u.a)(e)):e,n=Object(o.a)(r,6),a=n[0],i=n[1],s=n[2],c=n[3],l=n[4],f=n[5];t.stencilOpSeparate(1028,a,i,s),t.stencilOpSeparate(1029,c,l,f)})),Object(s.a)(a,"viewport",(function(t,e){return t.viewport.apply(t,Object(u.a)(e))})),a);function g(t,e,r){return void 0!==e[t]?e[t]:r[t]}var m={blendEquation:function(t,e,r){return t.blendEquationSeparate(g(32777,e,r),g(34877,e,r))},blendFunc:function(t,e,r){return t.blendFuncSeparate(g(32969,e,r),g(32968,e,r),g(32971,e,r),g(32970,e,r))},polygonOffset:function(t,e,r){return t.polygonOffset(g(32824,e,r),g(10752,e,r))},sampleCoverage:function(t,e,r){return t.sampleCoverage(g(32938,e,r),g(32939,e,r))},stencilFuncFront:function(t,e,r){return t.stencilFuncSeparate(1028,g(2962,e,r),g(2967,e,r),g(2963,e,r))},stencilFuncBack:function(t,e,r){return t.stencilFuncSeparate(1029,g(34816,e,r),g(36003,e,r),g(36004,e,r))},stencilOpFront:function(t,e,r){return t.stencilOpSeparate(1028,g(2964,e,r),g(2965,e,r),g(2966,e,r))},stencilOpBack:function(t,e,r){return t.stencilOpSeparate(1029,g(34817,e,r),g(34818,e,r),g(34819,e,r))}},y={enable:function(t,e){return t(Object(s.a)({},e,!0))},disable:function(t,e){return t(Object(s.a)({},e,!1))},pixelStorei:function(t,e,r){return t(Object(s.a)({},e,r))},hint:function(t,e,r){return t(Object(s.a)({},e,r))},bindFramebuffer:function(t,e,r){var n;switch(e){case 36160:return t((n={},Object(s.a)(n,36006,r),Object(s.a)(n,36010,r),n));case 36009:return t(Object(s.a)({},36006,r));case 36008:return t(Object(s.a)({},36010,r));default:return null}},blendColor:function(t,e,r,n,a){return t(Object(s.a)({},32773,new Float32Array([e,r,n,a])))},blendEquation:function(t,e){var r;return t((r={},Object(s.a)(r,32777,e),Object(s.a)(r,34877,e),r))},blendEquationSeparate:function(t,e,r){var n;return t((n={},Object(s.a)(n,32777,e),Object(s.a)(n,34877,r),n))},blendFunc:function(t,e,r){var n;return t((n={},Object(s.a)(n,32969,e),Object(s.a)(n,32968,r),Object(s.a)(n,32971,e),Object(s.a)(n,32970,r),n))},blendFuncSeparate:function(t,e,r,n,a){var i;return t((i={},Object(s.a)(i,32969,e),Object(s.a)(i,32968,r),Object(s.a)(i,32971,n),Object(s.a)(i,32970,a),i))},clearColor:function(t,e,r,n,a){return t(Object(s.a)({},3106,new Float32Array([e,r,n,a])))},clearDepth:function(t,e){return t(Object(s.a)({},2931,e))},clearStencil:function(t,e){return t(Object(s.a)({},2961,e))},colorMask:function(t,e,r,n,a){return t(Object(s.a)({},3107,[e,r,n,a]))},cullFace:function(t,e){return t(Object(s.a)({},2885,e))},depthFunc:function(t,e){return t(Object(s.a)({},2932,e))},depthRange:function(t,e,r){return t(Object(s.a)({},2928,new Float32Array([e,r])))},depthMask:function(t,e){return t(Object(s.a)({},2930,e))},frontFace:function(t,e){return t(Object(s.a)({},2886,e))},lineWidth:function(t,e){return t(Object(s.a)({},2849,e))},polygonOffset:function(t,e,r){var n;return t((n={},Object(s.a)(n,32824,e),Object(s.a)(n,10752,r),n))},sampleCoverage:function(t,e,r){var n;return t((n={},Object(s.a)(n,32938,e),Object(s.a)(n,32939,r),n))},scissor:function(t,e,r,n,a){return t(Object(s.a)({},3088,new Int32Array([e,r,n,a])))},stencilMask:function(t,e){var r;return t((r={},Object(s.a)(r,2968,e),Object(s.a)(r,36005,e),r))},stencilMaskSeparate:function(t,e,r){return t(Object(s.a)({},1028===e?2968:36005,r))},stencilFunc:function(t,e,r,n){var a;return t((a={},Object(s.a)(a,2962,e),Object(s.a)(a,2967,r),Object(s.a)(a,2963,n),Object(s.a)(a,34816,e),Object(s.a)(a,36003,r),Object(s.a)(a,36004,n),a))},stencilFuncSeparate:function(t,e,r,n,a){var i;return t((i={},Object(s.a)(i,1028===e?2962:34816,r),Object(s.a)(i,1028===e?2967:36003,n),Object(s.a)(i,1028===e?2963:36004,a),i))},stencilOp:function(t,e,r,n){var a;return t((a={},Object(s.a)(a,2964,e),Object(s.a)(a,2965,r),Object(s.a)(a,2966,n),Object(s.a)(a,34817,e),Object(s.a)(a,34818,r),Object(s.a)(a,34819,n),a))},stencilOpSeparate:function(t,e,r,n,a){var i;return t((i={},Object(s.a)(i,1028===e?2964:34817,r),Object(s.a)(i,1028===e?2965:34818,n),Object(s.a)(i,1028===e?2966:34819,a),i))},viewport:function(t,e,r,n,a){return t(Object(s.a)({},2978,[e,r,n,a]))}},p=function(t,e){return t.isEnabled(e)},O=(i={},Object(s.a)(i,3042,p),Object(s.a)(i,2884,p),Object(s.a)(i,2929,p),Object(s.a)(i,3024,p),Object(s.a)(i,32823,p),Object(s.a)(i,32926,p),Object(s.a)(i,32928,p),Object(s.a)(i,3089,p),Object(s.a)(i,2960,p),Object(s.a)(i,35977,p),i)},rpxL:function(t,e,r){"use strict";r.d(e,"a",(function(){return s})),r.d(e,"c",(function(){return h})),r.d(e,"b",(function(){return d}));var n,a=r("rePB"),i=r("rMhL"),o=r("uzDn"),u=(n={},Object(a.a)(n,i.b,"#ifdef MODULE_LOGDEPTH\n  logdepth_adjustPosition(gl_Position);\n#endif\n"),Object(a.a)(n,i.a,"#ifdef MODULE_MATERIAL\n  gl_FragColor = material_filterColor(gl_FragColor);\n#endif\n\n#ifdef MODULE_LIGHTING\n  gl_FragColor = lighting_filterColor(gl_FragColor);\n#endif\n\n#ifdef MODULE_FOG\n  gl_FragColor = fog_filterColor(gl_FragColor);\n#endif\n\n#ifdef MODULE_PICKING\n  gl_FragColor = picking_filterHighlightColor(gl_FragColor);\n  gl_FragColor = picking_filterPickingColor(gl_FragColor);\n#endif\n\n#ifdef MODULE_LOGDEPTH\n  logdepth_setFragDepth();\n#endif\n"),n),s="__LUMA_INJECT_DECLARATIONS__",c=/void\s+main\s*\([^)]*\)\s*\{\n?/,l=/}\n?[^{}]*$/,f=[];function h(t,e,r,n){var a=e===i.b,o=function(e){var n=r[e];n.sort((function(t,e){return t.order-e.order})),f.length=n.length;for(var i=0,o=n.length;i<o;++i)f[i]=n[i].injection;var u="".concat(f.join("\n"),"\n");switch(e){case"vs:#decl":a&&(t=t.replace(s,u));break;case"vs:#main-start":a&&(t=t.replace(c,(function(t){return t+u})));break;case"vs:#main-end":a&&(t=t.replace(l,(function(t){return u+t})));break;case"fs:#decl":a||(t=t.replace(s,u));break;case"fs:#main-start":a||(t=t.replace(c,(function(t){return t+u})));break;case"fs:#main-end":a||(t=t.replace(l,(function(t){return u+t})));break;default:t=t.replace(e,(function(t){return t+u}))}};for(var h in r)o(h);return t=t.replace(s,""),n&&(t=t.replace(/\}\s*$/,(function(t){return t+u[e]}))),t}function d(t){var e={};return Object(o.a)(Array.isArray(t)&&t.length>1),t.forEach((function(t){for(var r in t)e[r]=e[r]?"".concat(e[r],"\n").concat(t[r]):t[r]})),e}},rta6:function(t,e,r){"use strict";r.d(e,"a",(function(){return s}));var n=r("1OyB"),a=r("vuIU"),i=r("iein"),o=r("laie"),u=r("xSaR"),s=new(function(){function t(){Object(n.a)(this,t),this.stats=new Map}return Object(a.a)(t,[{key:"get",value:function(t){return this.stats.has(t)||this.stats.set(t,new o.b({id:t})),this.stats.get(t)}}]),t}());if(u.global.luma&&"8.3.2"!==u.global.luma.VERSION)throw new Error("luma.gl - multiple VERSIONs detected: ".concat(u.global.luma.VERSION," vs ").concat("8.3.2"));u.global.luma||(Object(u.isBrowser)()&&i.g.log(1,"luma.gl ".concat("8.3.2"," - ").concat("set luma.log.level=1 (or higher) to trace rendering"))(),u.global.luma=u.global.luma||{VERSION:"8.3.2",version:"8.3.2",log:i.g,stats:s,globals:{modules:{},nodeIO:{}}});u.global.luma},"sSh/":function(t,e,r){"use strict";function n(t,e,r){var n=e[0],a=e[1],i=r[3]*n+r[7]*a||1;return t[0]=(r[0]*n+r[4]*a)/i,t[1]=(r[1]*n+r[5]*a)/i,t}function a(t,e,r){var n=e[0],a=e[1],i=e[2],o=r[3]*n+r[7]*a+r[11]*i||1;return t[0]=(r[0]*n+r[4]*a+r[8]*i)/o,t[1]=(r[1]*n+r[5]*a+r[9]*i)/o,t[2]=(r[2]*n+r[6]*a+r[10]*i)/o,t}function i(t,e,r){var n=e[0],a=e[1];return t[0]=r[0]*n+r[2]*a,t[1]=r[1]*n+r[3]*a,t[2]=e[2],t}function o(t,e,r){var n=e[0],a=e[1],i=e[2];return t[0]=r[0]*n+r[3]*a+r[6]*i,t[1]=r[1]*n+r[4]*a+r[7]*i,t[2]=r[2]*n+r[5]*a+r[8]*i,t[3]=e[3],t}r.d(e,"a",(function(){return n})),r.d(e,"c",(function(){return a})),r.d(e,"b",(function(){return i})),r.d(e,"d",(function(){return o}))},sYR6:function(t,e,r){"use strict";r.d(e,"a",(function(){return h}));var n=r("1OyB"),a=r("vuIU"),i=r("Ji7U"),o=r("md7G"),u=r("foSv"),s=r("41X0"),c=r("+H0l"),l=r("tS8E");function f(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(t){return!1}}();return function(){var r,n=Object(u.a)(t);if(e){var a=Object(u.a)(this).constructor;r=Reflect.construct(n,arguments,a)}else r=n.apply(this,arguments);return Object(o.a)(this,r)}}var h=function(t){Object(i.a)(r,t);var e=f(r);function r(){return Object(n.a)(this,r),e.apply(this,arguments)}return Object(a.a)(r,[{key:"copy",value:function(t){return Object(l.a)(!1),this}},{key:"len",value:function(){return Math.sqrt(this.lengthSquared())}},{key:"magnitude",value:function(){return this.len()}},{key:"lengthSquared",value:function(){for(var t=0,e=0;e<this.ELEMENTS;++e)t+=this[e]*this[e];return t}},{key:"magnitudeSquared",value:function(){return this.lengthSquared()}},{key:"distance",value:function(t){return Math.sqrt(this.distanceSquared(t))}},{key:"distanceSquared",value:function(t){for(var e=0,r=0;r<this.ELEMENTS;++r){var n=this[r]-t[r];e+=n*n}return Object(c.a)(e)}},{key:"dot",value:function(t){for(var e=0,r=0;r<this.ELEMENTS;++r)e+=this[r]*t[r];return Object(c.a)(e)}},{key:"normalize",value:function(){var t=this.magnitude();if(0!==t)for(var e=0;e<this.ELEMENTS;++e)this[e]/=t;return this.check()}},{key:"multiply",value:function(){for(var t=arguments.length,e=new Array(t),r=0;r<t;r++)e[r]=arguments[r];for(var n=0,a=e;n<a.length;n++)for(var i=a[n],o=0;o<this.ELEMENTS;++o)this[o]*=i[o];return this.check()}},{key:"divide",value:function(){for(var t=arguments.length,e=new Array(t),r=0;r<t;r++)e[r]=arguments[r];for(var n=0,a=e;n<a.length;n++)for(var i=a[n],o=0;o<this.ELEMENTS;++o)this[o]/=i[o];return this.check()}},{key:"lengthSq",value:function(){return this.lengthSquared()}},{key:"distanceTo",value:function(t){return this.distance(t)}},{key:"distanceToSquared",value:function(t){return this.distanceSquared(t)}},{key:"getComponent",value:function(t){return Object(l.a)(t>=0&&t<this.ELEMENTS,"index is out of range"),Object(c.a)(this[t])}},{key:"setComponent",value:function(t,e){return Object(l.a)(t>=0&&t<this.ELEMENTS,"index is out of range"),this[t]=e,this.check()}},{key:"addVectors",value:function(t,e){return this.copy(t).add(e)}},{key:"subVectors",value:function(t,e){return this.copy(t).subtract(e)}},{key:"multiplyVectors",value:function(t,e){return this.copy(t).multiply(e)}},{key:"addScaledVector",value:function(t,e){return this.add(new this.constructor(t).multiplyScalar(e))}},{key:"x",get:function(){return this[0]},set:function(t){this[0]=Object(c.a)(t)}},{key:"y",get:function(){return this[1]},set:function(t){this[1]=Object(c.a)(t)}}]),r}(s.a)},"sc/6":function(t,e,r){"use strict";r.d(e,"a",(function(){return p}));var n=r("1OyB"),a=r("vuIU"),i=r("md7G"),o=r("foSv"),u=r("JX7q"),s=r("Ji7U"),c=r("L8KH"),l=r("T2Hy"),f=r("SUVH"),h=r("B9+J"),d=r("iein"),b=r("LE90"),v=r("CxzY"),g={offset:"accessor.offset",stride:"accessor.stride",type:"accessor.type",size:"accessor.size",divisor:"accessor.divisor",normalized:"accessor.normalized",integer:"accessor.integer",instanced:"accessor.divisor",isInstanced:"accessor.divisor"},m={removedProps:{},replacedProps:{bytes:"byteLength"},deprecatedProps:g},y={removedProps:g},p=function(t){function e(t){var r,a=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return Object(n.a)(this,e),(r=Object(i.a)(this,Object(o.a)(e).call(this,t,a))).stubRemovedMethods("Buffer","v6.0",["layout","setLayout","getIndexedParameter"]),r.target=a.target||(r.gl.webgl2?36662:34962),r.initialize(a),Object.seal(Object(u.a)(r)),r}return Object(s.a)(e,t),Object(a.a)(e,[{key:"getElementCount",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:this.accessor;return Math.round(this.byteLength/l.a.getBytesPerElement(t))}},{key:"getVertexCount",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:this.accessor;return Math.round(this.byteLength/l.a.getBytesPerVertex(t))}},{key:"initialize",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return ArrayBuffer.isView(t)&&(t={data:t}),Number.isFinite(t)&&(t={byteLength:t}),t=Object(b.a)("Buffer",t,m),this.usage=t.usage||35044,this.debugData=null,this.setAccessor(Object.assign({},t,t.accessor)),t.data?this._setData(t.data,t.offset,t.byteLength):this._setByteLength(t.byteLength||0),this}},{key:"setProps",value:function(t){return"accessor"in(t=Object(b.a)("Buffer",t,y))&&this.setAccessor(t.accessor),this}},{key:"setAccessor",value:function(t){return delete(t=Object.assign({},t)).buffer,this.accessor=new l.a(t),this}},{key:"reallocate",value:function(t){return t>this.byteLength?(this._setByteLength(t),!0):(this.bytesUsed=t,!1)}},{key:"setData",value:function(t){return this.initialize(t)}},{key:"subData",value:function(t){ArrayBuffer.isView(t)&&(t={data:t});var e=t,r=e.data,n=e.offset,a=void 0===n?0:n,i=e.srcOffset,o=void 0===i?0:i,u=t.byteLength||t.length;Object(v.a)(r);var s=this.gl.webgl2?36663:this.target;return this.gl.bindBuffer(s,this.handle),0!==o||void 0!==u?(Object(f.a)(this.gl),this.gl.bufferSubData(this.target,a,r,o,u)):this.gl.bufferSubData(s,a,r),this.gl.bindBuffer(s,null),this.debugData=null,this._inferType(r),this}},{key:"copyData",value:function(t){var e=t.sourceBuffer,r=t.readOffset,n=void 0===r?0:r,a=t.writeOffset,i=void 0===a?0:a,o=t.size,u=this.gl;return Object(f.a)(u),u.bindBuffer(36662,e.handle),u.bindBuffer(36663,this.handle),u.copyBufferSubData(36662,36663,n,i,o),u.bindBuffer(36662,null),u.bindBuffer(36663,null),this.debugData=null,this}},{key:"getData",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},e=t.dstData,r=void 0===e?null:e,n=t.srcByteOffset,a=void 0===n?0:n,i=t.dstOffset,o=void 0===i?0:i,u=t.length,s=void 0===u?0:u;Object(f.a)(this.gl);var c,l,d=Object(h.c)(this.accessor.type||5126,{clamped:!1}),b=this._getAvailableElementCount(a),g=o;r?c=(l=r.length)-g:l=g+(c=Math.min(b,s||b));var m=Math.min(b,c);return s=s||m,Object(v.a)(s<=m),r=r||new d(l),this.gl.bindBuffer(36662,this.handle),this.gl.getBufferSubData(36662,a,r,o,s),this.gl.bindBuffer(36662,null),r}},{key:"bind",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},e=t.target,r=void 0===e?this.target:e,n=t.index,a=void 0===n?this.accessor&&this.accessor.index:n,i=t.offset,o=void 0===i?0:i,u=t.size;return 35345===r||35982===r?void 0!==u?this.gl.bindBufferRange(r,a,this.handle,o,u):(Object(v.a)(0===o),this.gl.bindBufferBase(r,a,this.handle)):this.gl.bindBuffer(r,this.handle),this}},{key:"unbind",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},e=t.target,r=void 0===e?this.target:e,n=t.index,a=void 0===n?this.accessor&&this.accessor.index:n,i=35345===r||35982===r;return i?this.gl.bindBufferBase(r,a,null):this.gl.bindBuffer(r,null),this}},{key:"getDebugData",value:function(){return this.debugData?{data:this.debugData,changed:!1}:(this.debugData=this.getData({length:Math.min(10,this.byteLength)}),{data:this.debugData,changed:!0})}},{key:"invalidateDebugData",value:function(){this.debugData=null}},{key:"_setData",value:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:t.byteLength+e;Object(v.a)(ArrayBuffer.isView(t)),this._trackDeallocatedMemory();var n=this._getTarget();this.gl.bindBuffer(n,this.handle),this.gl.bufferData(n,r,this.usage),this.gl.bufferSubData(n,e,t),this.gl.bindBuffer(n,null),this.debugData=t.slice(0,10),this.bytesUsed=r,this._trackAllocatedMemory(r);var a=Object(h.b)(t);return Object(v.a)(a),this.setAccessor(new l.a(this.accessor,{type:a})),this}},{key:"_setByteLength",value:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:this.usage;Object(v.a)(t>=0),this._trackDeallocatedMemory();var r=t;0===t&&(r=new Float32Array(0));var n=this._getTarget();return this.gl.bindBuffer(n,this.handle),this.gl.bufferData(n,r,e),this.gl.bindBuffer(n,null),this.usage=e,this.debugData=null,this.bytesUsed=t,this._trackAllocatedMemory(t),this}},{key:"_getTarget",value:function(){return this.gl.webgl2?36663:this.target}},{key:"_getAvailableElementCount",value:function(t){var e=t/Object(h.c)(this.accessor.type||5126,{clamped:!1}).BYTES_PER_ELEMENT;return this.getElementCount()-e}},{key:"_inferType",value:function(t){this.accessor.type||this.setAccessor(new l.a(this.accessor,{type:Object(h.b)(t)}))}},{key:"_createHandle",value:function(){return this.gl.createBuffer()}},{key:"_deleteHandle",value:function(){this.gl.deleteBuffer(this.handle),this._trackDeallocatedMemory()}},{key:"_getParameter",value:function(t){this.gl.bindBuffer(this.target,this.handle);var e=this.gl.getBufferParameter(this.target,t);return this.gl.bindBuffer(this.target,null),e}},{key:"setByteLength",value:function(t){return d.g.deprecated("setByteLength","reallocate")(),this.reallocate(t)}},{key:"updateAccessor",value:function(t){return d.g.deprecated("updateAccessor(...)","setAccessor(new Accessor(buffer.accessor, ...)")(),this.accessor=new l.a(this.accessor,t),this}},{key:"type",get:function(){return d.g.deprecated("Buffer.type","Buffer.accessor.type")(),this.accessor.type}},{key:"bytes",get:function(){return d.g.deprecated("Buffer.bytes","Buffer.byteLength")(),this.byteLength}}]),e}(c.a)},sgaE:function(t,e,r){"use strict";r.d(e,"a",(function(){return a}));var n=r("iein");function a(t,e,r,a){var i="See luma.gl ".concat(r," Upgrade Guide at https://luma.gl/docs/upgrade-guide"),o=Object.getPrototypeOf(t);a.forEach((function(t){o.methodName||(o[t]=function(){throw n.g.removed("Calling removed method ".concat(e,".").concat(t,": "),i)(),new Error(t)})}))}},tMmZ:function(t,e,r){"use strict";r.d(e,"a",(function(){return u}));var n,a=r("rePB"),i=r("11Ib"),o=r("f5Sf"),u={WEBGL2:"WEBGL2",VERTEX_ARRAY_OBJECT:"VERTEX_ARRAY_OBJECT",TIMER_QUERY:"TIMER_QUERY",INSTANCED_RENDERING:"INSTANCED_RENDERING",MULTIPLE_RENDER_TARGETS:"MULTIPLE_RENDER_TARGETS",ELEMENT_INDEX_UINT32:"ELEMENT_INDEX_UINT32",BLEND_EQUATION_MINMAX:"BLEND_EQUATION_MINMAX",FLOAT_BLEND:"FLOAT_BLEND",COLOR_ENCODING_SRGB:"COLOR_ENCODING_SRGB",TEXTURE_DEPTH:"TEXTURE_DEPTH",TEXTURE_FLOAT:"TEXTURE_FLOAT",TEXTURE_HALF_FLOAT:"TEXTURE_HALF_FLOAT",TEXTURE_FILTER_LINEAR_FLOAT:"TEXTURE_FILTER_LINEAR_FLOAT",TEXTURE_FILTER_LINEAR_HALF_FLOAT:"TEXTURE_FILTER_LINEAR_HALF_FLOAT",TEXTURE_FILTER_ANISOTROPIC:"TEXTURE_FILTER_ANISOTROPIC",COLOR_ATTACHMENT_RGBA32F:"COLOR_ATTACHMENT_RGBA32F",COLOR_ATTACHMENT_FLOAT:"COLOR_ATTACHMENT_FLOAT",COLOR_ATTACHMENT_HALF_FLOAT:"COLOR_ATTACHMENT_HALF_FLOAT",GLSL_FRAG_DATA:"GLSL_FRAG_DATA",GLSL_FRAG_DEPTH:"GLSL_FRAG_DEPTH",GLSL_DERIVATIVES:"GLSL_DERIVATIVES",GLSL_TEXTURE_LOD:"GLSL_TEXTURE_LOD"};e.b=(n={},Object(a.a)(n,u.WEBGL2,[!1,!0]),Object(a.a)(n,u.VERTEX_ARRAY_OBJECT,["OES_vertex_array_object",!0]),Object(a.a)(n,u.TIMER_QUERY,["EXT_disjoint_timer_query","EXT_disjoint_timer_query_webgl2"]),Object(a.a)(n,u.INSTANCED_RENDERING,["ANGLE_instanced_arrays",!0]),Object(a.a)(n,u.MULTIPLE_RENDER_TARGETS,["WEBGL_draw_buffers",!0]),Object(a.a)(n,u.ELEMENT_INDEX_UINT32,["OES_element_index_uint",!0]),Object(a.a)(n,u.BLEND_EQUATION_MINMAX,["EXT_blend_minmax",!0]),Object(a.a)(n,u.FLOAT_BLEND,["EXT_float_blend"]),Object(a.a)(n,u.COLOR_ENCODING_SRGB,["EXT_sRGB",!0]),Object(a.a)(n,u.TEXTURE_DEPTH,["WEBGL_depth_texture",!0]),Object(a.a)(n,u.TEXTURE_FLOAT,["OES_texture_float",!0]),Object(a.a)(n,u.TEXTURE_HALF_FLOAT,["OES_texture_half_float",!0]),Object(a.a)(n,u.TEXTURE_FILTER_LINEAR_FLOAT,["OES_texture_float_linear"]),Object(a.a)(n,u.TEXTURE_FILTER_LINEAR_HALF_FLOAT,["OES_texture_half_float_linear"]),Object(a.a)(n,u.TEXTURE_FILTER_ANISOTROPIC,["EXT_texture_filter_anisotropic"]),Object(a.a)(n,u.COLOR_ATTACHMENT_RGBA32F,[function(t){var e=new o.a(t,{format:6408,type:5126,dataFormat:6408}),r=new i.a(t,{id:"test-framebuffer",check:!1,attachments:Object(a.a)({},36064,e)}),n=r.getStatus();return e.delete(),r.delete(),36053===n},"EXT_color_buffer_float"]),Object(a.a)(n,u.COLOR_ATTACHMENT_FLOAT,[!1,"EXT_color_buffer_float"]),Object(a.a)(n,u.COLOR_ATTACHMENT_HALF_FLOAT,["EXT_color_buffer_half_float"]),Object(a.a)(n,u.GLSL_FRAG_DATA,["WEBGL_draw_buffers",!0]),Object(a.a)(n,u.GLSL_FRAG_DEPTH,["EXT_frag_depth",!0]),Object(a.a)(n,u.GLSL_DERIVATIVES,["OES_standard_derivatives",!0]),Object(a.a)(n,u.GLSL_TEXTURE_LOD,["EXT_shader_texture_lod",!0]),n)},tS8E:function(t,e,r){"use strict";function n(t,e){if(!t)throw new Error("math.gl assertion ".concat(e))}r.d(e,"a",(function(){return n}))},uXCu:function(t,e,r){"use strict";(function(t){var n=r("TqRt");Object.defineProperty(e,"__esModule",{value:!0}),e.default=o,e.isBrowserMainThread=function(){return o()&&"undefined"!=typeof document};var a=n(r("cDf5")),i=n(r("15yl"));function o(){return!("object"===(void 0===t?"undefined":(0,a.default)(t))&&"[object process]"===String(t)&&!t.browser)||(0,i.default)()}}).call(this,r("8oxB"))},uYBD:function(t,e,r){"use strict";r.d(e,"b",(function(){return s})),r.d(e,"a",(function(){return c})),r.d(e,"c",(function(){return l})),r.d(e,"d",(function(){return f})),r.d(e,"e",(function(){return h}));var n,a,i,o=r("rePB"),u=r("iein"),s=(n={},Object(o.a)(n,6407,{dataFormat:6407,types:[5121,33635]}),Object(o.a)(n,6408,{dataFormat:6408,types:[5121,32819,32820]}),Object(o.a)(n,6406,{dataFormat:6406,types:[5121]}),Object(o.a)(n,6409,{dataFormat:6409,types:[5121]}),Object(o.a)(n,6410,{dataFormat:6410,types:[5121]}),Object(o.a)(n,33326,{dataFormat:6403,types:[5126],gl2:!0}),Object(o.a)(n,33328,{dataFormat:33319,types:[5126],gl2:!0}),Object(o.a)(n,34837,{dataFormat:6407,types:[5126],gl2:!0}),Object(o.a)(n,34836,{dataFormat:6408,types:[5126],gl2:!0}),n),c=(a={},Object(o.a)(a,6403,1),Object(o.a)(a,36244,1),Object(o.a)(a,33319,2),Object(o.a)(a,33320,2),Object(o.a)(a,6407,3),Object(o.a)(a,36248,3),Object(o.a)(a,6408,4),Object(o.a)(a,36249,4),Object(o.a)(a,6402,1),Object(o.a)(a,34041,1),Object(o.a)(a,6406,1),Object(o.a)(a,6409,1),Object(o.a)(a,6410,2),a),l=(i={},Object(o.a)(i,5126,4),Object(o.a)(i,5125,4),Object(o.a)(i,5124,4),Object(o.a)(i,5123,2),Object(o.a)(i,5122,2),Object(o.a)(i,5131,2),Object(o.a)(i,5120,1),Object(o.a)(i,5121,1),i);function f(t,e){var r=s[e];if(!r)return!1;if(void 0===r.gl1&&void 0===r.gl2)return!0;var n=Object(u.f)(t)&&r.gl2||r.gl1;return"string"==typeof n?t.getExtension(n):n}function h(t,e){var r=s[e];switch(r&&r.types[0]){case 5126:return t.getExtension("OES_texture_float_linear");case 5131:return t.getExtension("OES_texture_half_float_linear");default:return!0}}},uzDn:function(t,e,r){"use strict";function n(t,e){if(!t)throw new Error(e||"shadertools: assertion failed.")}r.d(e,"a",(function(){return n}))},vpQ4:function(t,e,r){"use strict";r.d(e,"a",(function(){return a}));var n=r("rePB");function a(t){for(var e=1;e<arguments.length;e++){var r=null!=arguments[e]?Object(arguments[e]):{},a=Object.keys(r);"function"==typeof Object.getOwnPropertySymbols&&(a=a.concat(Object.getOwnPropertySymbols(r).filter((function(t){return Object.getOwnPropertyDescriptor(r,t).enumerable})))),a.forEach((function(e){Object(n.a)(t,e,r[e])}))}return t}},xSaR:function(t,e,r){t.exports=r("0SKY")},yU0y:function(t,e,r){"use strict";r.d(e,"b",(function(){return n})),r.d(e,"a",(function(){return a})),r.d(e,"c",(function(){return i}));r("QFcT");var n=1e-6,a="undefined"!=typeof Float32Array?Float32Array:Array,i=Math.random;Math.PI;Math.hypot||(Math.hypot=function(){for(var t=0,e=arguments.length;e--;)t+=arguments[e]*arguments[e];return Math.sqrt(t)})},ykdB:function(t,e,r){"use strict";r.d(e,"a",(function(){return X}));var n=r("rePB"),a=r("1OyB"),i=r("vuIU"),o=r("iein"),u=r("haqy"),s=r("VdrS"),c=r("CxzY"),l=r("pRFE"),f=r("OklE"),h=r("T2Hy"),d=r("sc/6"),b=r("md7G"),v=r("JX7q"),g=r("foSv"),m=r("ReuC"),y=r("Ji7U"),p=r("L8KH"),O=null;function j(t,e){var r;return new t((r=t.BYTES_PER_ELEMENT*e,(!O||O.byteLength<r)&&(O=new ArrayBuffer(r)),O),0,e)}var _=r("XbXb"),A="elements must be GL.ELEMENT_ARRAY_BUFFER",k=function(t){function e(t){var r,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};Object(a.a)(this,e);var i=n.id||n.program&&n.program.id;return(r=Object(b.a)(this,Object(g.a)(e).call(this,t,Object.assign({},n,{id:i})))).buffer=null,r.bufferValue=null,r.isDefaultArray=n.isDefaultArray||!1,r.initialize(n),Object.seal(Object(v.a)(r)),r}return Object(y.a)(e,t),Object(i.a)(e,null,[{key:"isSupported",value:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return!e.constantAttributeZero||(Object(o.f)(t)||"Chrome"===Object(_.a)())}},{key:"getDefaultArray",value:function(t){return t.luma=t.luma||{},t.luma.defaultVertexArray||(t.luma.defaultVertexArray=new e(t,{handle:null,isDefaultArray:!0})),t.luma.defaultVertexArray}},{key:"getMaxAttributes",value:function(t){return e.MAX_ATTRIBUTES=e.MAX_ATTRIBUTES||t.getParameter(34921),e.MAX_ATTRIBUTES}},{key:"setConstant",value:function(t,r,n){switch(n.constructor){case Float32Array:e._setConstantFloatArray(t,r,n);break;case Int32Array:e._setConstantIntArray(t,r,n);break;case Uint32Array:e._setConstantUintArray(t,r,n);break;default:Object(c.a)(!1)}}}]),Object(i.a)(e,[{key:"delete",value:function(){Object(m.a)(Object(g.a)(e.prototype),"delete",this).call(this),this.buffer&&this.buffer.delete()}},{key:"initialize",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return this.setProps(t)}},{key:"setProps",value:function(t){return this}},{key:"setElementBuffer",value:function(){var t=this,e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null;return Object(c.a)(!e||34963===e.target,A),this.bind((function(){t.gl.bindBuffer(34963,e?e.handle:null)})),this}},{key:"setBuffer",value:function(t,e,r){if(34963===e.target)return this.setElementBuffer(e,r);var n=r.size,a=r.type,i=r.stride,u=r.offset,s=r.normalized,l=r.integer,f=r.divisor,h=this.gl;return t=Number(t),this.bind((function(){h.bindBuffer(34962,e.handle),l?(Object(c.a)(Object(o.f)(h)),h.vertexAttribIPointer(t,n,a,i,u)):h.vertexAttribPointer(t,n,a,s,i,u),h.enableVertexAttribArray(t),h.vertexAttribDivisor(t,f||0)})),this}},{key:"enable",value:function(t){var r=this,n=!(arguments.length>1&&void 0!==arguments[1])||arguments[1],a=!n&&0===t&&!e.isSupported(this.gl,{constantAttributeZero:!0});return a||(t=Number(t),this.bind((function(){return n?r.gl.enableVertexAttribArray(t):r.gl.disableVertexAttribArray(t)}))),this}},{key:"getConstantBuffer",value:function(t,e,r){var n=this._normalizeConstantArrayValue(e,r),a=n.byteLength*t,i=n.length*t,o=!this.buffer;if(this.buffer=this.buffer||new d.a(this.gl,a),o=(o=o||this.buffer.reallocate(a))||!this._compareConstantArrayValues(n,this.bufferValue)){var u=j(e.constructor,i);!function(t){for(var e=t.target,r=t.source,n=t.start,a=void 0===n?0:n,i=t.count,o=void 0===i?1:i,u=r.length,s=o*u,c=0,l=a;c<u;c++)e[l++]=r[c];for(;c<s;)c<s-c?(e.copyWithin(a+c,a,a+c),c*=2):(e.copyWithin(a+c,a,a+s-c),c=s)}({target:u,source:n,start:0,count:i}),this.buffer.subData(u),this.bufferValue=e}return this.buffer}},{key:"_normalizeConstantArrayValue",value:function(t,e){return Array.isArray(t)?new Float32Array(t):t}},{key:"_compareConstantArrayValues",value:function(t,e){if(!t||!e||t.length!==e.length||t.constructor!==e.constructor)return!1;for(var r=0;r<t.length;++r)if(t[r]!==e[r])return!1;return!0}},{key:"_createHandle",value:function(){return this.gl.createVertexArray()}},{key:"_deleteHandle",value:function(t){return this.gl.deleteVertexArray(t),[this.elements]}},{key:"_bindHandle",value:function(t){this.gl.bindVertexArray(t)}},{key:"_getParameter",value:function(t,e){var r=this,n=e.location;return Object(c.a)(Number.isFinite(n)),this.bind((function(){switch(t){case 34373:return r.gl.getVertexAttribOffset(n,t);default:return r.gl.getVertexAttrib(n,t)}}))}},{key:"MAX_ATTRIBUTES",get:function(){return e.getMaxAttributes(this.gl)}}],[{key:"_setConstantFloatArray",value:function(t,e,r){switch(r.length){case 1:t.vertexAttrib1fv(e,r);break;case 2:t.vertexAttrib2fv(e,r);break;case 3:t.vertexAttrib3fv(e,r);break;case 4:t.vertexAttrib4fv(e,r);break;default:Object(c.a)(!1)}}},{key:"_setConstantIntArray",value:function(t,e,r){switch(Object(c.a)(Object(o.f)(t)),r.length){case 1:t.vertexAttribI1iv(e,r);break;case 2:t.vertexAttribI2iv(e,r);break;case 3:t.vertexAttribI3iv(e,r);break;case 4:t.vertexAttribI4iv(e,r);break;default:Object(c.a)(!1)}}},{key:"_setConstantUintArray",value:function(t,e,r){switch(Object(c.a)(Object(o.f)(t)),r.length){case 1:t.vertexAttribI1uiv(e,r);break;case 2:t.vertexAttribI2uiv(e,r);break;case 3:t.vertexAttribI3uiv(e,r);break;case 4:t.vertexAttribI4uiv(e,r);break;default:Object(c.a)(!1)}}}]),e}(p.a),E=r("sgaE"),x=/^(.+)__LOCATION_([0-9]+)$/,w=["setBuffers","setGeneric","clearBindings","setLocations","setGenericValues","setDivisor","enable","disable"],T=function(){function t(e){var r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};Object(a.a)(this,t);var n=r.id||r.program&&r.program.id;this.id=n,this.gl=e,this.configuration=null,this.elements=null,this.elementsAccessor=null,this.values=null,this.accessors=null,this.unused=null,this.drawParams=null,this.buffer=null,this.attributes={},this.vertexArrayObject=new k(e),Object(E.a)(this,"VertexArray","v6.0",w),this.initialize(r),Object.seal(this)}return Object(i.a)(t,[{key:"delete",value:function(){this.buffer&&this.buffer.delete(),this.vertexArrayObject.delete()}},{key:"initialize",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return this.reset(),this.configuration=null,this.bindOnUse=!1,this.setProps(t)}},{key:"reset",value:function(){this.elements=null,this.elementsAccessor=null;var t=this.vertexArrayObject.MAX_ATTRIBUTES;return this.values=new Array(t).fill(null),this.accessors=new Array(t).fill(null),this.unused={},this.drawParams=null,this}},{key:"setProps",value:function(t){return"program"in t&&(this.configuration=t.program&&t.program.configuration),"configuration"in t&&(this.configuration=t.configuration),"attributes"in t&&this.setAttributes(t.attributes),"elements"in t&&this.setElementBuffer(t.elements),"bindOnUse"in t&&(t=t.bindOnUse),this}},{key:"clearDrawParams",value:function(){this.drawParams=null}},{key:"getDrawParams",value:function(){return this.drawParams=this.drawParams||this._updateDrawParams(),this.drawParams}},{key:"setAttributes",value:function(t){var e=this;return Object.assign(this.attributes,t),this.vertexArrayObject.bind((function(){for(var r in t){var n=t[r];e._setAttribute(r,n)}e.gl.bindBuffer(34962,null)})),this}},{key:"setElementBuffer",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return this.elements=t,this.elementsAccessor=e,this.clearDrawParams(),this.vertexArrayObject.setElementBuffer(t,e),this}},{key:"setBuffer",value:function(t,e){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};if(34963===e.target)return this.setElementBuffer(e,r);var n=this._resolveLocationAndAccessor(t,e,e.accessor,r),a=n.location,i=n.accessor;return a>=0&&(this.values[a]=e,this.accessors[a]=i,this.clearDrawParams(),this.vertexArrayObject.setBuffer(a,e,i)),this}},{key:"setConstant",value:function(t,e){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},n=this._resolveLocationAndAccessor(t,e,Object.assign({size:e.length},r)),a=n.location,i=n.accessor;return a>=0&&(e=this.vertexArrayObject._normalizeConstantArrayValue(e,i),this.values[a]=e,this.accessors[a]=i,this.clearDrawParams(),this.vertexArrayObject.enable(a,!1)),this}},{key:"unbindBuffers",value:function(){var t=this;return this.vertexArrayObject.bind((function(){t.elements&&t.vertexArrayObject.setElementBuffer(null),t.buffer=t.buffer||new d.a(t.gl,{accessor:{size:4}});for(var e=0;e<t.vertexArrayObject.MAX_ATTRIBUTES;e++)t.values[e]instanceof d.a&&(t.gl.disableVertexAttribArray(e),t.gl.bindBuffer(34962,t.buffer.handle),t.gl.vertexAttribPointer(e,1,5126,!1,0,0))})),this}},{key:"bindBuffers",value:function(){var t=this;return this.vertexArrayObject.bind((function(){t.elements&&t.setElementBuffer(t.elements);for(var e=0;e<t.vertexArrayObject.MAX_ATTRIBUTES;e++){var r=t.values[e];r instanceof d.a&&t.setBuffer(e,r)}})),this}},{key:"bindForDraw",value:function(t,e,r){var n,a=this;return this.vertexArrayObject.bind((function(){a._setConstantAttributes(t,e),n=r()})),n}},{key:"_resolveLocationAndAccessor",value:function(t,e,r,n){var a=this,i=this._getAttributeIndex(t),u=i.location,s=i.name;if(!Number.isFinite(u)||u<0)return this.unused[t]=e,o.g.once(3,(function(){return"unused value ".concat(t," in ").concat(a.id)}))(),this;var l=this._getAttributeInfo(s||u);if(!l)return{location:-1,accessor:null};var f=this.accessors[u]||{},d=h.a.resolve(l.accessor,f,r,n),b=d.size,v=d.type;return Object(c.a)(Number.isFinite(b)&&Number.isFinite(v)),{location:u,accessor:d}}},{key:"_getAttributeInfo",value:function(t){return this.configuration&&this.configuration.getAttributeInfo(t)}},{key:"_getAttributeIndex",value:function(t){var e=Number(t);if(Number.isFinite(e))return{location:e};var r=x.exec(t),n=r?r[1]:t,a=r?Number(r[2]):0;return this.configuration?{location:this.configuration.getAttributeLocation(n)+a,name:n}:{location:-1}}},{key:"_setAttribute",value:function(t,e){if(e instanceof d.a)this.setBuffer(t,e);else if(Array.isArray(e)&&e.length&&e[0]instanceof d.a){var r=e[0],n=e[1];this.setBuffer(t,r,n)}else if(ArrayBuffer.isView(e)||Array.isArray(e)){var a=e;this.setConstant(t,a)}else{if(!(e.buffer instanceof d.a))throw new Error("VertexArray: attributes must be Buffers or constants (i.e. typed array)");var i=e;this.setBuffer(t,i.buffer,i)}}},{key:"_setConstantAttributes",value:function(t,e){var r=Math.max(0|t,0|e),n=this.values[0];ArrayBuffer.isView(n)&&this._setConstantAttributeZero(n,r);for(var a=1;a<this.vertexArrayObject.MAX_ATTRIBUTES;a++)n=this.values[a],ArrayBuffer.isView(n)&&this._setConstantAttribute(a,n)}},{key:"_setConstantAttributeZero",value:function(t,e){if(k.isSupported(this.gl,{constantAttributeZero:!0}))this._setConstantAttribute(0,t);else{var r=this.vertexArrayObject.getConstantBuffer(e,t);this.vertexArrayObject.setBuffer(0,r,this.accessors[0])}}},{key:"_setConstantAttribute",value:function(t,e){k.setConstant(this.gl,t,e)}},{key:"_updateDrawParams",value:function(){for(var t={isIndexed:!1,isInstanced:!1,indexCount:1/0,vertexCount:1/0,instanceCount:1/0},e=0;e<this.vertexArrayObject.MAX_ATTRIBUTES;e++)this._updateDrawParamsForLocation(t,e);return this.elements&&(t.elementCount=this.elements.getElementCount(this.elements.accessor),t.isIndexed=!0,t.indexType=this.elementsAccessor.type||this.elements.accessor.type,t.indexOffset=this.elementsAccessor.offset||0),t.indexCount===1/0&&(t.indexCount=0),t.vertexCount===1/0&&(t.vertexCount=0),t.instanceCount===1/0&&(t.instanceCount=0),t}},{key:"_updateDrawParamsForLocation",value:function(t,e){var r=this.values[e],n=this.accessors[e];if(r){var a=n.divisor>0;if(t.isInstanced=t.isInstanced||a,r instanceof d.a){var i=r;if(a){var o=i.getVertexCount(n);t.instanceCount=Math.min(t.instanceCount,o)}else{var u=i.getVertexCount(n);t.vertexCount=Math.min(t.vertexCount,u)}}}}},{key:"setElements",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return o.g.deprecated("setElements","setElementBuffer")(),this.setElementBuffer(t,e)}}]),t}(),M=r("bphH"),L=r("rnmN"),S=r("oejM");function P(t,e){for(var r=e.maxElts,n=void 0===r?16:r,a=e.size,i=void 0===a?1:a,o="[",u=0;u<t.length&&u<n;++u)u>0&&(o+=",".concat(u%i==0?" ":"")),o+=R(t[u],e);var s=t.length>n?"...":"]";return"".concat(o).concat(s)}function R(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},r=1e-16,n=e.isInteger,a=void 0!==n&&n;if(Array.isArray(t)||ArrayBuffer.isView(t))return P(t,e);if(!Number.isFinite(t))return String(t);if(Math.abs(t)<r)return a?"0":"0.";if(a)return t.toFixed(0);if(Math.abs(t)>100&&Math.abs(t)<1e4)return t.toFixed(0);var i=t.toPrecision(2),o=i.indexOf(".0");return o===i.length-2?i.slice(0,-1):i}function I(t,e,r,a){var i,o,u=t.gl;if(!e)return o={},Object(n.a)(o,a,"null"),Object(n.a)(o,"Format ","N/A"),o;var s,c,l,f="NOT PROVIDED",h="N/A",b="N/A",v="N/A";if(r&&(f=r.type,h=r.size,s=-1!==(f=String(f).replace("Array","")).indexOf("nt")),e instanceof d.a){var g,m,y=e,p=y.getDebugData(),O=p.data;if(c=p.modified?"*":"",l=O,b=(v=y.byteLength)/O.BYTES_PER_ELEMENT/h,r){var j=r.divisor>0;m="".concat(j?"I ":"P "," ").concat(b," (x").concat(h,"=").concat(v," bytes ").concat(Object(L.a)(u,f),")")}else s=!0,m="".concat(v," bytes");return g={},Object(n.a)(g,a,"".concat(c).concat(R(l,{size:h,isInteger:s}))),Object(n.a)(g,"Format ",m),g}return l=e,h=e.length,s=-1!==(f=String(e.constructor.name).replace("Array","")).indexOf("nt"),i={},Object(n.a)(i,a,"".concat(R(l,{size:h,isInteger:s})," (constant)")),Object(n.a)(i,"Format ","".concat(h,"x").concat(f," (constant)")),i}function D(t,e){var r=e.type,n=e.size,a=Object(S.b)(r,n);return a?"".concat(t," (").concat(a.name,")"):t}function F(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},e=t.header,r=void 0===e?"Uniforms":e,a=t.program,i=t.uniforms,o=t.undefinedOnly,u=void 0!==o&&o;Object(c.a)(a);var s=".*_.*",l=".*Matrix",f=a._uniformSetters,h={},d=Object.keys(f).sort(),b=0,v=!0,g=!1,m=void 0;try{for(var y,p=d[Symbol.iterator]();!(v=(y=p.next()).done);v=!0){var O=y.value;O.match(s)||O.match(l)||B({table:h,header:r,uniforms:i,uniformName:O,undefinedOnly:u})&&b++}}catch(C){g=!0,m=C}finally{try{v||null==p.return||p.return()}finally{if(g)throw m}}var j=!0,_=!1,A=void 0;try{for(var k,E=d[Symbol.iterator]();!(j=(k=E.next()).done);j=!0){var x=k.value;x.match(l)&&B({table:h,header:r,uniforms:i,uniformName:x,undefinedOnly:u})&&b++}}catch(C){_=!0,A=C}finally{try{j||null==E.return||E.return()}finally{if(_)throw A}}var w=!0,T=!1,M=void 0;try{for(var L,S=d[Symbol.iterator]();!(w=(L=S.next()).done);w=!0){var P=L.value;h[P]||B({table:h,header:r,uniforms:i,uniformName:P,undefinedOnly:u})&&b++}}catch(C){T=!0,M=C}finally{try{w||null==S.return||S.return()}finally{if(T)throw M}}var I=0,D={};if(!u)for(var F in i){var N=i[F];h[F]||(I++,D[F]=Object(n.a)({Type:"NOT USED: ".concat(N)},r,R(N)))}return{table:h,count:b,unusedTable:D,unusedCount:I}}function B(t){var e,r=t.table,a=t.header,i=t.uniforms,o=t.uniformName,u=t.undefinedOnly,s=i[o],c=function(t){return null!=t}(s);return(!u||!c)&&(r[o]=(e={},Object(n.a)(e,a,c?R(s):"N/A"),Object(n.a)(e,"Uniform Type",c?s:"NOT PROVIDED"),e),!0)}function N(t){var e=t.accessor,r=e.type,n=e.size,a=Object(S.b)(r,n);return a?"".concat(a.name," ").concat(t.name):t.name}var C=r("vpQ4"),U={POSITION:"positions",NORMAL:"normals",COLOR_0:"colors",TEXCOORD_0:"texCoords",TEXCOORD_1:"texCoords1",TEXCOORD_2:"texCoords2"};function G(t,e){var r=(e||{}).attributeMap,n=void 0===r?U:r;return n&&n[t]||t}function V(t,e){var r;switch(t){case"texCoords":case"texCoord1":case"texCoord2":case"texCoord3":r="uvs";break;case"vertices":case"positions":case"normals":case"pickingColors":r="vectors"}switch(r){case"vectors":e.size=e.size||3;break;case"uvs":e.size=e.size||2}Object(c.a)(Number.isFinite(e.size),"attribute ".concat(t," needs size"))}var z=function(){},H={},X=function(){function t(e){var r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};Object(a.a)(this,t);var n=r.id,i=void 0===n?Object(s.c)("model"):n;Object(c.a)(Object(o.e)(e)),this.id=i,this.gl=e,this.id=r.id||Object(s.c)("Model"),this.lastLogTime=0,this.initialize(r)}return Object(i.a)(t,[{key:"initialize",value:function(t){this.props={},this.programManager=t.programManager||u.a.getDefaultProgramManager(this.gl),this._programManagerState=-1,this._managedProgram=!1;var e=t.program,r=void 0===e?null:e,n=t.vs,a=t.fs,i=t.modules,o=t.defines,s=t.inject,l=t.varyings,f=t.bufferMode,h=t.transpileToGLSL100;this.programProps={program:r,vs:n,fs:a,modules:i,defines:o,inject:s,varyings:l,bufferMode:f,transpileToGLSL100:h},this.program=null,this.vertexArray=null,this._programDirty=!0,this.userData={},this.needsRedraw=!0,this._attributes={},this.attributes={},this.uniforms={},this.pickable=!0,this._checkProgram(),this.setUniforms(Object.assign({},this.getModuleUniforms(t.moduleSettings))),this.drawMode=void 0!==t.drawMode?t.drawMode:4,this.vertexCount=t.vertexCount||0,this.geometryBuffers={},this.isInstanced=t.isInstanced||t.instanced||t.instanceCount>0,this._setModelProps(t),this.geometry={},Object(c.a)(void 0!==this.drawMode&&Number.isFinite(this.vertexCount),"Model needs drawMode and vertexCount")}},{key:"setProps",value:function(t){this._setModelProps(t)}},{key:"delete",value:function(){for(var t in this._attributes)this._attributes[t]!==this.attributes[t]&&this._attributes[t].delete();this._managedProgram&&(this.programManager.release(this.program),this._managedProgram=!1),this.vertexArray.delete(),this._deleteGeometryBuffers()}},{key:"getDrawMode",value:function(){return this.drawMode}},{key:"getVertexCount",value:function(){return this.vertexCount}},{key:"getInstanceCount",value:function(){return this.instanceCount}},{key:"getAttributes",value:function(){return this.attributes}},{key:"getProgram",value:function(){return this.program}},{key:"setProgram",value:function(t){var e=t.program,r=t.vs,n=t.fs,a=t.modules,i=t.defines,o=t.inject,u=t.varyings,s=t.bufferMode,c=t.transpileToGLSL100;this.programProps={program:e,vs:r,fs:n,modules:a,defines:i,inject:o,varyings:u,bufferMode:s,transpileToGLSL100:c},this._programDirty=!0}},{key:"getUniforms",value:function(){return this.uniforms}},{key:"setDrawMode",value:function(t){return this.drawMode=t,this}},{key:"setVertexCount",value:function(t){return Object(c.a)(Number.isFinite(t)),this.vertexCount=t,this}},{key:"setInstanceCount",value:function(t){return Object(c.a)(Number.isFinite(t)),this.instanceCount=t,this}},{key:"setGeometry",value:function(t){return this.drawMode=t.drawMode,this.vertexCount=t.getVertexCount(),this._deleteGeometryBuffers(),this.geometryBuffers=function(t,e,r){var n={},a=e.indices;for(var i in e.attributes){var o=e.attributes[i],u=G(i,r);if("indices"===i)a=o;else if(o.constant)n[u]=o.value;else{var s=o.value,l=Object(C.a)({},o);delete l.value,n[u]=[new d.a(t,s),l],V(i,l)}}if(a){var f=a.value||a;Object(c.a)(f instanceof Uint16Array||f instanceof Uint32Array,'attribute array for "indices" must be of integer type');var h={size:1,isIndexed:void 0===a.isIndexed||a.isIndexed};n.indices=[new d.a(t,{data:f,target:34963}),h]}return n}(this.gl,t),this.vertexArray.setAttributes(this.geometryBuffers),this}},{key:"setAttributes",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};if(Object(s.a)(t))return this;var e={};for(var r in t){var n=t[r];e[r]=n.getValue?n.getValue():n}return this.vertexArray.setAttributes(e),this}},{key:"setUniforms",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return Object.assign(this.uniforms,t),this}},{key:"getModuleUniforms",value:function(t){this._checkProgram();var e=this.programManager.getUniforms(this.program);return e?e(t):{}}},{key:"updateModuleSettings",value:function(t){var e=this.getModuleUniforms(t||{});return this.setUniforms(e)}},{key:"clear",value:function(t){return Object(l.a)(this.program.gl,t),this}},{key:"draw",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};this._checkProgram();var e,r=t.moduleSettings,n=void 0===r?null:r,a=t.framebuffer,i=t.uniforms,u=void 0===i?{}:i,s=t.attributes,c=void 0===s?{}:s,l=t.transformFeedback,f=void 0===l?this.transformFeedback:l,h=t.parameters,d=void 0===h?{}:h,b=t.vertexArray,v=void 0===b?this.vertexArray:b;this.setAttributes(c),this.updateModuleSettings(n),this.setUniforms(u),o.g.priority>=2&&(e=this._logDrawCallStart(2));var g=this.vertexArray.getDrawParams(),m=this.props,y=m.isIndexed,p=void 0===y?g.isIndexed:y,O=m.indexType,j=void 0===O?g.indexType:O,_=m.indexOffset,A=void 0===_?g.indexOffset:_,k=m.vertexArrayInstanced,E=void 0===k?g.isInstanced:k;E&&!this.isInstanced&&o.g.warn("Found instanced attributes on non-instanced model",this.id)();var x=this.isInstanced,w=this.instanceCount,T=this.props,M=T.onBeforeRender,L=void 0===M?z:M,S=T.onAfterRender,P=void 0===S?z:S;L(),this.program.setUniforms(this.uniforms);var R=this.program.draw(Object.assign(H,t,{logPriority:e,uniforms:null,framebuffer:a,parameters:d,drawMode:this.getDrawMode(),vertexCount:this.getVertexCount(),vertexArray:v,transformFeedback:f,isIndexed:p,indexType:j,isInstanced:x,instanceCount:w,offset:p?A:0}));return P(),o.g.priority>=2&&this._logDrawCallEnd(e,v,a),R}},{key:"transform",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},e=t.discard,r=void 0===e||e,a=t.feedbackBuffers,i=t.unbindModels,o=void 0===i?[]:i,u=t.parameters;a&&this._setFeedbackBuffers(a),r&&(u=Object.assign({},u,Object(n.a)({},35977,r))),o.forEach((function(t){return t.vertexArray.unbindBuffers()}));try{this.draw(Object.assign({},t,{parameters:u}))}finally{o.forEach((function(t){return t.vertexArray.bindBuffers()}))}return this}},{key:"render",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return o.g.warn("Model.render() is deprecated. Use Model.setUniforms() and Model.draw()")(),this.setUniforms(t).draw()}},{key:"_setModelProps",value:function(t){Object.assign(this.props,t),"uniforms"in t&&this.setUniforms(t.uniforms),"pickable"in t&&(this.pickable=t.pickable),"instanceCount"in t&&(this.instanceCount=t.instanceCount),"geometry"in t&&this.setGeometry(t.geometry),"attributes"in t&&this.setAttributes(t.attributes),"_feedbackBuffers"in t&&this._setFeedbackBuffers(t._feedbackBuffers)}},{key:"_checkProgram",value:function(){var t=this._programDirty||this.programManager.stateHash!==this._programManagerState;if(t){var e=this.programProps.program;if(e)this._managedProgram=!1;else{var r=this.programProps,n=r.vs,a=r.fs,i=r.modules,o=r.inject,u=r.defines,s=r.varyings,l=r.bufferMode,h=r.transpileToGLSL100;e=this.programManager.get({vs:n,fs:a,modules:i,inject:o,defines:u,varyings:s,bufferMode:l,transpileToGLSL100:h}),this.program&&this._managedProgram&&this.programManager.release(this.program),this._programManagerState=this.programManager.stateHash,this._managedProgram=!0}Object(c.a)(e instanceof f.a,"Model needs a program"),this._programDirty=!1,e!==this.program&&(this.program=e,this.vertexArray?this.vertexArray.setProps({program:this.program,attributes:this.vertexArray.attributes}):this.vertexArray=new T(this.gl,{program:this.program}),this.setUniforms(Object.assign({},this.getModuleUniforms())))}}},{key:"_deleteGeometryBuffers",value:function(){for(var t in this.geometryBuffers){var e=this.geometryBuffers[t][0]||this.geometryBuffers[t];e instanceof d.a&&e.delete()}}},{key:"_setAnimationProps",value:function(t){if(this.animated){Object(c.a)(t,"Model.draw(): animated uniforms but no animationProps");var e=this._evaluateAnimateUniforms(t);Object.assign(this.uniforms,e)}}},{key:"_setFeedbackBuffers",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};if(Object(s.a)(t))return this;var e=this.program.gl;return this.transformFeedback=this.transformFeedback||new M.a(e,{program:this.program}),this.transformFeedback.setBuffers(t),this}},{key:"_logDrawCallStart",value:function(t){var e=t>3?0:1e4;if(!(Date.now()-this.lastLogTime<e))return this.lastLogTime=Date.now(),o.g.group(2,">>> DRAWING MODEL ".concat(this.id),{collapsed:o.g.level<=2})(),t}},{key:"_logDrawCallEnd",value:function(t,e,r,a){if(void 0!==t){var i=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},e=t.vertexArray,r=t.header,n=void 0===r?"Attributes":r;if(!e.configuration)return{};var a={};e.elements&&(a.ELEMENT_ARRAY_BUFFER=I(e,e.elements,null,n));var i=e.values;for(var o in i){var u=e._getAttributeInfo(o);if(u){var s="".concat(o,": ").concat(u.name),c=e.accessors[u.location];c&&(s="".concat(o,": ").concat(D(u.name,c))),a[s]=I(e,i[o],c,n)}}return a}({vertexArray:e,header:"".concat(this.id," attributes"),attributes:this._attributes}),u=F({header:"".concat(this.id," uniforms"),program:this.program,uniforms:Object.assign({},this.program.uniforms,r)}),s=u.table,c=u.unusedTable,l=u.unusedCount,f=F({header:"".concat(this.id," uniforms"),program:this.program,uniforms:Object.assign({},this.program.uniforms,r),undefinedOnly:!0}),h=f.table;f.count>0&&o.g.log("MISSING UNIFORMS",Object.keys(h))(),l>0&&o.g.log("UNUSED UNIFORMS",Object.keys(c))();var d=function(t){var e={},r="Accessors for ".concat(t.id),a=!0,i=!1,o=void 0;try{for(var u,s=t.attributeInfos[Symbol.iterator]();!(a=(u=s.next()).done);a=!0){var c=u.value;if(c){var l=N(c);e["in ".concat(l)]=Object(n.a)({},r,JSON.stringify(c.accessor))}}}catch(y){i=!0,o=y}finally{try{a||null==s.return||s.return()}finally{if(i)throw o}}var f=!0,h=!1,d=void 0;try{for(var b,v=t.varyingInfos[Symbol.iterator]();!(f=(b=v.next()).done);f=!0){var g=b.value;if(g){var m=N(g);e["out ".concat(m)]=Object(n.a)({},r,JSON.stringify(g.accessor))}}}catch(y){h=!0,d=y}finally{try{f||null==v.return||v.return()}finally{if(h)throw d}}return e}(this.vertexArray.configuration);o.g.table(t,i)(),o.g.table(t,s)(),o.g.table(t+1,d)(),a&&a.log({logLevel:2,message:"Rendered to ".concat(a.id)}),o.g.groupEnd(2,">>> DRAWING MODEL ".concat(this.id))()}}}]),t}()},zXfU:function(t,e,r){"use strict";r.d(e,"a",(function(){return g}));var n=r("1OyB"),a=r("vuIU"),i=r("Ji7U"),o=r("md7G"),u=r("foSv"),s=r("sYR6"),c=r("a3TU"),l=r("+H0l"),f=r("n+fv"),h=r("sSh/");function d(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(t){return!1}}();return function(){var r,n=Object(u.a)(t);if(e){var a=Object(u.a)(this).constructor;r=Reflect.construct(n,arguments,a)}else r=n.apply(this,arguments);return Object(o.a)(this,r)}}var b=[0,0,0],v={},g=function(t){Object(i.a)(r,t);var e=d(r);function r(){var t,a=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,o=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0;return Object(n.a)(this,r),t=e.call(this,-0,-0,-0),1===arguments.length&&Object(c.e)(a)?t.copy(a):(c.b.debug&&(Object(l.a)(a),Object(l.a)(i),Object(l.a)(o)),t[0]=a,t[1]=i,t[2]=o),t}return Object(a.a)(r,null,[{key:"ZERO",get:function(){return v.ZERO=v.ZERO||Object.freeze(new r(0,0,0,0))}}]),Object(a.a)(r,[{key:"set",value:function(t,e,r){return this[0]=t,this[1]=e,this[2]=r,this.check()}},{key:"copy",value:function(t){return this[0]=t[0],this[1]=t[1],this[2]=t[2],this.check()}},{key:"fromObject",value:function(t){return c.b.debug&&(Object(l.a)(t.x),Object(l.a)(t.y),Object(l.a)(t.z)),this[0]=t.x,this[1]=t.y,this[2]=t.z,this.check()}},{key:"toObject",value:function(t){return t.x=this[0],t.y=this[1],t.z=this[2],t}},{key:"angle",value:function(t){return f.a(this,t)}},{key:"cross",value:function(t){return f.c(this,this,t),this.check()}},{key:"rotateX",value:function(t){var e=t.radians,r=t.origin,n=void 0===r?b:r;return f.j(this,this,n,e),this.check()}},{key:"rotateY",value:function(t){var e=t.radians,r=t.origin,n=void 0===r?b:r;return f.k(this,this,n,e),this.check()}},{key:"rotateZ",value:function(t){var e=t.radians,r=t.origin,n=void 0===r?b:r;return f.l(this,this,n,e),this.check()}},{key:"transform",value:function(t){return this.transformAsPoint(t)}},{key:"transformAsPoint",value:function(t){return f.o(this,this,t),this.check()}},{key:"transformAsVector",value:function(t){return Object(h.c)(this,this,t),this.check()}},{key:"transformByMatrix3",value:function(t){return f.n(this,this,t),this.check()}},{key:"transformByMatrix2",value:function(t){return Object(h.b)(this,this,t),this.check()}},{key:"transformByQuaternion",value:function(t){return f.p(this,this,t),this.check()}},{key:"ELEMENTS",get:function(){return 3}},{key:"z",get:function(){return this[2]},set:function(t){this[2]=Object(l.a)(t)}}]),r}(s.a)}}]);