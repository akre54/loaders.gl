(window.webpackJsonp=window.webpackJsonp||[]).push([[3],{"+H0l":function(t,e,n){"use strict";n.d(e,"a",(function(){return a})),n.d(e,"b",(function(){return o})),n.d(e,"c",(function(){return s}));var r=n("a3TU");function i(t,e){if(t.length!==e)return!1;for(var n=0;n<t.length;++n)if(!Number.isFinite(t[n]))return!1;return!0}function a(t){if(!Number.isFinite(t))throw new Error("Invalid number ".concat(t));return t}function o(t,e){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"";if(r.b.debug&&!i(t,e))throw new Error("math.gl: ".concat(n," some fields set to invalid numbers'"));return t}var u={};function s(t,e){u[t]||(u[t]=!0,console.warn("".concat(t," has been removed in version ").concat(e,", see upgrade guide for more information")))}},"/GqU":function(t,e,n){var r=n("RK3t"),i=n("HYAF");t.exports=function(t){return r(i(t))}},"/QBq":function(t,e,n){"use strict";(function(t){var e=n("10df"),r=n("xhRq"),i=n("bfq9");function a(t,e){var n=e.extension,a=e.target,o=e.target2,u=i.b[n];Object(r.a)(u);for(var s=u.meta,c=(void 0===s?{}:s).suffix,f=void 0===c?"":c,l=t.getExtension(n),h=function(){var e=d[v],n="".concat(e).concat(f),r=null;"meta"===e||"function"==typeof t[e]||(l&&"function"==typeof l[n]?r=function(){return l[n].apply(l,arguments)}:"function"==typeof u[e]&&(r=u[e].bind(a))),r&&(a[e]=r,o[e]=r)},v=0,d=Object.keys(u);v<d.length;v++)h()}(void 0!==t?t:window).polyfillContext=function(t){return t.luma=t.luma||{},t.luma.polyfilled||(Object(e.a)(t),function(t){t.luma.extensions={};var e=t.getSupportedExtensions()||[],n=!0,r=!1,i=void 0;try{for(var a,o=e[Symbol.iterator]();!(n=(a=o.next()).done);n=!0){var u=a.value;t.luma[u]=t.getExtension(u)}}catch(s){r=!0,i=s}finally{try{n||null==o.return||o.return()}finally{if(r)throw i}}}(t),function(t,e){var n=!0,r=!1,i=void 0;try{for(var o,u=Object.getOwnPropertyNames(e)[Symbol.iterator]();!(n=(o=u.next()).done);n=!0){var s=o.value;"overrides"!==s&&a(t,{extension:s,target:t.luma,target2:t})}}catch(c){r=!0,i=c}finally{try{n||null==u.return||u.return()}finally{if(r)throw i}}}(t,i.b),function(t,e){var n=e.target,r=e.target2;Object.keys(i.a).forEach((function(e){if("function"==typeof i.a[e]){var a=t[e]?t[e].bind(t):function(){},o=i.a[e].bind(null,t,a);n[e]=o,r[e]=o}}))}(t,{target:t.luma,target2:t}),t.luma.polyfilled=!0),t}}).call(this,n("yLpj"))},"0BK2":function(t,e){t.exports={}},"0Dky":function(t,e){t.exports=function(t){try{return!!t()}catch(e){return!0}}},"0GbY":function(t,e,n){var r=n("Qo9l"),i=n("2oRo"),a=function(t){return"function"==typeof t?t:void 0};t.exports=function(t,e){return arguments.length<2?a(r[t])||a(i[t]):r[t]&&r[t][e]||i[t]&&i[t][e]}},"0eef":function(t,e,n){"use strict";var r={}.propertyIsEnumerable,i=Object.getOwnPropertyDescriptor,a=i&&!r.call({1:2},1);e.f=a?function(t){var e=i(this,t);return!!e&&e.enumerable}:r},"10df":function(t,e,n){"use strict";n.d(e,"a",(function(){return s}));var r=n("xSaR"),i={};function a(t,e){var n;i[t]=!0,void 0!==e&&(n=e,r.global.console&&r.global.console.error&&r.global.console.error(n))}var o=function t(e){var n=e.gl;this.ext=e,this.isAlive=!0,this.hasBeenBound=!1,this.elementArrayBuffer=null,this.attribs=new Array(e.maxVertexAttribs);for(var r=0;r<this.attribs.length;r++){var i=new t.VertexAttrib(n);this.attribs[r]=i}this.maxAttrib=0};(o.VertexAttrib=function(t){this.enabled=!1,this.buffer=null,this.size=4,this.type=5126,this.normalized=!1,this.stride=16,this.offset=0,this.cached="",this.recache()}).prototype.recache=function(){this.cached=[this.size,this.type,this.normalized,this.stride,this.offset].join(":")};var u=function(t){var e=this;this.gl=t,function(t){var e=t.getError;t.getError=function(){var n;do{0!==(n=e.apply(t))&&(i[n]=!0)}while(0!==n);for(n in i)if(i[n])return delete i[n],parseInt(n,10);return 0}}(t);var n=this.original={getParameter:t.getParameter,enableVertexAttribArray:t.enableVertexAttribArray,disableVertexAttribArray:t.disableVertexAttribArray,bindBuffer:t.bindBuffer,getVertexAttrib:t.getVertexAttrib,vertexAttribPointer:t.vertexAttribPointer};t.getParameter=function(t){return t===e.VERTEX_ARRAY_BINDING_OES?e.currentVertexArrayObject===e.defaultVertexArrayObject?null:e.currentVertexArrayObject:n.getParameter.apply(this,arguments)},t.enableVertexAttribArray=function(t){var r=e.currentVertexArrayObject;r.maxAttrib=Math.max(r.maxAttrib,t);var i=r.attribs[t];return i.enabled=!0,n.enableVertexAttribArray.apply(this,arguments)},t.disableVertexAttribArray=function(t){var r=e.currentVertexArrayObject;r.maxAttrib=Math.max(r.maxAttrib,t);var i=r.attribs[t];return i.enabled=!1,n.disableVertexAttribArray.apply(this,arguments)},t.bindBuffer=function(t,r){switch(t){case 34962:e.currentArrayBuffer=r;break;case 34963:e.currentVertexArrayObject.elementArrayBuffer=r}return n.bindBuffer.apply(this,arguments)},t.getVertexAttrib=function(t,r){var i=e.currentVertexArrayObject,a=i.attribs[t];switch(r){case 34975:return a.buffer;case 34338:return a.enabled;case 34339:return a.size;case 34340:return a.stride;case 34341:return a.type;case 34922:return a.normalized;default:return n.getVertexAttrib.apply(this,arguments)}},t.vertexAttribPointer=function(t,r,i,a,o,u){var s=e.currentVertexArrayObject;s.maxAttrib=Math.max(s.maxAttrib,t);var c=s.attribs[t];return c.buffer=e.currentArrayBuffer,c.size=r,c.type=i,c.normalized=a,c.stride=o,c.offset=u,c.recache(),n.vertexAttribPointer.apply(this,arguments)},t.instrumentExtension&&t.instrumentExtension(this,"OES_vertex_array_object"),t.canvas&&t.canvas.addEventListener("webglcontextrestored",(function(){var t;t="OESVertexArrayObject emulation library context restored",r.global.console&&r.global.console.log&&r.global.console.log(t),e.reset_()}),!0),this.reset_()};function s(t){if("function"!=typeof t.createVertexArray){var e=t.getSupportedExtensions;t.getSupportedExtensions=function(){var t=e.call(this)||[];return t.indexOf("OES_vertex_array_object")<0&&t.push("OES_vertex_array_object"),t};var n=t.getExtension;t.getExtension=function(e){var r=n.call(this,e);return r||("OES_vertex_array_object"!==e?null:(t.__OESVertexArrayObject||(this.__OESVertexArrayObject=new u(this)),this.__OESVertexArrayObject))}}}u.prototype.VERTEX_ARRAY_BINDING_OES=34229,u.prototype.reset_=function(){if(void 0!==this.vertexArrayObjects)for(var t=0;t<this.vertexArrayObjects.length;++t)this.vertexArrayObjects.isAlive=!1;var e=this.gl;this.maxVertexAttribs=e.getParameter(34921),this.defaultVertexArrayObject=new o(this),this.currentVertexArrayObject=null,this.currentArrayBuffer=null,this.vertexArrayObjects=[this.defaultVertexArrayObject],this.bindVertexArrayOES(null)},u.prototype.createVertexArrayOES=function(){var t=new o(this);return this.vertexArrayObjects.push(t),t},u.prototype.deleteVertexArrayOES=function(t){t.isAlive=!1,this.vertexArrayObjects.splice(this.vertexArrayObjects.indexOf(t),1),this.currentVertexArrayObject===t&&this.bindVertexArrayOES(null)},u.prototype.isVertexArrayOES=function(t){return!!(t&&t instanceof o&&t.hasBeenBound&&t.ext===this)},u.prototype.bindVertexArrayOES=function(t){var e=this.gl;if(!t||t.isAlive){var n=this.original,r=this.currentVertexArrayObject;this.currentVertexArrayObject=t||this.defaultVertexArrayObject,this.currentVertexArrayObject.hasBeenBound=!0;var i=this.currentVertexArrayObject;if(r!==i){r&&i.elementArrayBuffer===r.elementArrayBuffer||n.bindBuffer.call(e,34963,i.elementArrayBuffer);for(var o=this.currentArrayBuffer,u=Math.max(r?r.maxAttrib:0,i.maxAttrib),s=0;s<=u;s++){var c=i.attribs[s],f=r?r.attribs[s]:null;if(r&&c.enabled===f.enabled||(c.enabled?n.enableVertexAttribArray.call(e,s):n.disableVertexAttribArray.call(e,s)),c.enabled){var l=!1;r&&c.buffer===f.buffer||(o!==c.buffer&&(n.bindBuffer.call(e,34962,c.buffer),o=c.buffer),l=!0),(l||c.cached!==f.cached)&&n.vertexAttribPointer.call(e,s,c.size,c.type,c.normalized,c.stride,c.offset)}}this.currentArrayBuffer!==o&&n.bindBuffer.call(e,34962,this.currentArrayBuffer)}}else a(1282,"bindVertexArrayOES: attempt to bind deleted arrayObject")}},"2oRo":function(t,e,n){(function(e){var n=function(t){return t&&t.Math==Math&&t};t.exports=n("object"==typeof globalThis&&globalThis)||n("object"==typeof window&&window)||n("object"==typeof self&&self)||n("object"==typeof e&&e)||Function("return this")()}).call(this,n("yLpj"))},"41X0":function(t,e,n){"use strict";n.d(e,"a",(function(){return h}));var r=n("1OyB"),i=n("vuIU"),a=n("Ji7U"),o=n("md7G"),u=n("foSv"),s=n("kHIg"),c=n("a3TU"),f=n("tS8E");function l(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(t){return!1}}();return function(){var n,r=Object(u.a)(t);if(e){var i=Object(u.a)(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return Object(o.a)(this,n)}}var h=function(t){Object(a.a)(n,t);var e=l(n);function n(){return Object(r.a)(this,n),e.apply(this,arguments)}return Object(i.a)(n,[{key:"clone",value:function(){return(new this.constructor).copy(this)}},{key:"from",value:function(t){return Array.isArray(t)?this.copy(t):this.fromObject(t)}},{key:"fromArray",value:function(t){for(var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,n=0;n<this.ELEMENTS;++n)this[n]=t[n+e];return this.check()}},{key:"to",value:function(t){return t===this?this:Object(c.f)(t)?this.toArray(t):this.toObject(t)}},{key:"toTarget",value:function(t){return t?this.to(t):this}},{key:"toArray",value:function(){for(var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,n=0;n<this.ELEMENTS;++n)t[e+n]=this[n];return t}},{key:"toFloat32Array",value:function(){return new Float32Array(this)}},{key:"toString",value:function(){return this.formatString(c.b)}},{key:"formatString",value:function(t){for(var e="",n=0;n<this.ELEMENTS;++n)e+=(n>0?", ":"")+Object(c.e)(this[n],t);return"".concat(t.printTypes?this.constructor.name:"","[").concat(e,"]")}},{key:"equals",value:function(t){if(!t||this.length!==t.length)return!1;for(var e=0;e<this.ELEMENTS;++e)if(!Object(c.d)(this[e],t[e]))return!1;return!0}},{key:"exactEquals",value:function(t){if(!t||this.length!==t.length)return!1;for(var e=0;e<this.ELEMENTS;++e)if(this[e]!==t[e])return!1;return!0}},{key:"negate",value:function(){for(var t=0;t<this.ELEMENTS;++t)this[t]=-this[t];return this.check()}},{key:"lerp",value:function(t,e,n){void 0===n&&(n=e,e=t,t=this);for(var r=0;r<this.ELEMENTS;++r){var i=t[r];this[r]=i+n*(e[r]-i)}return this.check()}},{key:"min",value:function(t){for(var e=0;e<this.ELEMENTS;++e)this[e]=Math.min(t[e],this[e]);return this.check()}},{key:"max",value:function(t){for(var e=0;e<this.ELEMENTS;++e)this[e]=Math.max(t[e],this[e]);return this.check()}},{key:"clamp",value:function(t,e){for(var n=0;n<this.ELEMENTS;++n)this[n]=Math.min(Math.max(this[n],t[n]),e[n]);return this.check()}},{key:"add",value:function(){for(var t=arguments.length,e=new Array(t),n=0;n<t;n++)e[n]=arguments[n];for(var r=0,i=e;r<i.length;r++)for(var a=i[r],o=0;o<this.ELEMENTS;++o)this[o]+=a[o];return this.check()}},{key:"subtract",value:function(){for(var t=arguments.length,e=new Array(t),n=0;n<t;n++)e[n]=arguments[n];for(var r=0,i=e;r<i.length;r++)for(var a=i[r],o=0;o<this.ELEMENTS;++o)this[o]-=a[o];return this.check()}},{key:"scale",value:function(t){if(Array.isArray(t))return this.multiply(t);for(var e=0;e<this.ELEMENTS;++e)this[e]*=t;return this.check()}},{key:"sub",value:function(t){return this.subtract(t)}},{key:"setScalar",value:function(t){for(var e=0;e<this.ELEMENTS;++e)this[e]=t;return this.check()}},{key:"addScalar",value:function(t){for(var e=0;e<this.ELEMENTS;++e)this[e]+=t;return this.check()}},{key:"subScalar",value:function(t){return this.addScalar(-t)}},{key:"multiplyScalar",value:function(t){for(var e=0;e<this.ELEMENTS;++e)this[e]*=t;return this.check()}},{key:"divideScalar",value:function(t){return this.scale(1/t)}},{key:"clampScalar",value:function(t,e){for(var n=0;n<this.ELEMENTS;++n)this[n]=Math.min(Math.max(this[n],t),e);return this.check()}},{key:"multiplyByScalar",value:function(t){return this.scale(t)}},{key:"check",value:function(){if(c.b.debug&&!this.validate())throw new Error("math.gl: ".concat(this.constructor.name," some fields set to invalid numbers'"));return this}},{key:"validate",value:function(){for(var t=this.length===this.ELEMENTS,e=0;e<this.ELEMENTS;++e)t=t&&Number.isFinite(this[e]);return t}},{key:"ELEMENTS",get:function(){return Object(f.a)(!1),0}},{key:"RANK",get:function(){return Object(f.a)(!1),0}},{key:"elements",get:function(){return this}}]),n}(Object(s.a)(Array))},"6JNq":function(t,e,n){var r=n("UTVS"),i=n("Vu81"),a=n("Bs8V"),o=n("m/L8");t.exports=function(t,e){for(var n=i(e),u=o.f,s=a.f,c=0;c<n.length;c++){var f=n[c];r(t,f)||u(t,f,s(e,f))}}},"93I0":function(t,e,n){var r=n("VpIT"),i=n("kOOl"),a=r("keys");t.exports=function(t){return a[t]||(a[t]=i(t))}},"9n+3":function(t,e,n){"use strict";n.d(e,"c",(function(){return f})),n.d(e,"e",(function(){return b})),n.d(e,"a",(function(){return g})),n.d(e,"b",(function(){return m})),n.d(e,"d",(function(){return O}));var r,i,a,o=n("ODXe"),u=n("KQm4"),s=n("rePB"),c=n("xhRq"),f=(r={},Object(s.a)(r,3042,!1),Object(s.a)(r,32773,new Float32Array([0,0,0,0])),Object(s.a)(r,32777,32774),Object(s.a)(r,34877,32774),Object(s.a)(r,32969,1),Object(s.a)(r,32968,0),Object(s.a)(r,32971,1),Object(s.a)(r,32970,0),Object(s.a)(r,3106,new Float32Array([0,0,0,0])),Object(s.a)(r,3107,[!0,!0,!0,!0]),Object(s.a)(r,2884,!1),Object(s.a)(r,2885,1029),Object(s.a)(r,2929,!1),Object(s.a)(r,2931,1),Object(s.a)(r,2932,513),Object(s.a)(r,2928,new Float32Array([0,1])),Object(s.a)(r,2930,!0),Object(s.a)(r,3024,!0),Object(s.a)(r,36006,null),Object(s.a)(r,2886,2305),Object(s.a)(r,33170,4352),Object(s.a)(r,2849,1),Object(s.a)(r,32823,!1),Object(s.a)(r,32824,0),Object(s.a)(r,10752,0),Object(s.a)(r,32938,1),Object(s.a)(r,32939,!1),Object(s.a)(r,3089,!1),Object(s.a)(r,3088,new Int32Array([0,0,1024,1024])),Object(s.a)(r,2960,!1),Object(s.a)(r,2961,0),Object(s.a)(r,2968,4294967295),Object(s.a)(r,36005,4294967295),Object(s.a)(r,2962,519),Object(s.a)(r,2967,0),Object(s.a)(r,2963,4294967295),Object(s.a)(r,34816,519),Object(s.a)(r,36003,0),Object(s.a)(r,36004,4294967295),Object(s.a)(r,2964,7680),Object(s.a)(r,2965,7680),Object(s.a)(r,2966,7680),Object(s.a)(r,34817,7680),Object(s.a)(r,34818,7680),Object(s.a)(r,34819,7680),Object(s.a)(r,2978,[0,0,1024,1024]),Object(s.a)(r,3333,4),Object(s.a)(r,3317,4),Object(s.a)(r,37440,!1),Object(s.a)(r,37441,!1),Object(s.a)(r,37443,37444),Object(s.a)(r,35723,4352),Object(s.a)(r,36010,null),Object(s.a)(r,35977,!1),Object(s.a)(r,3330,0),Object(s.a)(r,3332,0),Object(s.a)(r,3331,0),Object(s.a)(r,3314,0),Object(s.a)(r,32878,0),Object(s.a)(r,3316,0),Object(s.a)(r,3315,0),Object(s.a)(r,32877,0),r),l=function(t,e,n){return e?t.enable(n):t.disable(n)},h=function(t,e,n){return t.hint(n,e)},v=function(t,e,n){return t.pixelStorei(n,e)};function d(t){return Array.isArray(t)||ArrayBuffer.isView(t)}var b=(i={},Object(s.a)(i,3042,l),Object(s.a)(i,32773,(function(t,e){return t.blendColor.apply(t,Object(u.a)(e))})),Object(s.a)(i,32777,"blendEquation"),Object(s.a)(i,34877,"blendEquation"),Object(s.a)(i,32969,"blendFunc"),Object(s.a)(i,32968,"blendFunc"),Object(s.a)(i,32971,"blendFunc"),Object(s.a)(i,32970,"blendFunc"),Object(s.a)(i,3106,(function(t,e){return t.clearColor.apply(t,Object(u.a)(e))})),Object(s.a)(i,3107,(function(t,e){return t.colorMask.apply(t,Object(u.a)(e))})),Object(s.a)(i,2884,l),Object(s.a)(i,2885,(function(t,e){return t.cullFace(e)})),Object(s.a)(i,2929,l),Object(s.a)(i,2931,(function(t,e){return t.clearDepth(e)})),Object(s.a)(i,2932,(function(t,e){return t.depthFunc(e)})),Object(s.a)(i,2928,(function(t,e){return t.depthRange.apply(t,Object(u.a)(e))})),Object(s.a)(i,2930,(function(t,e){return t.depthMask(e)})),Object(s.a)(i,3024,l),Object(s.a)(i,35723,h),Object(s.a)(i,36006,(function(t,e){var n=Object(c.f)(t)?36009:36160;return t.bindFramebuffer(n,e)})),Object(s.a)(i,2886,(function(t,e){return t.frontFace(e)})),Object(s.a)(i,33170,h),Object(s.a)(i,2849,(function(t,e){return t.lineWidth(e)})),Object(s.a)(i,32823,l),Object(s.a)(i,32824,"polygonOffset"),Object(s.a)(i,10752,"polygonOffset"),Object(s.a)(i,35977,l),Object(s.a)(i,32938,"sampleCoverage"),Object(s.a)(i,32939,"sampleCoverage"),Object(s.a)(i,3089,l),Object(s.a)(i,3088,(function(t,e){return t.scissor.apply(t,Object(u.a)(e))})),Object(s.a)(i,2960,l),Object(s.a)(i,2961,(function(t,e){return t.clearStencil(e)})),Object(s.a)(i,2968,(function(t,e){return t.stencilMaskSeparate(1028,e)})),Object(s.a)(i,36005,(function(t,e){return t.stencilMaskSeparate(1029,e)})),Object(s.a)(i,2962,"stencilFuncFront"),Object(s.a)(i,2967,"stencilFuncFront"),Object(s.a)(i,2963,"stencilFuncFront"),Object(s.a)(i,34816,"stencilFuncBack"),Object(s.a)(i,36003,"stencilFuncBack"),Object(s.a)(i,36004,"stencilFuncBack"),Object(s.a)(i,2964,"stencilOpFront"),Object(s.a)(i,2965,"stencilOpFront"),Object(s.a)(i,2966,"stencilOpFront"),Object(s.a)(i,34817,"stencilOpBack"),Object(s.a)(i,34818,"stencilOpBack"),Object(s.a)(i,34819,"stencilOpBack"),Object(s.a)(i,2978,(function(t,e){return t.viewport.apply(t,Object(u.a)(e))})),Object(s.a)(i,3333,v),Object(s.a)(i,3317,v),Object(s.a)(i,37440,v),Object(s.a)(i,37441,v),Object(s.a)(i,37443,v),Object(s.a)(i,3330,v),Object(s.a)(i,3332,v),Object(s.a)(i,3331,v),Object(s.a)(i,36010,(function(t,e){return t.bindFramebuffer(36008,e)})),Object(s.a)(i,3314,v),Object(s.a)(i,32878,v),Object(s.a)(i,3316,v),Object(s.a)(i,3315,v),Object(s.a)(i,32877,v),Object(s.a)(i,"framebuffer",(function(t,e){var n=e&&"handle"in e?e.handle:e;return t.bindFramebuffer(36160,n)})),Object(s.a)(i,"blend",(function(t,e){return e?t.enable(3042):t.disable(3042)})),Object(s.a)(i,"blendColor",(function(t,e){return t.blendColor.apply(t,Object(u.a)(e))})),Object(s.a)(i,"blendEquation",(function(t,e){e=d(e)?e:[e,e],t.blendEquationSeparate.apply(t,Object(u.a)(e))})),Object(s.a)(i,"blendFunc",(function(t,e){e=d(e)&&2===e.length?[].concat(Object(u.a)(e),Object(u.a)(e)):e,t.blendFuncSeparate.apply(t,Object(u.a)(e))})),Object(s.a)(i,"clearColor",(function(t,e){return t.clearColor.apply(t,Object(u.a)(e))})),Object(s.a)(i,"clearDepth",(function(t,e){return t.clearDepth(e)})),Object(s.a)(i,"clearStencil",(function(t,e){return t.clearStencil(e)})),Object(s.a)(i,"colorMask",(function(t,e){return t.colorMask.apply(t,Object(u.a)(e))})),Object(s.a)(i,"cull",(function(t,e){return e?t.enable(2884):t.disable(2884)})),Object(s.a)(i,"cullFace",(function(t,e){return t.cullFace(e)})),Object(s.a)(i,"depthTest",(function(t,e){return e?t.enable(2929):t.disable(2929)})),Object(s.a)(i,"depthFunc",(function(t,e){return t.depthFunc(e)})),Object(s.a)(i,"depthMask",(function(t,e){return t.depthMask(e)})),Object(s.a)(i,"depthRange",(function(t,e){return t.depthRange.apply(t,Object(u.a)(e))})),Object(s.a)(i,"dither",(function(t,e){return e?t.enable(3024):t.disable(3024)})),Object(s.a)(i,"derivativeHint",(function(t,e){t.hint(35723,e)})),Object(s.a)(i,"frontFace",(function(t,e){return t.frontFace(e)})),Object(s.a)(i,"mipmapHint",(function(t,e){return t.hint(33170,e)})),Object(s.a)(i,"lineWidth",(function(t,e){return t.lineWidth(e)})),Object(s.a)(i,"polygonOffsetFill",(function(t,e){return e?t.enable(32823):t.disable(32823)})),Object(s.a)(i,"polygonOffset",(function(t,e){return t.polygonOffset.apply(t,Object(u.a)(e))})),Object(s.a)(i,"sampleCoverage",(function(t,e){return t.sampleCoverage.apply(t,Object(u.a)(e))})),Object(s.a)(i,"scissorTest",(function(t,e){return e?t.enable(3089):t.disable(3089)})),Object(s.a)(i,"scissor",(function(t,e){return t.scissor.apply(t,Object(u.a)(e))})),Object(s.a)(i,"stencilTest",(function(t,e){return e?t.enable(2960):t.disable(2960)})),Object(s.a)(i,"stencilMask",(function(t,e){var n=e=d(e)?e:[e,e],r=Object(o.a)(n,2),i=r[0],a=r[1];t.stencilMaskSeparate(1028,i),t.stencilMaskSeparate(1029,a)})),Object(s.a)(i,"stencilFunc",(function(t,e){var n=e=d(e)&&3===e.length?[].concat(Object(u.a)(e),Object(u.a)(e)):e,r=Object(o.a)(n,6),i=r[0],a=r[1],s=r[2],c=r[3],f=r[4],l=r[5];t.stencilFuncSeparate(1028,i,a,s),t.stencilFuncSeparate(1029,c,f,l)})),Object(s.a)(i,"stencilOp",(function(t,e){var n=e=d(e)&&3===e.length?[].concat(Object(u.a)(e),Object(u.a)(e)):e,r=Object(o.a)(n,6),i=r[0],a=r[1],s=r[2],c=r[3],f=r[4],l=r[5];t.stencilOpSeparate(1028,i,a,s),t.stencilOpSeparate(1029,c,f,l)})),Object(s.a)(i,"viewport",(function(t,e){return t.viewport.apply(t,Object(u.a)(e))})),i);function y(t,e,n){return void 0!==e[t]?e[t]:n[t]}var g={blendEquation:function(t,e,n){return t.blendEquationSeparate(y(32777,e,n),y(34877,e,n))},blendFunc:function(t,e,n){return t.blendFuncSeparate(y(32969,e,n),y(32968,e,n),y(32971,e,n),y(32970,e,n))},polygonOffset:function(t,e,n){return t.polygonOffset(y(32824,e,n),y(10752,e,n))},sampleCoverage:function(t,e,n){return t.sampleCoverage(y(32938,e,n),y(32939,e,n))},stencilFuncFront:function(t,e,n){return t.stencilFuncSeparate(1028,y(2962,e,n),y(2967,e,n),y(2963,e,n))},stencilFuncBack:function(t,e,n){return t.stencilFuncSeparate(1029,y(34816,e,n),y(36003,e,n),y(36004,e,n))},stencilOpFront:function(t,e,n){return t.stencilOpSeparate(1028,y(2964,e,n),y(2965,e,n),y(2966,e,n))},stencilOpBack:function(t,e,n){return t.stencilOpSeparate(1029,y(34817,e,n),y(34818,e,n),y(34819,e,n))}},m={enable:function(t,e){return t(Object(s.a)({},e,!0))},disable:function(t,e){return t(Object(s.a)({},e,!1))},pixelStorei:function(t,e,n){return t(Object(s.a)({},e,n))},hint:function(t,e,n){return t(Object(s.a)({},e,n))},bindFramebuffer:function(t,e,n){var r;switch(e){case 36160:return t((r={},Object(s.a)(r,36006,n),Object(s.a)(r,36010,n),r));case 36009:return t(Object(s.a)({},36006,n));case 36008:return t(Object(s.a)({},36010,n));default:return null}},blendColor:function(t,e,n,r,i){return t(Object(s.a)({},32773,new Float32Array([e,n,r,i])))},blendEquation:function(t,e){var n;return t((n={},Object(s.a)(n,32777,e),Object(s.a)(n,34877,e),n))},blendEquationSeparate:function(t,e,n){var r;return t((r={},Object(s.a)(r,32777,e),Object(s.a)(r,34877,n),r))},blendFunc:function(t,e,n){var r;return t((r={},Object(s.a)(r,32969,e),Object(s.a)(r,32968,n),Object(s.a)(r,32971,e),Object(s.a)(r,32970,n),r))},blendFuncSeparate:function(t,e,n,r,i){var a;return t((a={},Object(s.a)(a,32969,e),Object(s.a)(a,32968,n),Object(s.a)(a,32971,r),Object(s.a)(a,32970,i),a))},clearColor:function(t,e,n,r,i){return t(Object(s.a)({},3106,new Float32Array([e,n,r,i])))},clearDepth:function(t,e){return t(Object(s.a)({},2931,e))},clearStencil:function(t,e){return t(Object(s.a)({},2961,e))},colorMask:function(t,e,n,r,i){return t(Object(s.a)({},3107,[e,n,r,i]))},cullFace:function(t,e){return t(Object(s.a)({},2885,e))},depthFunc:function(t,e){return t(Object(s.a)({},2932,e))},depthRange:function(t,e,n){return t(Object(s.a)({},2928,new Float32Array([e,n])))},depthMask:function(t,e){return t(Object(s.a)({},2930,e))},frontFace:function(t,e){return t(Object(s.a)({},2886,e))},lineWidth:function(t,e){return t(Object(s.a)({},2849,e))},polygonOffset:function(t,e,n){var r;return t((r={},Object(s.a)(r,32824,e),Object(s.a)(r,10752,n),r))},sampleCoverage:function(t,e,n){var r;return t((r={},Object(s.a)(r,32938,e),Object(s.a)(r,32939,n),r))},scissor:function(t,e,n,r,i){return t(Object(s.a)({},3088,new Int32Array([e,n,r,i])))},stencilMask:function(t,e){var n;return t((n={},Object(s.a)(n,2968,e),Object(s.a)(n,36005,e),n))},stencilMaskSeparate:function(t,e,n){return t(Object(s.a)({},1028===e?2968:36005,n))},stencilFunc:function(t,e,n,r){var i;return t((i={},Object(s.a)(i,2962,e),Object(s.a)(i,2967,n),Object(s.a)(i,2963,r),Object(s.a)(i,34816,e),Object(s.a)(i,36003,n),Object(s.a)(i,36004,r),i))},stencilFuncSeparate:function(t,e,n,r,i){var a;return t((a={},Object(s.a)(a,1028===e?2962:34816,n),Object(s.a)(a,1028===e?2967:36003,r),Object(s.a)(a,1028===e?2963:36004,i),a))},stencilOp:function(t,e,n,r){var i;return t((i={},Object(s.a)(i,2964,e),Object(s.a)(i,2965,n),Object(s.a)(i,2966,r),Object(s.a)(i,34817,e),Object(s.a)(i,34818,n),Object(s.a)(i,34819,r),i))},stencilOpSeparate:function(t,e,n,r,i){var a;return t((a={},Object(s.a)(a,1028===e?2964:34817,n),Object(s.a)(a,1028===e?2965:34818,r),Object(s.a)(a,1028===e?2966:34819,i),a))},viewport:function(t,e,n,r,i){return t(Object(s.a)({},2978,[e,n,r,i]))}},p=function(t,e){return t.isEnabled(e)},O=(a={},Object(s.a)(a,3042,p),Object(s.a)(a,2884,p),Object(s.a)(a,2929,p),Object(s.a)(a,3024,p),Object(s.a)(a,32823,p),Object(s.a)(a,32926,p),Object(s.a)(a,32928,p),Object(s.a)(a,3089,p),Object(s.a)(a,2960,p),Object(s.a)(a,35977,p),a)},Bs8V:function(t,e,n){var r=n("g6v/"),i=n("0eef"),a=n("XGwC"),o=n("/GqU"),u=n("wE6v"),s=n("UTVS"),c=n("DPsx"),f=Object.getOwnPropertyDescriptor;e.f=r?f:function(t,e){if(t=o(t),e=u(e,!0),c)try{return f(t,e)}catch(n){}if(s(t,e))return a(!i.f.call(t,e),t[e])}},DPsx:function(t,e,n){var r=n("g6v/"),i=n("0Dky"),a=n("zBJ4");t.exports=!r&&!i((function(){return 7!=Object.defineProperty(a("div"),"a",{get:function(){return 7}}).a}))},Ekcv:function(t,e,n){"use strict";n.d(e,"e",(function(){return r.b})),n.d(e,"a",(function(){return f})),n.d(e,"f",(function(){return h})),n.d(e,"b",(function(){return l})),n.d(e,"c",(function(){return o.e})),n.d(e,"d",(function(){return o.f}));n("/QBq");var r=n("yDTC"),i=n("Y7r1"),a=n("xSaR"),o=n("xhRq"),u=Object(a.isBrowser)(),s=u&&"undefined"!=typeof document,c={webgl2:!0,webgl1:!0,throwOnError:!0,manageState:!0,canvas:null,debug:!1,width:800,height:600};function f(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};Object(o.a)(u,"createGLContext only available in the browser.\nCreate your own headless context or use 'createHeadlessContext' from @luma.gl/test-utils");var e,n=t=Object.assign({},c,t),r=n.width,i=n.height;function a(e){if(t.throwOnError)throw new Error(e);return console.error(e),null}t.onError=a;var s=t,f=s.canvas,h=d({canvas:f,width:r,height:i,onError:a});return(e=v(h,t))?(b(e=l(e,t)),e):null}function l(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};if(!t||t._instrumented)return t;t._version=t._version||y(t),t.luma=t.luma||{},t.luma.canvasSizeInfo=t.luma.canvasSizeInfo||{};var n=e=Object.assign({},c,e),r=n.manageState,s=n.debug;return r&&Object(i.a)(t,{copyState:!1,log:function(){for(var t=arguments.length,e=new Array(t),n=0;n<t;n++)e[n]=arguments[n];return o.g.log.apply(o.g,[1].concat(e))()}}),u&&s&&(a.global.makeDebugContext?(t=a.global.makeDebugContext(t,e),o.g.level=Math.max(o.g.level,1)):o.g.warn('WebGL debug mode not activated. import "@luma.gl/debug" to enable.')()),t._instrumented=!0,t}function h(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};if(t.canvas){var n=Object(o.c)(e.useDevicePixels);g(t,n,e)}else{var r=t.getExtension("STACKGL_resize_drawingbuffer");r&&"width"in e&&"height"in e&&r.resize(e.width,e.height)}}function v(t,e){var n=e.onError,r=null,i=function(t){return r=t.statusMessage||r};t.addEventListener("webglcontextcreationerror",i,!1);var a=e.webgl1,o=void 0===a||a,u=e.webgl2,s=void 0===u||u,c=null;return s&&(c=(c=c||t.getContext("webgl2",e))||t.getContext("experimental-webgl2",e)),o&&(c=(c=c||t.getContext("webgl",e))||t.getContext("experimental-webgl",e)),t.removeEventListener("webglcontextcreationerror",i,!1),c||n("Failed to create ".concat(s&&!o?"WebGL2":"WebGL"," context: ").concat(r||"Unknown error"))}function d(t){var e,n=t.canvas,r=t.width,i=void 0===r?800:r,a=t.height,o=void 0===a?600:a,u=t.onError;"string"==typeof n?(s&&"complete"===document.readyState||u("createGLContext called on canvas '".concat(n,"' before page was loaded")),e=document.getElementById(n)):n?e=n:((e=document.createElement("canvas")).id="lumagl-canvas",e.style.width=Number.isFinite(i)?"".concat(i,"px"):"100%",e.style.height=Number.isFinite(o)?"".concat(o,"px"):"100%",document.body.insertBefore(e,document.body.firstChild));return e}function b(t){var e=Object(o.f)(t)?"WebGL2":"WebGL1",n=function(t){var e=t.getParameter(7936),n=t.getParameter(7937),r=t.getExtension("WEBGL_debug_renderer_info");return{vendor:r&&t.getParameter(r.UNMASKED_VENDOR_WEBGL||7936)||e,renderer:r&&t.getParameter(r.UNMASKED_RENDERER_WEBGL||7937)||n,vendorMasked:e,rendererMasked:n,version:t.getParameter(7938),shadingLanguageVersion:t.getParameter(35724)}}(t),r=n?"(".concat(n.vendor,",").concat(n.renderer,")"):"",i=t.debug?" debug":"";o.g.info(1,"".concat(e).concat(i," context ").concat(r))()}function y(t){return"undefined"!=typeof WebGL2RenderingContext&&t instanceof WebGL2RenderingContext?2:1}function g(t,e,n){var r="width"in n?n.width:t.canvas.clientWidth,i="height"in n?n.height:t.canvas.clientHeight;r&&i||(o.g.log(1,"Canvas clientWidth/clientHeight is 0")(),e=1,r=t.canvas.width||1,i=t.canvas.height||1),t.luma=t.luma||{},t.luma.canvasSizeInfo=t.luma.canvasSizeInfo||{};var a=t.luma.canvasSizeInfo;if(a.clientWidth!==r||a.clientHeight!==i||a.devicePixelRatio!==e){var u=e,s=Math.floor(r*u),c=Math.floor(i*u);t.canvas.width=s,t.canvas.height=c,t.drawingBufferWidth===s&&t.drawingBufferHeight===c||(o.g.warn("Device pixel ratio clamped")(),u=Math.min(t.drawingBufferWidth/r,t.drawingBufferHeight/i),t.canvas.width=Math.floor(r*u),t.canvas.height=Math.floor(i*u)),Object.assign(t.luma.canvasSizeInfo,{clientWidth:r,clientHeight:i,devicePixelRatio:e})}}},Gly6:function(t,e,n){"use strict";n.d(e,"a",(function(){return s})),n.d(e,"c",(function(){return h})),n.d(e,"b",(function(){return v}));var r,i=n("rePB"),a=n("tB1S"),o=n("jmyD"),u=(r={},Object(i.a)(r,a.b,"#ifdef MODULE_LOGDEPTH\n  logdepth_adjustPosition(gl_Position);\n#endif\n"),Object(i.a)(r,a.a,"#ifdef MODULE_MATERIAL\n  gl_FragColor = material_filterColor(gl_FragColor);\n#endif\n\n#ifdef MODULE_LIGHTING\n  gl_FragColor = lighting_filterColor(gl_FragColor);\n#endif\n\n#ifdef MODULE_FOG\n  gl_FragColor = fog_filterColor(gl_FragColor);\n#endif\n\n#ifdef MODULE_PICKING\n  gl_FragColor = picking_filterHighlightColor(gl_FragColor);\n  gl_FragColor = picking_filterPickingColor(gl_FragColor);\n#endif\n\n#ifdef MODULE_LOGDEPTH\n  logdepth_setFragDepth();\n#endif\n"),r),s="__LUMA_INJECT_DECLARATIONS__",c=/void\s+main\s*\([^)]*\)\s*\{\n?/,f=/}\n?[^{}]*$/,l=[];function h(t,e,n,r){var i=e===a.b,o=function(e){var r=n[e];r.sort((function(t,e){return t.order-e.order})),l.length=r.length;for(var a=0,o=r.length;a<o;++a)l[a]=r[a].injection;var u="".concat(l.join("\n"),"\n");switch(e){case"vs:#decl":i&&(t=t.replace(s,u));break;case"vs:#main-start":i&&(t=t.replace(c,(function(t){return t+u})));break;case"vs:#main-end":i&&(t=t.replace(f,(function(t){return u+t})));break;case"fs:#decl":i||(t=t.replace(s,u));break;case"fs:#main-start":i||(t=t.replace(c,(function(t){return t+u})));break;case"fs:#main-end":i||(t=t.replace(f,(function(t){return u+t})));break;default:t=t.replace(e,(function(t){return t+u}))}};for(var h in n)o(h);return t=t.replace(s,""),r&&(t=t.replace(/\}\s*$/,(function(t){return t+u[e]}))),t}function v(t){var e={};return Object(o.a)(Array.isArray(t)&&t.length>1),t.forEach((function(t){for(var n in t)e[n]=e[n]?"".concat(e[n],"\n").concat(t[n]):t[n]})),e}},HYAF:function(t,e){t.exports=function(t){if(null==t)throw TypeError("Can't call method on "+t);return t}},HwUG:function(t,e,n){"use strict";n.d(e,"a",(function(){return i})),n.d(e,"i",(function(){return a})),n.d(e,"d",(function(){return o})),n.d(e,"b",(function(){return u})),n.d(e,"e",(function(){return s})),n.d(e,"h",(function(){return c})),n.d(e,"f",(function(){return f})),n.d(e,"g",(function(){return l})),n.d(e,"c",(function(){return h}));n("QFcT");var r=n("yU0y");function i(){var t=new r.a(9);return r.a!=Float32Array&&(t[1]=0,t[2]=0,t[3]=0,t[5]=0,t[6]=0,t[7]=0),t[0]=1,t[4]=1,t[8]=1,t}function a(t,e){if(t===e){var n=e[1],r=e[2],i=e[5];t[1]=e[3],t[2]=e[6],t[3]=n,t[5]=e[7],t[6]=r,t[7]=i}else t[0]=e[0],t[1]=e[3],t[2]=e[6],t[3]=e[1],t[4]=e[4],t[5]=e[7],t[6]=e[2],t[7]=e[5],t[8]=e[8];return t}function o(t,e){var n=e[0],r=e[1],i=e[2],a=e[3],o=e[4],u=e[5],s=e[6],c=e[7],f=e[8],l=f*o-u*c,h=-f*a+u*s,v=c*a-o*s,d=n*l+r*h+i*v;return d?(d=1/d,t[0]=l*d,t[1]=(-f*r+i*c)*d,t[2]=(u*r-i*o)*d,t[3]=h*d,t[4]=(f*n-i*s)*d,t[5]=(-u*n+i*a)*d,t[6]=v*d,t[7]=(-c*n+r*s)*d,t[8]=(o*n-r*a)*d,t):null}function u(t){var e=t[0],n=t[1],r=t[2],i=t[3],a=t[4],o=t[5],u=t[6],s=t[7],c=t[8];return e*(c*a-o*s)+n*(-c*i+o*u)+r*(s*i-a*u)}function s(t,e,n){var r=e[0],i=e[1],a=e[2],o=e[3],u=e[4],s=e[5],c=e[6],f=e[7],l=e[8],h=n[0],v=n[1],d=n[2],b=n[3],y=n[4],g=n[5],m=n[6],p=n[7],O=n[8];return t[0]=h*r+v*o+d*c,t[1]=h*i+v*u+d*f,t[2]=h*a+v*s+d*l,t[3]=b*r+y*o+g*c,t[4]=b*i+y*u+g*f,t[5]=b*a+y*s+g*l,t[6]=m*r+p*o+O*c,t[7]=m*i+p*u+O*f,t[8]=m*a+p*s+O*l,t}function c(t,e,n){var r=e[0],i=e[1],a=e[2],o=e[3],u=e[4],s=e[5],c=e[6],f=e[7],l=e[8],h=n[0],v=n[1];return t[0]=r,t[1]=i,t[2]=a,t[3]=o,t[4]=u,t[5]=s,t[6]=h*r+v*o+c,t[7]=h*i+v*u+f,t[8]=h*a+v*s+l,t}function f(t,e,n){var r=e[0],i=e[1],a=e[2],o=e[3],u=e[4],s=e[5],c=e[6],f=e[7],l=e[8],h=Math.sin(n),v=Math.cos(n);return t[0]=v*r+h*o,t[1]=v*i+h*u,t[2]=v*a+h*s,t[3]=v*o-h*r,t[4]=v*u-h*i,t[5]=v*s-h*a,t[6]=c,t[7]=f,t[8]=l,t}function l(t,e,n){var r=n[0],i=n[1];return t[0]=r*e[0],t[1]=r*e[1],t[2]=r*e[2],t[3]=i*e[3],t[4]=i*e[4],t[5]=i*e[5],t[6]=e[6],t[7]=e[7],t[8]=e[8],t}function h(t,e){var n=e[0],r=e[1],i=e[2],a=e[3],o=n+n,u=r+r,s=i+i,c=n*o,f=r*o,l=r*u,h=i*o,v=i*u,d=i*s,b=a*o,y=a*u,g=a*s;return t[0]=1-l-d,t[3]=f-g,t[6]=h+y,t[1]=f+g,t[4]=1-c-d,t[7]=v-b,t[2]=h-y,t[5]=v+b,t[8]=1-c-l,t}},"I+eb":function(t,e,n){var r=n("2oRo"),i=n("Bs8V").f,a=n("kRJp"),o=n("busE"),u=n("zk60"),s=n("6JNq"),c=n("lMq5");t.exports=function(t,e){var n,f,l,h,v,d=t.target,b=t.global,y=t.stat;if(n=b?r:y?r[d]||u(d,{}):(r[d]||{}).prototype)for(f in e){if(h=e[f],l=t.noTargetGet?(v=i(n,f))&&v.value:n[f],!c(b?f:d+(y?".":"#")+f,t.forced)&&void 0!==l){if(typeof h==typeof l)continue;s(h,l)}(t.sham||l&&l.sham)&&a(h,"sham",!0),o(n,f,h,t)}}},I8vh:function(t,e,n){var r=n("ppGB"),i=Math.max,a=Math.min;t.exports=function(t,e){var n=r(t);return n<0?i(n+e,0):a(n,e)}},JBy8:function(t,e,n){var r=n("yoRg"),i=n("eDl+").concat("length","prototype");e.f=Object.getOwnPropertyNames||function(t){return r(t,i)}},Nw31:function(t,e,n){"use strict";n.d(e,"a",(function(){return j}));var r=n("ODXe"),i=n("1OyB"),a=n("vuIU"),o=n("Ji7U"),u=n("md7G"),s=n("foSv"),c=n("+H0l"),f=n("fxzv"),l=n("sSh/"),h=n("ZaHm"),v=n("ZxFD"),d=n("n+fv"),b=n("bl9R");function y(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(t){return!1}}();return function(){var n,r=Object(s.a)(t);if(e){var i=Object(s.a)(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return Object(u.a)(this,n)}}var g=Object.freeze([1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1]),m=Object.freeze([0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0]),p=Object.freeze({COL0ROW0:0,COL0ROW1:1,COL0ROW2:2,COL0ROW3:3,COL1ROW0:4,COL1ROW1:5,COL1ROW2:6,COL1ROW3:7,COL2ROW0:8,COL2ROW1:9,COL2ROW2:10,COL2ROW3:11,COL3ROW0:12,COL3ROW1:13,COL3ROW2:14,COL3ROW3:15}),O={},j=function(t){Object(o.a)(n,t);var e=y(n);function n(t){var r;return Object(i.a)(this,n),r=e.call(this,-0,-0,-0,-0,-0,-0,-0,-0,-0,-0,-0,-0,-0,-0,-0,-0),1===arguments.length&&Array.isArray(t)?r.copy(t):r.identity(),r}return Object(a.a)(n,[{key:"INDICES",get:function(){return p}},{key:"ELEMENTS",get:function(){return 16}},{key:"RANK",get:function(){return 4}}],[{key:"IDENTITY",get:function(){return O.IDENTITY=O.IDENTITY||Object.freeze(new n(g)),O.IDENTITY}},{key:"ZERO",get:function(){return O.ZERO=O.ZERO||Object.freeze(new n(m)),O.ZERO}}]),Object(a.a)(n,[{key:"copy",value:function(t){return this[0]=t[0],this[1]=t[1],this[2]=t[2],this[3]=t[3],this[4]=t[4],this[5]=t[5],this[6]=t[6],this[7]=t[7],this[8]=t[8],this[9]=t[9],this[10]=t[10],this[11]=t[11],this[12]=t[12],this[13]=t[13],this[14]=t[14],this[15]=t[15],this.check()}},{key:"set",value:function(t,e,n,r,i,a,o,u,s,c,f,l,h,v,d,b){return this[0]=t,this[1]=e,this[2]=n,this[3]=r,this[4]=i,this[5]=a,this[6]=o,this[7]=u,this[8]=s,this[9]=c,this[10]=f,this[11]=l,this[12]=h,this[13]=v,this[14]=d,this[15]=b,this.check()}},{key:"setRowMajor",value:function(t,e,n,r,i,a,o,u,s,c,f,l,h,v,d,b){return this[0]=t,this[1]=i,this[2]=s,this[3]=h,this[4]=e,this[5]=a,this[6]=c,this[7]=v,this[8]=n,this[9]=o,this[10]=f,this[11]=d,this[12]=r,this[13]=u,this[14]=l,this[15]=b,this.check()}},{key:"toRowMajor",value:function(t){return t[0]=this[0],t[1]=this[4],t[2]=this[8],t[3]=this[12],t[4]=this[1],t[5]=this[5],t[6]=this[9],t[7]=this[13],t[8]=this[2],t[9]=this[6],t[10]=this[10],t[11]=this[14],t[12]=this[3],t[13]=this[7],t[14]=this[11],t[15]=this[15],t}},{key:"identity",value:function(){return this.copy(g)}},{key:"fromQuaternion",value:function(t){return h.c(this,t),this.check()}},{key:"frustum",value:function(t){var e=t.left,r=t.right,i=t.bottom,a=t.top,o=t.near,u=t.far;return u===1/0?n._computeInfinitePerspectiveOffCenter(this,e,r,i,a,o):h.d(this,e,r,i,a,o,u),this.check()}},{key:"lookAt",value:function(t,e,n){if(1===arguments.length){var r=t;t=r.eye,e=r.center,n=r.up}return e=e||[0,0,0],n=n||[0,1,0],h.g(this,t,e,n),this.check()}},{key:"ortho",value:function(t){var e=t.left,n=t.right,r=t.bottom,i=t.top,a=t.near,o=void 0===a?.1:a,u=t.far,s=void 0===u?500:u;return h.i(this,e,n,r,i,o,s),this.check()}},{key:"orthographic",value:function(t){var e=t.fovy,r=void 0===e?45*Math.PI/180:e,i=t.aspect,a=void 0===i?1:i,o=t.focalDistance,u=void 0===o?1:o,s=t.near,c=void 0===s?.1:s,f=t.far,l=void 0===f?500:f;if(r>2*Math.PI)throw Error("radians");var h=r/2,v=u*Math.tan(h),d=v*a;return(new n).ortho({left:-d,right:d,bottom:-v,top:v,near:c,far:l})}},{key:"perspective",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},e=t.fovy,n=void 0===e?void 0:e,r=t.fov,i=void 0===r?45*Math.PI/180:r,a=t.aspect,o=void 0===a?1:a,u=t.near,s=void 0===u?.1:u,c=t.far,f=void 0===c?500:c;if((n=n||i)>2*Math.PI)throw Error("radians");return h.j(this,n,o,s,f),this.check()}},{key:"determinant",value:function(){return h.a(this)}},{key:"getScale",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[-0,-0,-0];return t[0]=Math.sqrt(this[0]*this[0]+this[1]*this[1]+this[2]*this[2]),t[1]=Math.sqrt(this[4]*this[4]+this[5]*this[5]+this[6]*this[6]),t[2]=Math.sqrt(this[8]*this[8]+this[9]*this[9]+this[10]*this[10]),t}},{key:"getTranslation",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[-0,-0,-0];return t[0]=this[12],t[1]=this[13],t[2]=this[14],t}},{key:"getRotation",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[-0,-0,-0,-0,-0,-0,-0,-0,-0,-0,-0,-0,-0,-0,-0,-0],e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,n=this.getScale(e||[-0,-0,-0]),r=1/n[0],i=1/n[1],a=1/n[2];return t[0]=this[0]*r,t[1]=this[1]*i,t[2]=this[2]*a,t[3]=0,t[4]=this[4]*r,t[5]=this[5]*i,t[6]=this[6]*a,t[7]=0,t[8]=this[8]*r,t[9]=this[9]*i,t[10]=this[10]*a,t[11]=0,t[12]=0,t[13]=0,t[14]=0,t[15]=1,t}},{key:"getRotationMatrix3",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[-0,-0,-0,-0,-0,-0,-0,-0,-0],e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,n=this.getScale(e||[-0,-0,-0]),r=1/n[0],i=1/n[1],a=1/n[2];return t[0]=this[0]*r,t[1]=this[1]*i,t[2]=this[2]*a,t[3]=this[4]*r,t[4]=this[5]*i,t[5]=this[6]*a,t[6]=this[8]*r,t[7]=this[9]*i,t[8]=this[10]*a,t}},{key:"transpose",value:function(){return h.q(this,this),this.check()}},{key:"invert",value:function(){return h.f(this,this),this.check()}},{key:"multiplyLeft",value:function(t){return h.h(this,t,this),this.check()}},{key:"multiplyRight",value:function(t){return h.h(this,this,t),this.check()}},{key:"rotateX",value:function(t){return h.l(this,this,t),this.check()}},{key:"rotateY",value:function(t){return h.m(this,this,t),this.check()}},{key:"rotateZ",value:function(t){return h.n(this,this,t),this.check()}},{key:"rotateXYZ",value:function(t){var e=Object(r.a)(t,3),n=e[0],i=e[1],a=e[2];return this.rotateX(n).rotateY(i).rotateZ(a)}},{key:"rotateAxis",value:function(t,e){return h.k(this,this,t,e),this.check()}},{key:"scale",value:function(t){return Array.isArray(t)?h.o(this,this,t):h.o(this,this,[t,t,t]),this.check()}},{key:"translate",value:function(t){return h.p(this,this,t),this.check()}},{key:"transform",value:function(t,e){return 4===t.length?(e=b.n(e||[-0,-0,-0,-0],t,this),Object(c.b)(e,4),e):this.transformAsPoint(t,e)}},{key:"transformAsPoint",value:function(t,e){switch(t.length){case 2:e=v.j(e||[-0,-0],t,this);break;case 3:e=d.o(e||[-0,-0,-0],t,this);break;default:throw new Error("Illegal vector")}return Object(c.b)(e,t.length),e}},{key:"transformAsVector",value:function(t,e){switch(t.length){case 2:e=Object(l.a)(e||[-0,-0],t,this);break;case 3:e=Object(l.c)(e||[-0,-0,-0],t,this);break;default:throw new Error("Illegal vector")}return Object(c.b)(e,t.length),e}},{key:"makeRotationX",value:function(t){return this.identity().rotateX(t)}},{key:"makeTranslation",value:function(t,e,n){return this.identity().translate([t,e,n])}},{key:"transformPoint",value:function(t,e){return Object(c.c)("Matrix4.transformPoint","3.0"),this.transformAsPoint(t,e)}},{key:"transformVector",value:function(t,e){return Object(c.c)("Matrix4.transformVector","3.0"),this.transformAsPoint(t,e)}},{key:"transformDirection",value:function(t,e){return Object(c.c)("Matrix4.transformDirection","3.0"),this.transformAsVector(t,e)}}],[{key:"_computeInfinitePerspectiveOffCenter",value:function(t,e,n,r,i,a){var o=2*a/(n-e),u=2*a/(i-r),s=(n+e)/(n-e),c=(i+r)/(i-r),f=-2*a;return t[0]=o,t[1]=0,t[2]=0,t[3]=0,t[4]=0,t[5]=u,t[6]=0,t[7]=0,t[8]=s,t[9]=c,t[10]=-1,t[11]=-1,t[12]=0,t[13]=0,t[14]=f,t[15]=0,t}}]),n}(f.a)},"Oz/4":function(t,e,n){"use strict";n.d(e,"a",(function(){return d}));var r=n("1OyB"),i=n("vuIU"),a=n("Ji7U"),o=n("md7G"),u=n("foSv"),s=n("sYR6"),c=n("a3TU"),f=n("+H0l"),l=n("ZxFD"),h=n("sSh/");function v(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(t){return!1}}();return function(){var n,r=Object(u.a)(t);if(e){var i=Object(u.a)(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return Object(o.a)(this,n)}}var d=function(t){Object(a.a)(n,t);var e=v(n);function n(){var t,i=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,a=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;return Object(r.a)(this,n),t=e.call(this,2),Object(c.f)(i)&&1===arguments.length?t.copy(i):(c.b.debug&&(Object(f.a)(i),Object(f.a)(a)),t[0]=i,t[1]=a),t}return Object(i.a)(n,[{key:"set",value:function(t,e){return this[0]=t,this[1]=e,this.check()}},{key:"copy",value:function(t){return this[0]=t[0],this[1]=t[1],this.check()}},{key:"fromObject",value:function(t){return c.b.debug&&(Object(f.a)(t.x),Object(f.a)(t.y)),this[0]=t.x,this[1]=t.y,this.check()}},{key:"toObject",value:function(t){return t.x=this[0],t.y=this[1],t}},{key:"horizontalAngle",value:function(){return Math.atan2(this.y,this.x)}},{key:"verticalAngle",value:function(){return Math.atan2(this.x,this.y)}},{key:"transform",value:function(t){return this.transformAsPoint(t)}},{key:"transformAsPoint",value:function(t){return l.j(this,this,t),this.check()}},{key:"transformAsVector",value:function(t){return Object(h.a)(this,this,t),this.check()}},{key:"transformByMatrix3",value:function(t){return l.i(this,this,t),this.check()}},{key:"transformByMatrix2x3",value:function(t){return l.h(this,this,t),this.check()}},{key:"transformByMatrix2",value:function(t){return l.g(this,this,t),this.check()}},{key:"ELEMENTS",get:function(){return 2}}]),n}(s.a)},QFcT:function(t,e,n){var r=n("I+eb"),i=Math.hypot,a=Math.abs,o=Math.sqrt;r({target:"Math",stat:!0,forced:!!i&&i(1/0,NaN)!==1/0},{hypot:function(t,e){for(var n,r,i=0,u=0,s=arguments.length,c=0;u<s;)c<(n=a(arguments[u++]))?(i=i*(r=c/n)*r+1,c=n):i+=n>0?(r=n/c)*r:n;return c===1/0?1/0:c*o(i)}})},Qo9l:function(t,e,n){var r=n("2oRo");t.exports=r},RK3t:function(t,e,n){var r=n("0Dky"),i=n("xrYK"),a="".split;t.exports=r((function(){return!Object("z").propertyIsEnumerable(0)}))?function(t){return"String"==i(t)?a.call(t,""):Object(t)}:Object},TWQb:function(t,e,n){var r=n("/GqU"),i=n("UMSQ"),a=n("I8vh"),o=function(t){return function(e,n,o){var u,s=r(e),c=i(s.length),f=a(o,c);if(t&&n!=n){for(;c>f;)if((u=s[f++])!=u)return!0}else for(;c>f;f++)if((t||f in s)&&s[f]===n)return t||f||0;return!t&&-1}};t.exports={includes:o(!0),indexOf:o(!1)}},UMSQ:function(t,e,n){var r=n("ppGB"),i=Math.min;t.exports=function(t){return t>0?i(r(t),9007199254740991):0}},UTVS:function(t,e){var n={}.hasOwnProperty;t.exports=function(t,e){return n.call(t,e)}},VpIT:function(t,e,n){var r=n("xDBR"),i=n("xs3f");(t.exports=function(t,e){return i[t]||(i[t]=void 0!==e?e:{})})("versions",[]).push({version:"3.6.5",mode:r?"pure":"global",copyright:"© 2020 Denis Pushkarev (zloirock.ru)"})},Vu81:function(t,e,n){var r=n("0GbY"),i=n("JBy8"),a=n("dBg+"),o=n("glrk");t.exports=r("Reflect","ownKeys")||function(t){var e=i.f(o(t)),n=a.f;return n?e.concat(n(t)):e}},VvNH:function(t,e,n){"use strict";(function(t){var r=n("a3TU"),i=n("Oz/4");n.d(e,"c",(function(){return i.a}));var a=n("zXfU");n.d(e,"d",(function(){return a.a}));var o=n("Nw31");n.d(e,"a",(function(){return o.a}));var u=n("Xjzu");n.d(e,"b",(function(){return u.a})),n.d(e,"f",(function(){return r.d})),n.d(e,"e",(function(){return r.a})),n.d(e,"g",(function(){return r.g}));var s={self:"undefined"!=typeof self&&self,window:"undefined"!=typeof window&&window,global:void 0!==t&&t};(s.global||s.self||s.window).mathgl={config:r.b}}).call(this,n("yLpj"))},XGwC:function(t,e){t.exports=function(t,e){return{enumerable:!(1&t),configurable:!(2&t),writable:!(4&t),value:e}}},XbXb:function(t,e,n){"use strict";n.d(e,"b",(function(){return o})),n.d(e,"a",(function(){return u}));var r=n("K9nA"),i=n("5ku3"),a=n("I0ug");function o(){return void 0!==r.f.orientation}function u(t){if(!t&&!Object(i.a)())return"Node";if(Object(a.a)(t))return"Electron";var e="undefined"!=typeof navigator?navigator:{},n=t||e.userAgent||"";if(n.indexOf("Edge")>-1)return"Edge";var o=-1!==n.indexOf("MSIE "),u=-1!==n.indexOf("Trident/");return o||u?"IE":r.f.chrome?"Chrome":r.f.safari?"Safari":r.f.mozInnerScreenX?"Firefox":"Unknown"}},Xjzu:function(t,e,n){"use strict";n.d(e,"a",(function(){return C}));var r=n("1OyB"),i=n("vuIU"),a=n("Ji7U"),o=n("md7G"),u=n("foSv"),s=n("41X0"),c=n("+H0l"),f=n("tS8E"),l=n("yU0y"),h=n("HwUG"),v=n("n+fv"),d=n("bl9R");function b(){var t=new l.a(4);return l.a!=Float32Array&&(t[0]=0,t[1]=0,t[2]=0),t[3]=1,t}function y(t,e,n){n*=.5;var r=Math.sin(n);return t[0]=r*e[0],t[1]=r*e[1],t[2]=r*e[2],t[3]=Math.cos(n),t}function g(t,e,n){var r=e[0],i=e[1],a=e[2],o=e[3],u=n[0],s=n[1],c=n[2],f=n[3];return t[0]=r*f+o*u+i*c-a*s,t[1]=i*f+o*s+a*u-r*c,t[2]=a*f+o*c+r*s-i*u,t[3]=o*f-r*u-i*s-a*c,t}function m(t,e,n,r){var i,a,o,u,s,c=e[0],f=e[1],h=e[2],v=e[3],d=n[0],b=n[1],y=n[2],g=n[3];return(a=c*d+f*b+h*y+v*g)<0&&(a=-a,d=-d,b=-b,y=-y,g=-g),1-a>l.b?(i=Math.acos(a),o=Math.sin(i),u=Math.sin((1-r)*i)/o,s=Math.sin(r*i)/o):(u=1-r,s=r),t[0]=u*c+s*d,t[1]=u*f+s*b,t[2]=u*h+s*y,t[3]=u*v+s*g,t}function p(t,e){var n,r=e[0]+e[4]+e[8];if(r>0)n=Math.sqrt(r+1),t[3]=.5*n,n=.5/n,t[0]=(e[5]-e[7])*n,t[1]=(e[6]-e[2])*n,t[2]=(e[1]-e[3])*n;else{var i=0;e[4]>e[0]&&(i=1),e[8]>e[3*i+i]&&(i=2);var a=(i+1)%3,o=(i+2)%3;n=Math.sqrt(e[3*i+i]-e[3*a+a]-e[3*o+o]+1),t[i]=.5*n,n=.5/n,t[3]=(e[3*a+o]-e[3*o+a])*n,t[a]=(e[3*a+i]+e[3*i+a])*n,t[o]=(e[3*o+i]+e[3*i+o])*n}return t}d.b,d.g,d.c,d.l;var O,j,k,_,x,A,E=d.a,M=d.k,w=d.d,S=d.i,T=d.h,P=d.m,R=d.j,L=(d.f,d.e,O=v.b(),j=v.e(1,0,0),k=v.e(0,1,0),function(t,e,n){var r=v.d(e,n);return r<-.999999?(v.c(O,j,e),v.f(O)<1e-6&&v.c(O,k,e),v.i(O,O),y(t,O,Math.PI),t):r>.999999?(t[0]=0,t[1]=0,t[2]=0,t[3]=1,t):(v.c(O,e,n),t[0]=O[0],t[1]=O[1],t[2]=O[2],t[3]=1+r,R(t,t))});_=b(),x=b(),A=h.a();function D(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(t){return!1}}();return function(){var n,r=Object(u.a)(t);if(e){var i=Object(u.a)(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return Object(o.a)(this,n)}}var F=[0,0,0,1],C=function(t){Object(a.a)(n,t);var e=D(n);function n(){var t,i=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,a=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,o=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0,u=arguments.length>3&&void 0!==arguments[3]?arguments[3]:1;return Object(r.a)(this,n),t=e.call(this,-0,-0,-0,-0),Array.isArray(i)&&1===arguments.length?t.copy(i):t.set(i,a,o,u),t}return Object(i.a)(n,[{key:"copy",value:function(t){return this[0]=t[0],this[1]=t[1],this[2]=t[2],this[3]=t[3],this.check()}},{key:"set",value:function(t,e,n,r){return this[0]=t,this[1]=e,this[2]=n,this[3]=r,this.check()}},{key:"fromMatrix3",value:function(t){return p(this,t),this.check()}},{key:"identity",value:function(){var t;return(t=this)[0]=0,t[1]=0,t[2]=0,t[3]=1,this.check()}},{key:"fromAxisRotation",value:function(t,e){return y(this,t,e),this.check()}},{key:"setAxisAngle",value:function(t,e){return this.fromAxisRotation(t,e)}},{key:"len",value:function(){return T(this)}},{key:"lengthSquared",value:function(){return P(this)}},{key:"dot",value:function(t,e){if(void 0!==e)throw new Error("Quaternion.dot only takes one argument");return w(this,t)}},{key:"rotationTo",value:function(t,e){return L(this,t,e),this.check()}},{key:"add",value:function(t,e){if(void 0!==e)throw new Error("Quaternion.add only takes one argument");return E(this,this,t),this.check()}},{key:"calculateW",value:function(){var t,e,n,r,i;return t=this,n=(e=this)[0],r=e[1],i=e[2],t[0]=n,t[1]=r,t[2]=i,t[3]=Math.sqrt(Math.abs(1-n*n-r*r-i*i)),this.check()}},{key:"conjugate",value:function(){var t,e;return e=this,(t=this)[0]=-e[0],t[1]=-e[1],t[2]=-e[2],t[3]=e[3],this.check()}},{key:"invert",value:function(){var t,e,n,r,i,a,o,u;return t=this,n=(e=this)[0],r=e[1],i=e[2],a=e[3],u=(o=n*n+r*r+i*i+a*a)?1/o:0,t[0]=-n*u,t[1]=-r*u,t[2]=-i*u,t[3]=a*u,this.check()}},{key:"lerp",value:function(t,e,n){return S(this,t,e,n),this.check()}},{key:"multiplyRight",value:function(t,e){return Object(f.a)(!e),g(this,this,t),this.check()}},{key:"multiplyLeft",value:function(t,e){return Object(f.a)(!e),g(this,t,this),this.check()}},{key:"normalize",value:function(){var t=this.len(),e=t>0?1/t:0;return this[0]=this[0]*e,this[1]=this[1]*e,this[2]=this[2]*e,this[3]=this[3]*e,0===t&&(this[3]=1),this.check()}},{key:"rotateX",value:function(t){return function(t,e,n){n*=.5;var r=e[0],i=e[1],a=e[2],o=e[3],u=Math.sin(n),s=Math.cos(n);t[0]=r*s+o*u,t[1]=i*s+a*u,t[2]=a*s-i*u,t[3]=o*s-r*u}(this,this,t),this.check()}},{key:"rotateY",value:function(t){return function(t,e,n){n*=.5;var r=e[0],i=e[1],a=e[2],o=e[3],u=Math.sin(n),s=Math.cos(n);t[0]=r*s-a*u,t[1]=i*s+o*u,t[2]=a*s+r*u,t[3]=o*s-i*u}(this,this,t),this.check()}},{key:"rotateZ",value:function(t){return function(t,e,n){n*=.5;var r=e[0],i=e[1],a=e[2],o=e[3],u=Math.sin(n),s=Math.cos(n);t[0]=r*s+i*u,t[1]=i*s-r*u,t[2]=a*s+o*u,t[3]=o*s-a*u}(this,this,t),this.check()}},{key:"scale",value:function(t){return M(this,this,t),this.check()}},{key:"slerp",value:function(t,e,n){switch(arguments.length){case 1:var r=arguments[0],i=r.start;t=void 0===i?F:i,e=r.target,n=r.ratio;break;case 2:var a=Array.prototype.slice.call(arguments);e=a[0],n=a[1],t=this}return m(this,t,e,n),this.check()}},{key:"transformVector4",value:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:t;return d.o(e,t,this),Object(c.b)(e,4)}},{key:"lengthSq",value:function(){return this.lengthSquared()}},{key:"setFromAxisAngle",value:function(t,e){return this.setAxisAngle(t,e)}},{key:"premultiply",value:function(t,e){return this.multiplyLeft(t,e)}},{key:"multiply",value:function(t,e){return this.multiplyRight(t,e)}},{key:"ELEMENTS",get:function(){return 4}},{key:"x",get:function(){return this[0]},set:function(t){this[0]=Object(c.a)(t)}},{key:"y",get:function(){return this[1]},set:function(t){this[1]=Object(c.a)(t)}},{key:"z",get:function(){return this[2]},set:function(t){this[2]=Object(c.a)(t)}},{key:"w",get:function(){return this[3]},set:function(t){this[3]=Object(c.a)(t)}}]),n}(s.a)},Y7r1:function(t,e,n){"use strict";(function(t){n.d(e,"a",(function(){return h})),n.d(e,"c",(function(){return v})),n.d(e,"b",(function(){return d}));var r=n("1OyB"),i=n("vuIU"),a=n("9n+3"),o=n("yDTC"),u=n("xhRq");function s(t,e){var n=t[e].bind(t);t[e]=function(){var e=arguments.length<=0?void 0:arguments[0];return e in t.state.cache||(t.state.cache[e]=n.apply(void 0,arguments)),t.state.enable?t.state.cache[e]:n.apply(void 0,arguments)},Object.defineProperty(t[e],"name",{value:"".concat(e,"-from-cache"),configurable:!1})}function c(t,e,n){var r=t[e].bind(t);t[e]=function(){for(var e=arguments.length,i=new Array(e),a=0;a<e;a++)i[a]=arguments[a];var o=n.apply(void 0,[t.state._updateCache].concat(i)),u=o.valueChanged,s=o.oldValue;return u&&r.apply(void 0,i),s},Object.defineProperty(t[e],"name",{value:"".concat(e,"-to-cache"),configurable:!1})}function f(t){var e=t.useProgram.bind(t);t.useProgram=function(n){t.state.program!==n&&(e(n),t.state.program=n)}}var l=function(){function t(e){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},i=n.copyState,u=void 0!==i&&i,s=n.log,c=void 0===s?function(){}:s;Object(r.a)(this,t),this.gl=e,this.program=null,this.stateStack=[],this.enable=!0,this.cache=u?Object(o.a)(e):Object.assign({},a.c),this.log=c,this._updateCache=this._updateCache.bind(this),Object.seal(this)}return Object(i.a)(t,[{key:"push",value:function(){this.stateStack.push({})}},{key:"pop",value:function(){Object(u.a)(this.stateStack.length>0);var t=this.stateStack[this.stateStack.length-1];Object(o.c)(this.gl,t,this.cache),this.stateStack.pop()}},{key:"_updateCache",value:function(t){var e,n=!1,r=this.stateStack.length>0&&this.stateStack[this.stateStack.length-1];for(var i in t){Object(u.a)(void 0!==i);var a=t[i],o=this.cache[i];Object(u.b)(a,o)||(n=!0,e=o,r&&!(i in r)&&(r[i]=o),this.cache[i]=a)}return{valueChanged:n,oldValue:e}}}]),t}();function h(e){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},r=n.enable,i=void 0===r||r,o=n.copyState;if(Object(u.a)(void 0!==o),!e.state){var h=void 0!==t?t:window;for(var v in h.polyfillContext&&h.polyfillContext(e),e.state=new l(e,{copyState:o,enable:i}),f(e),a.b){var d=a.b[v];c(e,v,d)}s(e,"getParameter"),s(e,"isEnabled")}return e.state.enable=i,e}function v(t){t.state||h(t,{copyState:!1}),t.state.push()}function d(t){Object(u.a)(t.state),t.state.pop()}}).call(this,n("yLpj"))},ZaHm:function(t,e,n){"use strict";n.d(e,"q",(function(){return i})),n.d(e,"f",(function(){return a})),n.d(e,"a",(function(){return o})),n.d(e,"h",(function(){return u})),n.d(e,"p",(function(){return s})),n.d(e,"o",(function(){return c})),n.d(e,"k",(function(){return f})),n.d(e,"l",(function(){return l})),n.d(e,"m",(function(){return h})),n.d(e,"n",(function(){return v})),n.d(e,"e",(function(){return d})),n.d(e,"c",(function(){return b})),n.d(e,"d",(function(){return y})),n.d(e,"j",(function(){return g})),n.d(e,"i",(function(){return m})),n.d(e,"g",(function(){return p})),n.d(e,"b",(function(){return O}));n("QFcT");var r=n("yU0y");function i(t,e){if(t===e){var n=e[1],r=e[2],i=e[3],a=e[6],o=e[7],u=e[11];t[1]=e[4],t[2]=e[8],t[3]=e[12],t[4]=n,t[6]=e[9],t[7]=e[13],t[8]=r,t[9]=a,t[11]=e[14],t[12]=i,t[13]=o,t[14]=u}else t[0]=e[0],t[1]=e[4],t[2]=e[8],t[3]=e[12],t[4]=e[1],t[5]=e[5],t[6]=e[9],t[7]=e[13],t[8]=e[2],t[9]=e[6],t[10]=e[10],t[11]=e[14],t[12]=e[3],t[13]=e[7],t[14]=e[11],t[15]=e[15];return t}function a(t,e){var n=e[0],r=e[1],i=e[2],a=e[3],o=e[4],u=e[5],s=e[6],c=e[7],f=e[8],l=e[9],h=e[10],v=e[11],d=e[12],b=e[13],y=e[14],g=e[15],m=n*u-r*o,p=n*s-i*o,O=n*c-a*o,j=r*s-i*u,k=r*c-a*u,_=i*c-a*s,x=f*b-l*d,A=f*y-h*d,E=f*g-v*d,M=l*y-h*b,w=l*g-v*b,S=h*g-v*y,T=m*S-p*w+O*M+j*E-k*A+_*x;return T?(T=1/T,t[0]=(u*S-s*w+c*M)*T,t[1]=(i*w-r*S-a*M)*T,t[2]=(b*_-y*k+g*j)*T,t[3]=(h*k-l*_-v*j)*T,t[4]=(s*E-o*S-c*A)*T,t[5]=(n*S-i*E+a*A)*T,t[6]=(y*O-d*_-g*p)*T,t[7]=(f*_-h*O+v*p)*T,t[8]=(o*w-u*E+c*x)*T,t[9]=(r*E-n*w-a*x)*T,t[10]=(d*k-b*O+g*m)*T,t[11]=(l*O-f*k-v*m)*T,t[12]=(u*A-o*M-s*x)*T,t[13]=(n*M-r*A+i*x)*T,t[14]=(b*p-d*j-y*m)*T,t[15]=(f*j-l*p+h*m)*T,t):null}function o(t){var e=t[0],n=t[1],r=t[2],i=t[3],a=t[4],o=t[5],u=t[6],s=t[7],c=t[8],f=t[9],l=t[10],h=t[11],v=t[12],d=t[13],b=t[14],y=t[15];return(e*o-n*a)*(l*y-h*b)-(e*u-r*a)*(f*y-h*d)+(e*s-i*a)*(f*b-l*d)+(n*u-r*o)*(c*y-h*v)-(n*s-i*o)*(c*b-l*v)+(r*s-i*u)*(c*d-f*v)}function u(t,e,n){var r=e[0],i=e[1],a=e[2],o=e[3],u=e[4],s=e[5],c=e[6],f=e[7],l=e[8],h=e[9],v=e[10],d=e[11],b=e[12],y=e[13],g=e[14],m=e[15],p=n[0],O=n[1],j=n[2],k=n[3];return t[0]=p*r+O*u+j*l+k*b,t[1]=p*i+O*s+j*h+k*y,t[2]=p*a+O*c+j*v+k*g,t[3]=p*o+O*f+j*d+k*m,p=n[4],O=n[5],j=n[6],k=n[7],t[4]=p*r+O*u+j*l+k*b,t[5]=p*i+O*s+j*h+k*y,t[6]=p*a+O*c+j*v+k*g,t[7]=p*o+O*f+j*d+k*m,p=n[8],O=n[9],j=n[10],k=n[11],t[8]=p*r+O*u+j*l+k*b,t[9]=p*i+O*s+j*h+k*y,t[10]=p*a+O*c+j*v+k*g,t[11]=p*o+O*f+j*d+k*m,p=n[12],O=n[13],j=n[14],k=n[15],t[12]=p*r+O*u+j*l+k*b,t[13]=p*i+O*s+j*h+k*y,t[14]=p*a+O*c+j*v+k*g,t[15]=p*o+O*f+j*d+k*m,t}function s(t,e,n){var r,i,a,o,u,s,c,f,l,h,v,d,b=n[0],y=n[1],g=n[2];return e===t?(t[12]=e[0]*b+e[4]*y+e[8]*g+e[12],t[13]=e[1]*b+e[5]*y+e[9]*g+e[13],t[14]=e[2]*b+e[6]*y+e[10]*g+e[14],t[15]=e[3]*b+e[7]*y+e[11]*g+e[15]):(r=e[0],i=e[1],a=e[2],o=e[3],u=e[4],s=e[5],c=e[6],f=e[7],l=e[8],h=e[9],v=e[10],d=e[11],t[0]=r,t[1]=i,t[2]=a,t[3]=o,t[4]=u,t[5]=s,t[6]=c,t[7]=f,t[8]=l,t[9]=h,t[10]=v,t[11]=d,t[12]=r*b+u*y+l*g+e[12],t[13]=i*b+s*y+h*g+e[13],t[14]=a*b+c*y+v*g+e[14],t[15]=o*b+f*y+d*g+e[15]),t}function c(t,e,n){var r=n[0],i=n[1],a=n[2];return t[0]=e[0]*r,t[1]=e[1]*r,t[2]=e[2]*r,t[3]=e[3]*r,t[4]=e[4]*i,t[5]=e[5]*i,t[6]=e[6]*i,t[7]=e[7]*i,t[8]=e[8]*a,t[9]=e[9]*a,t[10]=e[10]*a,t[11]=e[11]*a,t[12]=e[12],t[13]=e[13],t[14]=e[14],t[15]=e[15],t}function f(t,e,n,i){var a,o,u,s,c,f,l,h,v,d,b,y,g,m,p,O,j,k,_,x,A,E,M,w,S=i[0],T=i[1],P=i[2],R=Math.hypot(S,T,P);return R<r.b?null:(S*=R=1/R,T*=R,P*=R,a=Math.sin(n),u=1-(o=Math.cos(n)),s=e[0],c=e[1],f=e[2],l=e[3],h=e[4],v=e[5],d=e[6],b=e[7],y=e[8],g=e[9],m=e[10],p=e[11],O=S*S*u+o,j=T*S*u+P*a,k=P*S*u-T*a,_=S*T*u-P*a,x=T*T*u+o,A=P*T*u+S*a,E=S*P*u+T*a,M=T*P*u-S*a,w=P*P*u+o,t[0]=s*O+h*j+y*k,t[1]=c*O+v*j+g*k,t[2]=f*O+d*j+m*k,t[3]=l*O+b*j+p*k,t[4]=s*_+h*x+y*A,t[5]=c*_+v*x+g*A,t[6]=f*_+d*x+m*A,t[7]=l*_+b*x+p*A,t[8]=s*E+h*M+y*w,t[9]=c*E+v*M+g*w,t[10]=f*E+d*M+m*w,t[11]=l*E+b*M+p*w,e!==t&&(t[12]=e[12],t[13]=e[13],t[14]=e[14],t[15]=e[15]),t)}function l(t,e,n){var r=Math.sin(n),i=Math.cos(n),a=e[4],o=e[5],u=e[6],s=e[7],c=e[8],f=e[9],l=e[10],h=e[11];return e!==t&&(t[0]=e[0],t[1]=e[1],t[2]=e[2],t[3]=e[3],t[12]=e[12],t[13]=e[13],t[14]=e[14],t[15]=e[15]),t[4]=a*i+c*r,t[5]=o*i+f*r,t[6]=u*i+l*r,t[7]=s*i+h*r,t[8]=c*i-a*r,t[9]=f*i-o*r,t[10]=l*i-u*r,t[11]=h*i-s*r,t}function h(t,e,n){var r=Math.sin(n),i=Math.cos(n),a=e[0],o=e[1],u=e[2],s=e[3],c=e[8],f=e[9],l=e[10],h=e[11];return e!==t&&(t[4]=e[4],t[5]=e[5],t[6]=e[6],t[7]=e[7],t[12]=e[12],t[13]=e[13],t[14]=e[14],t[15]=e[15]),t[0]=a*i-c*r,t[1]=o*i-f*r,t[2]=u*i-l*r,t[3]=s*i-h*r,t[8]=a*r+c*i,t[9]=o*r+f*i,t[10]=u*r+l*i,t[11]=s*r+h*i,t}function v(t,e,n){var r=Math.sin(n),i=Math.cos(n),a=e[0],o=e[1],u=e[2],s=e[3],c=e[4],f=e[5],l=e[6],h=e[7];return e!==t&&(t[8]=e[8],t[9]=e[9],t[10]=e[10],t[11]=e[11],t[12]=e[12],t[13]=e[13],t[14]=e[14],t[15]=e[15]),t[0]=a*i+c*r,t[1]=o*i+f*r,t[2]=u*i+l*r,t[3]=s*i+h*r,t[4]=c*i-a*r,t[5]=f*i-o*r,t[6]=l*i-u*r,t[7]=h*i-s*r,t}function d(t,e){var n=e[0],r=e[1],i=e[2],a=e[4],o=e[5],u=e[6],s=e[8],c=e[9],f=e[10];return t[0]=Math.hypot(n,r,i),t[1]=Math.hypot(a,o,u),t[2]=Math.hypot(s,c,f),t}function b(t,e){var n=e[0],r=e[1],i=e[2],a=e[3],o=n+n,u=r+r,s=i+i,c=n*o,f=r*o,l=r*u,h=i*o,v=i*u,d=i*s,b=a*o,y=a*u,g=a*s;return t[0]=1-l-d,t[1]=f+g,t[2]=h-y,t[3]=0,t[4]=f-g,t[5]=1-c-d,t[6]=v+b,t[7]=0,t[8]=h+y,t[9]=v-b,t[10]=1-c-l,t[11]=0,t[12]=0,t[13]=0,t[14]=0,t[15]=1,t}function y(t,e,n,r,i,a,o){var u=1/(n-e),s=1/(i-r),c=1/(a-o);return t[0]=2*a*u,t[1]=0,t[2]=0,t[3]=0,t[4]=0,t[5]=2*a*s,t[6]=0,t[7]=0,t[8]=(n+e)*u,t[9]=(i+r)*s,t[10]=(o+a)*c,t[11]=-1,t[12]=0,t[13]=0,t[14]=o*a*2*c,t[15]=0,t}function g(t,e,n,r,i){var a,o=1/Math.tan(e/2);return t[0]=o/n,t[1]=0,t[2]=0,t[3]=0,t[4]=0,t[5]=o,t[6]=0,t[7]=0,t[8]=0,t[9]=0,t[11]=-1,t[12]=0,t[13]=0,t[15]=0,null!=i&&i!==1/0?(a=1/(r-i),t[10]=(i+r)*a,t[14]=2*i*r*a):(t[10]=-1,t[14]=-2*r),t}function m(t,e,n,r,i,a,o){var u=1/(e-n),s=1/(r-i),c=1/(a-o);return t[0]=-2*u,t[1]=0,t[2]=0,t[3]=0,t[4]=0,t[5]=-2*s,t[6]=0,t[7]=0,t[8]=0,t[9]=0,t[10]=2*c,t[11]=0,t[12]=(e+n)*u,t[13]=(i+r)*s,t[14]=(o+a)*c,t[15]=1,t}function p(t,e,n,i){var a,o,u,s,c,f,l,h,v,d,b=e[0],y=e[1],g=e[2],m=i[0],p=i[1],O=i[2],j=n[0],k=n[1],_=n[2];return Math.abs(b-j)<r.b&&Math.abs(y-k)<r.b&&Math.abs(g-_)<r.b?function(t){return t[0]=1,t[1]=0,t[2]=0,t[3]=0,t[4]=0,t[5]=1,t[6]=0,t[7]=0,t[8]=0,t[9]=0,t[10]=1,t[11]=0,t[12]=0,t[13]=0,t[14]=0,t[15]=1,t}(t):(l=b-j,h=y-k,v=g-_,a=p*(v*=d=1/Math.hypot(l,h,v))-O*(h*=d),o=O*(l*=d)-m*v,u=m*h-p*l,(d=Math.hypot(a,o,u))?(a*=d=1/d,o*=d,u*=d):(a=0,o=0,u=0),s=h*u-v*o,c=v*a-l*u,f=l*o-h*a,(d=Math.hypot(s,c,f))?(s*=d=1/d,c*=d,f*=d):(s=0,c=0,f=0),t[0]=a,t[1]=s,t[2]=l,t[3]=0,t[4]=o,t[5]=c,t[6]=h,t[7]=0,t[8]=u,t[9]=f,t[10]=v,t[11]=0,t[12]=-(a*b+o*y+u*g),t[13]=-(s*b+c*y+f*g),t[14]=-(l*b+h*y+v*g),t[15]=1,t)}function O(t,e){var n=t[0],i=t[1],a=t[2],o=t[3],u=t[4],s=t[5],c=t[6],f=t[7],l=t[8],h=t[9],v=t[10],d=t[11],b=t[12],y=t[13],g=t[14],m=t[15],p=e[0],O=e[1],j=e[2],k=e[3],_=e[4],x=e[5],A=e[6],E=e[7],M=e[8],w=e[9],S=e[10],T=e[11],P=e[12],R=e[13],L=e[14],D=e[15];return Math.abs(n-p)<=r.b*Math.max(1,Math.abs(n),Math.abs(p))&&Math.abs(i-O)<=r.b*Math.max(1,Math.abs(i),Math.abs(O))&&Math.abs(a-j)<=r.b*Math.max(1,Math.abs(a),Math.abs(j))&&Math.abs(o-k)<=r.b*Math.max(1,Math.abs(o),Math.abs(k))&&Math.abs(u-_)<=r.b*Math.max(1,Math.abs(u),Math.abs(_))&&Math.abs(s-x)<=r.b*Math.max(1,Math.abs(s),Math.abs(x))&&Math.abs(c-A)<=r.b*Math.max(1,Math.abs(c),Math.abs(A))&&Math.abs(f-E)<=r.b*Math.max(1,Math.abs(f),Math.abs(E))&&Math.abs(l-M)<=r.b*Math.max(1,Math.abs(l),Math.abs(M))&&Math.abs(h-w)<=r.b*Math.max(1,Math.abs(h),Math.abs(w))&&Math.abs(v-S)<=r.b*Math.max(1,Math.abs(v),Math.abs(S))&&Math.abs(d-T)<=r.b*Math.max(1,Math.abs(d),Math.abs(T))&&Math.abs(b-P)<=r.b*Math.max(1,Math.abs(b),Math.abs(P))&&Math.abs(y-R)<=r.b*Math.max(1,Math.abs(y),Math.abs(R))&&Math.abs(g-L)<=r.b*Math.max(1,Math.abs(g),Math.abs(L))&&Math.abs(m-D)<=r.b*Math.max(1,Math.abs(m),Math.abs(D))}},ZxFD:function(t,e,n){"use strict";n.d(e,"a",(function(){return i})),n.d(e,"e",(function(){return a})),n.d(e,"b",(function(){return o})),n.d(e,"d",(function(){return u})),n.d(e,"c",(function(){return s})),n.d(e,"g",(function(){return c})),n.d(e,"h",(function(){return f})),n.d(e,"i",(function(){return l})),n.d(e,"j",(function(){return h})),n.d(e,"f",(function(){return b}));n("QFcT");var r=n("yU0y");function i(t,e,n){return t[0]=e[0]+n[0],t[1]=e[1]+n[1],t}function a(t,e,n){return t[0]=e[0]*n,t[1]=e[1]*n,t}function o(t){var e=t[0],n=t[1];return Math.hypot(e,n)}function u(t,e){return t[0]=-e[0],t[1]=-e[1],t}function s(t,e,n,r){var i=e[0],a=e[1];return t[0]=i+r*(n[0]-i),t[1]=a+r*(n[1]-a),t}function c(t,e,n){var r=e[0],i=e[1];return t[0]=n[0]*r+n[2]*i,t[1]=n[1]*r+n[3]*i,t}function f(t,e,n){var r=e[0],i=e[1];return t[0]=n[0]*r+n[2]*i+n[4],t[1]=n[1]*r+n[3]*i+n[5],t}function l(t,e,n){var r=e[0],i=e[1];return t[0]=n[0]*r+n[3]*i+n[6],t[1]=n[1]*r+n[4]*i+n[7],t}function h(t,e,n){var r=e[0],i=e[1];return t[0]=n[0]*r+n[4]*i+n[12],t[1]=n[1]*r+n[5]*i+n[13],t}var v,d,b=function(t,e,n){return t[0]=e[0]-n[0],t[1]=e[1]-n[1],t};v=new r.a(2),r.a!=Float32Array&&(v[0]=0,v[1]=0),d=v},a3TU:function(t,e,n){"use strict";n.d(e,"b",(function(){return a})),n.d(e,"e",(function(){return u})),n.d(e,"f",(function(){return s})),n.d(e,"j",(function(){return f})),n.d(e,"i",(function(){return l})),n.d(e,"h",(function(){return h})),n.d(e,"c",(function(){return v})),n.d(e,"a",(function(){return d})),n.d(e,"g",(function(){return b})),n.d(e,"d",(function(){return y}));n("U8pU"),n("RHh3"),n("KQm4"),n("tS8E");var r=1/Math.PI*180,i=1/180*Math.PI,a={};function o(t){return Math.round(t/a.EPSILON)*a.EPSILON}function u(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=e.precision,r=void 0===n?a.precision||4:n;return t=o(t),"".concat(parseFloat(t.toPrecision(r)))}function s(t){return Array.isArray(t)||ArrayBuffer.isView(t)&&!(t instanceof DataView)}function c(t,e,n){if(s(t)){n=n||((i=t).clone?i.clone():new Array(i.length));for(var r=0;r<n.length&&r<t.length;++r)n[r]=e(t[r],r,n);return n}var i;return e(t)}function f(t){return h(t)}function l(t){return v(t)}function h(t,e){return c(t,(function(t){return t*i}),e)}function v(t,e){return c(t,(function(t){return t*r}),e)}function d(t,e,n){return c(t,(function(t){return Math.max(e,Math.min(n,t))}))}function b(t,e,n){return s(t)?t.map((function(t,r){return b(t,e[r],n)})):n*e+(1-n)*t}function y(t,e,n){var r=a.EPSILON;n&&(a.EPSILON=n);try{if(t===e)return!0;if(s(t)&&s(e)){if(t.length!==e.length)return!1;for(var i=0;i<t.length;++i)if(!y(t[i],e[i]))return!1;return!0}return t&&t.equals?t.equals(e):e&&e.equals?e.equals(t):!(!Number.isFinite(t)||!Number.isFinite(e))&&Math.abs(t-e)<=a.EPSILON*Math.max(1,Math.abs(t),Math.abs(e))}finally{a.EPSILON=r}}a.EPSILON=1e-12,a.debug=!1,a.precision=4,a.printTypes=!1,a.printDegrees=!1,a.printRowMajor=!0},afO8:function(t,e,n){var r,i,a,o=n("f5p1"),u=n("2oRo"),s=n("hh1v"),c=n("kRJp"),f=n("UTVS"),l=n("93I0"),h=n("0BK2"),v=u.WeakMap;if(o){var d=new v,b=d.get,y=d.has,g=d.set;r=function(t,e){return g.call(d,t,e),e},i=function(t){return b.call(d,t)||{}},a=function(t){return y.call(d,t)}}else{var m=l("state");h[m]=!0,r=function(t,e){return c(t,m,e),e},i=function(t){return f(t,m)?t[m]:{}},a=function(t){return f(t,m)}}t.exports={set:r,get:i,has:a,enforce:function(t){return a(t)?i(t):r(t,{})},getterFor:function(t){return function(e){var n;if(!s(e)||(n=i(e)).type!==t)throw TypeError("Incompatible receiver, "+t+" required");return n}}}},bfq9:function(t,e,n){"use strict";n.d(e,"b",(function(){return c})),n.d(e,"a",(function(){return f}));var r,i,a=n("rePB"),o=n("xhRq"),u=function(t){return Object(o.f)(t)?void 0:0},s=(r={},Object(a.a)(r,3074,(function(t){return Object(o.f)(t)?void 0:36064})),Object(a.a)(r,35723,(function(t){return Object(o.f)(t)?void 0:4352})),Object(a.a)(r,35977,u),Object(a.a)(r,32937,u),Object(a.a)(r,36795,(function(t,e){var n=Object(o.f)(t)?t.getExtension("EXT_disjoint_timer_query_webgl2"):t.getExtension("EXT_disjoint_timer_query");return n&&n.GPU_DISJOINT_EXT?e(n.GPU_DISJOINT_EXT):0})),Object(a.a)(r,37445,(function(t,e){var n=t.getExtension("WEBGL_debug_renderer_info");return e(n&&n.UNMASKED_VENDOR_WEBGL||7936)})),Object(a.a)(r,37446,(function(t,e){var n=t.getExtension("WEBGL_debug_renderer_info");return e(n&&n.UNMASKED_RENDERER_WEBGL||7937)})),Object(a.a)(r,34047,(function(t,e){var n=t.luma.extensions.EXT_texture_filter_anisotropic;return n?e(n.MAX_TEXTURE_MAX_ANISOTROPY_EXT):1})),Object(a.a)(r,32883,u),Object(a.a)(r,35071,u),Object(a.a)(r,37447,u),Object(a.a)(r,36063,(function(t,e){if(!Object(o.f)(t)){var n=t.getExtension("WEBGL_draw_buffers");return n?e(n.MAX_COLOR_ATTACHMENTS_WEBGL):0}})),Object(a.a)(r,35379,u),Object(a.a)(r,35374,u),Object(a.a)(r,35377,u),Object(a.a)(r,34852,(function(t){if(!Object(o.f)(t)){var e=t.getExtension("WEBGL_draw_buffers");return e?e.MAX_DRAW_BUFFERS_WEBGL:0}})),Object(a.a)(r,36203,(function(t){return t.getExtension("OES_element_index")?2147483647:65535})),Object(a.a)(r,33001,(function(t){return t.getExtension("OES_element_index")?16777216:65535})),Object(a.a)(r,33e3,(function(t){return 16777216})),Object(a.a)(r,37157,u),Object(a.a)(r,35373,u),Object(a.a)(r,35657,u),Object(a.a)(r,36183,u),Object(a.a)(r,37137,u),Object(a.a)(r,34045,u),Object(a.a)(r,35978,u),Object(a.a)(r,35979,u),Object(a.a)(r,35968,u),Object(a.a)(r,35376,u),Object(a.a)(r,35375,u),Object(a.a)(r,35659,u),Object(a.a)(r,37154,u),Object(a.a)(r,35371,u),Object(a.a)(r,35658,u),Object(a.a)(r,35076,u),Object(a.a)(r,35077,u),Object(a.a)(r,35380,u),r);var c=(i={},Object(a.a)(i,"OES_vertex_array_object",{meta:{suffix:"OES"},createVertexArray:function(){Object(o.a)(!1,"VertexArray requires WebGL2 or OES_vertex_array_object extension")},deleteVertexArray:function(){},bindVertexArray:function(){},isVertexArray:function(){return!1}}),Object(a.a)(i,"ANGLE_instanced_arrays",{meta:{suffix:"ANGLE"},vertexAttribDivisor:function(t,e){Object(o.a)(0===e,"WebGL instanced rendering not supported")},drawElementsInstanced:function(){},drawArraysInstanced:function(){}}),Object(a.a)(i,"WEBGL_draw_buffers",{meta:{suffix:"WEBGL"},drawBuffers:function(){Object(o.a)(!1)}}),Object(a.a)(i,"EXT_disjoint_timer_query",{meta:{suffix:"EXT"},createQuery:function(){Object(o.a)(!1)},deleteQuery:function(){Object(o.a)(!1)},beginQuery:function(){Object(o.a)(!1)},endQuery:function(){},getQuery:function(t,e){return this.getQueryObject(t,e)},getQueryParameter:function(t,e){return this.getQueryObject(t,e)},getQueryObject:function(){}}),i),f={readBuffer:function(t,e,n){Object(o.f)(t)&&e(n)},getVertexAttrib:function(t,e,n,r){var i,a=function(t,e){return{webgl2:Object(o.f)(t),ext:t.getExtension(e)}}(t,"ANGLE_instanced_arrays"),u=a.webgl2,s=a.ext;switch(r){case 35069:i=!!u&&void 0;break;case 35070:i=u||s?void 0:0}return void 0!==i?i:e(n,r)},getProgramParameter:function(t,e,n,r){if(!Object(o.f)(t))switch(r){case 35967:return 35981;case 35971:case 35382:return 0}return e(n,r)},getInternalformatParameter:function(t,e,n,r,i){if(!Object(o.f)(t))switch(i){case 32937:return new Int32Array([0])}return t.getInternalformatParameter(n,r,i)},getTexParameter:function(t,e,n,r){switch(r){case 34046:var i=t.luma.extensions.EXT_texture_filter_anisotropic;r=i&&i.TEXTURE_MAX_ANISOTROPY_EXT||34046}return e(n,r)},getParameter:function(t,e,n){var r=s[n],i="function"==typeof r?r(t,e,n):r;return void 0!==i?i:e(n)},hint:function(t,e,n,r){return e(n,r)}}},bl9R:function(t,e,n){"use strict";n.d(e,"b",(function(){return i})),n.d(e,"g",(function(){return a})),n.d(e,"c",(function(){return o})),n.d(e,"l",(function(){return u})),n.d(e,"a",(function(){return s})),n.d(e,"k",(function(){return c})),n.d(e,"h",(function(){return f})),n.d(e,"m",(function(){return l})),n.d(e,"j",(function(){return h})),n.d(e,"d",(function(){return v})),n.d(e,"i",(function(){return d})),n.d(e,"n",(function(){return b})),n.d(e,"o",(function(){return y})),n.d(e,"f",(function(){return g})),n.d(e,"e",(function(){return m}));n("QFcT");var r=n("yU0y");function i(t){var e=new r.a(4);return e[0]=t[0],e[1]=t[1],e[2]=t[2],e[3]=t[3],e}function a(t,e,n,i){var a=new r.a(4);return a[0]=t,a[1]=e,a[2]=n,a[3]=i,a}function o(t,e){return t[0]=e[0],t[1]=e[1],t[2]=e[2],t[3]=e[3],t}function u(t,e,n,r,i){return t[0]=e,t[1]=n,t[2]=r,t[3]=i,t}function s(t,e,n){return t[0]=e[0]+n[0],t[1]=e[1]+n[1],t[2]=e[2]+n[2],t[3]=e[3]+n[3],t}function c(t,e,n){return t[0]=e[0]*n,t[1]=e[1]*n,t[2]=e[2]*n,t[3]=e[3]*n,t}function f(t){var e=t[0],n=t[1],r=t[2],i=t[3];return Math.hypot(e,n,r,i)}function l(t){var e=t[0],n=t[1],r=t[2],i=t[3];return e*e+n*n+r*r+i*i}function h(t,e){var n=e[0],r=e[1],i=e[2],a=e[3],o=n*n+r*r+i*i+a*a;return o>0&&(o=1/Math.sqrt(o)),t[0]=n*o,t[1]=r*o,t[2]=i*o,t[3]=a*o,t}function v(t,e){return t[0]*e[0]+t[1]*e[1]+t[2]*e[2]+t[3]*e[3]}function d(t,e,n,r){var i=e[0],a=e[1],o=e[2],u=e[3];return t[0]=i+r*(n[0]-i),t[1]=a+r*(n[1]-a),t[2]=o+r*(n[2]-o),t[3]=u+r*(n[3]-u),t}function b(t,e,n){var r=e[0],i=e[1],a=e[2],o=e[3];return t[0]=n[0]*r+n[4]*i+n[8]*a+n[12]*o,t[1]=n[1]*r+n[5]*i+n[9]*a+n[13]*o,t[2]=n[2]*r+n[6]*i+n[10]*a+n[14]*o,t[3]=n[3]*r+n[7]*i+n[11]*a+n[15]*o,t}function y(t,e,n){var r=e[0],i=e[1],a=e[2],o=n[0],u=n[1],s=n[2],c=n[3],f=c*r+u*a-s*i,l=c*i+s*r-o*a,h=c*a+o*i-u*r,v=-o*r-u*i-s*a;return t[0]=f*c+v*-o+l*-s-h*-u,t[1]=l*c+v*-u+h*-o-f*-s,t[2]=h*c+v*-s+f*-u-l*-o,t[3]=e[3],t}function g(t,e){return t[0]===e[0]&&t[1]===e[1]&&t[2]===e[2]&&t[3]===e[3]}function m(t,e){var n=t[0],i=t[1],a=t[2],o=t[3],u=e[0],s=e[1],c=e[2],f=e[3];return Math.abs(n-u)<=r.b*Math.max(1,Math.abs(n),Math.abs(u))&&Math.abs(i-s)<=r.b*Math.max(1,Math.abs(i),Math.abs(s))&&Math.abs(a-c)<=r.b*Math.max(1,Math.abs(a),Math.abs(c))&&Math.abs(o-f)<=r.b*Math.max(1,Math.abs(o),Math.abs(f))}var p,O;p=new r.a(4),r.a!=Float32Array&&(p[0]=0,p[1]=0,p[2]=0,p[3]=0),O=p},bphH:function(t,e,n){"use strict";n.d(e,"a",(function(){return d}));var r=n("1OyB"),i=n("md7G"),a=n("foSv"),o=n("JX7q"),u=n("vuIU"),s=n("Ji7U"),c=n("LNPn"),f=n("L8KH"),l=n("sc/6"),h=n("SUVH"),v=n("VdrS"),d=function(t){function e(t){var n,u=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return Object(r.a)(this,e),Object(h.a)(t),(n=Object(i.a)(this,Object(a.a)(e).call(this,t,u))).initialize(u),n.stubRemovedMethods("TransformFeedback","v6.0",["pause","resume"]),Object.seal(Object(o.a)(n)),n}return Object(s.a)(e,t),Object(u.a)(e,null,[{key:"isSupported",value:function(t){return Object(c.b)(t)}}]),Object(u.a)(e,[{key:"initialize",value:function(){var t=this,e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return this.buffers={},this.unused={},this.configuration=null,this.bindOnUse=!0,Object(v.a)(this.buffers)||this.bind((function(){return t._unbindBuffers()})),this.setProps(e),this}},{key:"setProps",value:function(t){"program"in t&&(this.configuration=t.program&&t.program.configuration),"configuration"in t&&(this.configuration=t.configuration),"bindOnUse"in t&&(t=t.bindOnUse),"buffers"in t&&this.setBuffers(t.buffers)}},{key:"setBuffers",value:function(){var t=this,e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return this.bind((function(){for(var n in e)t.setBuffer(n,e[n])})),this}},{key:"setBuffer",value:function(t,e){var n=this,r=this._getVaryingIndex(t),i=this._getBufferParams(e),a=i.buffer,o=i.byteSize,u=i.byteOffset;return r<0?(this.unused[t]=a,c.c.warn((function(){return"".concat(n.id," unused varying buffer ").concat(t)}))(),this):(this.buffers[r]=e,this.bindOnUse||this._bindBuffer(r,a,u,o),this)}},{key:"begin",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0;return this.gl.bindTransformFeedback(36386,this.handle),this._bindBuffers(),this.gl.beginTransformFeedback(t),this}},{key:"end",value:function(){return this.gl.endTransformFeedback(),this._unbindBuffers(),this.gl.bindTransformFeedback(36386,null),this}},{key:"_getBufferParams",value:function(t){var e,n,r;return t instanceof l.a==!1?(r=t.buffer,n=t.byteSize,e=t.byteOffset):r=t,void 0===e&&void 0===n||(e=e||0,n=n||r.byteLength-e),{buffer:r,byteOffset:e,byteSize:n}}},{key:"_getVaryingInfo",value:function(t){return this.configuration&&this.configuration.getVaryingInfo(t)}},{key:"_getVaryingIndex",value:function(t){if(this.configuration)return this.configuration.getVaryingInfo(t).location;var e=Number(t);return Number.isFinite(e)?e:-1}},{key:"_bindBuffers",value:function(){if(this.bindOnUse)for(var t in this.buffers){var e=this._getBufferParams(this.buffers[t]),n=e.buffer,r=e.byteSize,i=e.byteOffset;this._bindBuffer(t,n,i,r)}}},{key:"_unbindBuffers",value:function(){if(this.bindOnUse)for(var t in this.buffers)this._bindBuffer(t,null)}},{key:"_bindBuffer",value:function(t,e){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0,r=arguments.length>3?arguments[3]:void 0,i=e&&e.handle;return i&&void 0!==r?this.gl.bindBufferRange(35982,t,i,n,r):this.gl.bindBufferBase(35982,t,i),this}},{key:"_createHandle",value:function(){return this.gl.createTransformFeedback()}},{key:"_deleteHandle",value:function(){this.gl.deleteTransformFeedback(this.handle)}},{key:"_bindHandle",value:function(t){this.gl.bindTransformFeedback(36386,this.handle)}}]),e}(f.a)},busE:function(t,e,n){var r=n("2oRo"),i=n("kRJp"),a=n("UTVS"),o=n("zk60"),u=n("iSVu"),s=n("afO8"),c=s.get,f=s.enforce,l=String(String).split("String");(t.exports=function(t,e,n,u){var s=!!u&&!!u.unsafe,c=!!u&&!!u.enumerable,h=!!u&&!!u.noTargetGet;"function"==typeof n&&("string"!=typeof e||a(n,"name")||i(n,"name",e),f(n).source=l.join("string"==typeof e?e:"")),t!==r?(s?!h&&t[e]&&(c=!0):delete t[e],c?t[e]=n:i(t,e,n)):c?t[e]=n:o(e,n)})(Function.prototype,"toString",(function(){return"function"==typeof this&&c(this).source||u(this)}))},"dBg+":function(t,e){e.f=Object.getOwnPropertySymbols},"eDl+":function(t,e){t.exports=["constructor","hasOwnProperty","isPrototypeOf","propertyIsEnumerable","toLocaleString","toString","valueOf"]},f5p1:function(t,e,n){var r=n("2oRo"),i=n("iSVu"),a=r.WeakMap;t.exports="function"==typeof a&&/native code/.test(i(a))},fxzv:function(t,e,n){"use strict";n.d(e,"a",(function(){return h}));var r=n("1OyB"),i=n("vuIU"),a=n("Ji7U"),o=n("md7G"),u=n("foSv"),s=n("41X0"),c=n("+H0l"),f=n("a3TU");function l(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(t){return!1}}();return function(){var n,r=Object(u.a)(t);if(e){var i=Object(u.a)(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return Object(o.a)(this,n)}}var h=function(t){Object(a.a)(n,t);var e=l(n);function n(){return Object(r.a)(this,n),e.apply(this,arguments)}return Object(i.a)(n,[{key:"toString",value:function(){var t="[";if(f.b.printRowMajor){t+="row-major:";for(var e=0;e<this.RANK;++e)for(var n=0;n<this.RANK;++n)t+=" ".concat(this[n*this.RANK+e])}else{t+="column-major:";for(var r=0;r<this.ELEMENTS;++r)t+=" ".concat(this[r])}return t+="]"}},{key:"getElementIndex",value:function(t,e){return e*this.RANK+t}},{key:"getElement",value:function(t,e){return this[e*this.RANK+t]}},{key:"setElement",value:function(t,e,n){return this[e*this.RANK+t]=Object(c.a)(n),this}},{key:"getColumn",value:function(t){for(var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:new Array(this.RANK).fill(-0),n=t*this.RANK,r=0;r<this.RANK;++r)e[r]=this[n+r];return e}},{key:"setColumn",value:function(t,e){for(var n=t*this.RANK,r=0;r<this.RANK;++r)this[n+r]=e[r];return this}}]),n}(s.a)},"g6v/":function(t,e,n){var r=n("0Dky");t.exports=!r((function(){return 7!=Object.defineProperty({},1,{get:function(){return 7}})[1]}))},glrk:function(t,e,n){var r=n("hh1v");t.exports=function(t){if(!r(t))throw TypeError(String(t)+" is not an object");return t}},hQ05:function(t,e,n){"use strict";n.d(e,"a",(function(){return E}));var r=n("U8pU"),i=n("o0o1"),a=n.n(i),o=n("HaE+"),u=n("1OyB"),s=n("vuIU"),c=n("Ekcv"),f=n("rta6"),l=n("LNPn"),h=n("CxzY"),v=n("md7G"),d=n("foSv"),b=n("JX7q"),y=n("Ji7U"),g=n("L8KH"),m=n("d3kR"),p=n("tMmZ"),O=function(t){function e(t){var n,r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return Object(u.a)(this,e),(n=Object(v.a)(this,Object(d.a)(e).call(this,t,r))).target=null,n._queryPending=!1,n._pollingPromise=null,Object.seal(Object(b.a)(n)),n}return Object(y.a)(e,t),Object(s.a)(e,null,[{key:"isSupported",value:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[],n=Object(l.b)(t),r=Object(m.c)(t,p.a.TIMER_QUERY),i=n||r,a=!0,o=!1,u=void 0;try{for(var s,c=e[Symbol.iterator]();!(a=(s=c.next()).done);a=!0){var f=s.value;switch(f){case"queries":i=i&&n;break;case"timers":i=i&&r;break;default:Object(h.a)(!1)}}}catch(v){o=!0,u=v}finally{try{a||null==c.return||c.return()}finally{if(o)throw u}}return i}}]),Object(s.a)(e,[{key:"beginTimeElapsedQuery",value:function(){return this.begin(35007)}},{key:"beginOcclusionQuery",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},e=t.conservative,n=void 0!==e&&e;return this.begin(n?36202:35887)}},{key:"beginTransformFeedbackQuery",value:function(){return this.begin(35976)}},{key:"begin",value:function(t){return this._queryPending||(this.target=t,this.gl.beginQuery(this.target,this.handle)),this}},{key:"end",value:function(){return this._queryPending||this.target&&(this.gl.endQuery(this.target),this.target=null,this._queryPending=!0),this}},{key:"isResultAvailable",value:function(){if(!this._queryPending)return!1;var t=this.gl.getQueryParameter(this.handle,34919);return t&&(this._queryPending=!1),t}},{key:"isTimerDisjoint",value:function(){return this.gl.getParameter(36795)}},{key:"getResult",value:function(){return this.gl.getQueryParameter(this.handle,34918)}},{key:"getTimerMilliseconds",value:function(){return this.getResult()/1e6}},{key:"createPoll",value:function(){var t=this,e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Number.POSITIVE_INFINITY;if(this._pollingPromise)return this._pollingPromise;var n=0;return this._pollingPromise=new Promise((function(r,i){requestAnimationFrame((function a(){t.isResultAvailable()?(r(t.getResult()),t._pollingPromise=null):n++>e?(i("Timed out"),t._pollingPromise=null):requestAnimationFrame(a)}))})),this._pollingPromise}},{key:"_createHandle",value:function(){return e.isSupported(this.gl)?this.gl.createQuery():null}},{key:"_deleteHandle",value:function(){this.gl.deleteQuery(this.handle)}}]),e}(g.a);function j(t){return"undefined"!=typeof window&&window.cancelAnimationFrame?window.cancelAnimationFrame(t):clearTimeout(t)}var k=n("11Ib"),_=n("xSaR"),x=Object(_.isBrowser)()&&"undefined"!=typeof document,A=0,E=function(){function t(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};Object(u.a)(this,t);var n=e.onCreateContext,r=void 0===n?function(t){return Object(c.a)(t)}:n,i=e.onAddHTML,a=void 0===i?null:i,o=e.onInitialize,s=void 0===o?function(){}:o,h=e.onRender,v=void 0===h?function(){}:h,d=e.onFinalize,b=void 0===d?function(){}:d,y=e.onError,g=e.gl,m=void 0===g?null:g,p=e.glOptions,O=void 0===p?{}:p,j=e.debug,k=void 0!==j&&j,_=e.createFramebuffer,x=void 0!==_&&_,E=e.autoResizeViewport,M=void 0===E||E,w=e.autoResizeDrawingBuffer,S=void 0===w||w,T=e.stats,P=void 0===T?f.a.get("animation-loop-".concat(A++)):T,R=e.useDevicePixels,L=void 0===R||R;"useDevicePixelRatio"in e&&(l.c.deprecated("useDevicePixelRatio","useDevicePixels")(),L=e.useDevicePixelRatio),this.props={onCreateContext:r,onAddHTML:a,onInitialize:s,onRender:v,onFinalize:b,onError:y,gl:m,glOptions:O,debug:k,createFramebuffer:x},this.gl=m,this.needsRedraw=null,this.timeline=null,this.stats=P,this.cpuTime=this.stats.get("CPU Time"),this.gpuTime=this.stats.get("GPU Time"),this.frameRate=this.stats.get("Frame Rate"),this._initialized=!1,this._running=!1,this._animationFrameId=null,this._nextFramePromise=null,this._resolveNextFrame=null,this._cpuStartTime=0,this.setProps({autoResizeViewport:M,autoResizeDrawingBuffer:S,useDevicePixels:L}),this.start=this.start.bind(this),this.stop=this.stop.bind(this),this._pageLoadPromise=null,this._onMousemove=this._onMousemove.bind(this),this._onMouseleave=this._onMouseleave.bind(this)}var e;return Object(s.a)(t,[{key:"delete",value:function(){this.stop(),this._setDisplay(null)}},{key:"setNeedsRedraw",value:function(t){return Object(h.a)("string"==typeof t),this.needsRedraw=this.needsRedraw||t,this}},{key:"setProps",value:function(t){return"autoResizeViewport"in t&&(this.autoResizeViewport=t.autoResizeViewport),"autoResizeDrawingBuffer"in t&&(this.autoResizeDrawingBuffer=t.autoResizeDrawingBuffer),"useDevicePixels"in t&&(this.useDevicePixels=t.useDevicePixels),this}},{key:"start",value:function(){var t=this,e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};if(this._running)return this;this._running=!0;var n=this._getPageLoadPromise().then((function(){return!t._running||t._initialized?null:(t._createWebGLContext(e),t._createFramebuffer(),t._startEventHandling(),t._initializeCallbackData(),t._updateCallbackData(),t._resizeCanvasDrawingBuffer(),t._resizeViewport(),t._gpuTimeQuery=O.isSupported(t.gl,["timers"])?new O(t.gl):null,t._initialized=!0,t.onInitialize(t.animationProps))})).then((function(e){t._running&&(t._addCallbackData(e||{}),!1!==e&&t._startLoop())}));return this.props.onError&&n.catch(this.props.onError),this}},{key:"redraw",value:function(){return this._beginTimers(),this._setupFrame(),this._updateCallbackData(),this._renderFrame(this.animationProps),this._clearNeedsRedraw(),this.offScreen&&this.gl.commit&&this.gl.commit(),this._resolveNextFrame&&(this._resolveNextFrame(this),this._nextFramePromise=null,this._resolveNextFrame=null),this._endTimers(),this}},{key:"stop",value:function(){return this._running&&(this._finalizeCallbackData(),j(this._animationFrameId),this._nextFramePromise=null,this._resolveNextFrame=null,this._animationFrameId=null,this._running=!1),this}},{key:"attachTimeline",value:function(t){return this.timeline=t,this.timeline}},{key:"detachTimeline",value:function(){this.timeline=null}},{key:"waitForRender",value:function(){var t=this;return this.setNeedsRedraw("waitForRender"),this._nextFramePromise||(this._nextFramePromise=new Promise((function(e){t._resolveNextFrame=e}))),this._nextFramePromise}},{key:"toDataURL",value:(e=Object(o.a)(a.a.mark((function t(){return a.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return this.setNeedsRedraw("toDataURL"),t.next=3,this.waitForRender();case 3:return t.abrupt("return",this.gl.canvas.toDataURL());case 4:case"end":return t.stop()}}),t,this)}))),function(){return e.apply(this,arguments)})},{key:"onCreateContext",value:function(){var t;return(t=this.props).onCreateContext.apply(t,arguments)}},{key:"onInitialize",value:function(){var t;return(t=this.props).onInitialize.apply(t,arguments)}},{key:"onRender",value:function(){var t;return(t=this.props).onRender.apply(t,arguments)}},{key:"onFinalize",value:function(){var t;return(t=this.props).onFinalize.apply(t,arguments)}},{key:"getHTMLControlValue",value:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1,n=document.getElementById(t);return n?Number(n.value):e}},{key:"setViewParameters",value:function(){return l.c.removed("AnimationLoop.setViewParameters","AnimationLoop.setProps")(),this}},{key:"_startLoop",value:function(){var t=this;j(this._animationFrameId),this._animationFrameId=this._requestAnimationFrame((function e(){t._running&&(t.redraw(),t._animationFrameId=t._requestAnimationFrame(e))}))}},{key:"_getPageLoadPromise",value:function(){return this._pageLoadPromise||(this._pageLoadPromise=x?new Promise((function(t,e){x&&"complete"===document.readyState?t(document):window.addEventListener("load",(function(){t(document)}))})):Promise.resolve({})),this._pageLoadPromise}},{key:"_setDisplay",value:function(t){this.display&&(this.display.delete(),this.display.animationLoop=null),t&&(t.animationLoop=this),this.display=t}},{key:"_requestAnimationFrame",value:function(t){var e;this.display&&this.display.requestAnimationFrame(t)||(e=t,"undefined"!=typeof window&&window.requestAnimationFrame?window.requestAnimationFrame(e):setTimeout(e,1e3/60))}},{key:"_renderFrame",value:function(){var t;this.display?(t=this.display)._renderFrame.apply(t,arguments):this.onRender.apply(this,arguments)}},{key:"_clearNeedsRedraw",value:function(){this.needsRedraw=null}},{key:"_setupFrame",value:function(){this._onSetupFrame?this._onSetupFrame(this.animationProps):(this._resizeCanvasDrawingBuffer(),this._resizeViewport(),this._resizeFramebuffer())}},{key:"_initializeCallbackData",value:function(){this.animationProps={gl:this.gl,stop:this.stop,canvas:this.gl.canvas,framebuffer:this.framebuffer,useDevicePixels:this.useDevicePixels,needsRedraw:null,startTime:Date.now(),engineTime:0,tick:0,tock:0,time:0,_timeline:this.timeline,_loop:this,_animationLoop:this,_mousePosition:null}}},{key:"_updateCallbackData",value:function(){var t=this._getSizeAndAspect(),e=t.width,n=t.height,r=t.aspect;e===this.animationProps.width&&n===this.animationProps.height||this.setNeedsRedraw("drawing buffer resized"),r!==this.animationProps.aspect&&this.setNeedsRedraw("drawing buffer aspect changed"),this.animationProps.width=e,this.animationProps.height=n,this.animationProps.aspect=r,this.animationProps.needsRedraw=this.needsRedraw,this.animationProps.engineTime=Date.now()-this.animationProps.startTime,this.timeline&&this.timeline.update(this.animationProps.engineTime),this.animationProps.tick=Math.floor(this.animationProps.time/1e3*60),this.animationProps.tock++,this.animationProps.time=this.timeline?this.timeline.getTime():this.animationProps.engineTime,this.animationProps._offScreen=this.offScreen}},{key:"_finalizeCallbackData",value:function(){this.onFinalize(this.animationProps)}},{key:"_addCallbackData",value:function(t){"object"===Object(r.a)(t)&&null!==t&&(this.animationProps=Object.assign({},this.animationProps,t))}},{key:"_createWebGLContext",value:function(t){if(this.offScreen=t.canvas&&"undefined"!=typeof OffscreenCanvas&&t.canvas instanceof OffscreenCanvas,t=Object.assign({},t,this.props.glOptions),this.gl=this.props.gl?Object(c.b)(this.props.gl,t):this.onCreateContext(t),!Object(c.c)(this.gl))throw new Error("AnimationLoop.onCreateContext - illegal context returned");Object(c.e)(this.gl),this._createInfoDiv()}},{key:"_createInfoDiv",value:function(){if(this.gl.canvas&&this.props.onAddHTML){var t=document.createElement("div");document.body.appendChild(t),t.style.position="relative";var e=document.createElement("div");e.style.position="absolute",e.style.left="10px",e.style.bottom="10px",e.style.width="300px",e.style.background="white",t.appendChild(this.gl.canvas),t.appendChild(e);var n=this.props.onAddHTML(e);n&&(e.innerHTML=n)}}},{key:"_getSizeAndAspect",value:function(){var t=this.gl.drawingBufferWidth,e=this.gl.drawingBufferHeight,n=1,r=this.gl.canvas;return r&&r.clientHeight?n=r.clientWidth/r.clientHeight:t>0&&e>0&&(n=t/e),{width:t,height:e,aspect:n}}},{key:"_resizeViewport",value:function(){this.autoResizeViewport&&this.gl.viewport(0,0,this.gl.drawingBufferWidth,this.gl.drawingBufferHeight)}},{key:"_resizeCanvasDrawingBuffer",value:function(){this.autoResizeDrawingBuffer&&Object(c.f)(this.gl,{useDevicePixels:this.useDevicePixels})}},{key:"_createFramebuffer",value:function(){this.props.createFramebuffer&&(this.framebuffer=new k.a(this.gl))}},{key:"_resizeFramebuffer",value:function(){this.framebuffer&&this.framebuffer.resize({width:this.gl.drawingBufferWidth,height:this.gl.drawingBufferHeight})}},{key:"_beginTimers",value:function(){this.frameRate.timeEnd(),this.frameRate.timeStart(),this._gpuTimeQuery&&this._gpuTimeQuery.isResultAvailable()&&!this._gpuTimeQuery.isTimerDisjoint()&&this.stats.get("GPU Time").addTime(this._gpuTimeQuery.getTimerMilliseconds()),this._gpuTimeQuery&&this._gpuTimeQuery.beginTimeElapsedQuery(),this.cpuTime.timeStart()}},{key:"_endTimers",value:function(){this.cpuTime.timeEnd(),this._gpuTimeQuery&&this._gpuTimeQuery.end()}},{key:"_startEventHandling",value:function(){var t=this.gl.canvas;t&&(t.addEventListener("mousemove",this._onMousemove),t.addEventListener("mouseleave",this._onMouseleave))}},{key:"_onMousemove",value:function(t){this.animationProps._mousePosition=[t.offsetX,t.offsetY]}},{key:"_onMouseleave",value:function(t){this.animationProps._mousePosition=null}}]),t}()},haqy:function(t,e,n){"use strict";n.d(e,"a",(function(){return D}));var r=n("1OyB"),i=n("vuIU"),a=n("ODXe"),o=n("rePB"),u=n("tB1S"),s=n("jmyD"),c=n("U8pU"),f={number:{validate:function(t,e){return Number.isFinite(t)&&(!("max"in e)||t<=e.max)&&(!("min"in e)||t>=e.min)}},array:{validate:function(t,e){return Array.isArray(t)||ArrayBuffer.isView(t)}}};function l(t){var e=h(t);return"object"===e?t?"type"in t?Object.assign({},t,f[t.type]):"value"in t?(e=h(t.value),Object.assign({type:e},t,f[e])):{type:"object",value:t}:{type:"object",value:null}:Object.assign({type:e,value:t},f[e])}function h(t){return Array.isArray(t)||ArrayBuffer.isView(t)?"array":Object(c.a)(t)}var v=function(){function t(e){var n=e.name,i=e.vs,a=e.fs,o=e.dependencies,u=void 0===o?[]:o,c=e.uniforms,f=e.getUniforms,h=e.deprecations,v=void 0===h?[]:h,d=e.defines,b=void 0===d?{}:d,y=e.inject,g=void 0===y?{}:y,m=e.vertexShader,p=e.fragmentShader;Object(r.a)(this,t),Object(s.a)("string"==typeof n),this.name=n,this.vs=i||m,this.fs=a||p,this.getModuleUniforms=f,this.dependencies=u,this.deprecations=this._parseDeprecationDefinitions(v),this.defines=b,this.injections=function(t){var e={vs:{},fs:{}};for(var n in t){var r=t[n],i=n.slice(0,2);"string"==typeof r&&(r={injection:r}),e[i][n]=r}return e}(g),c&&(this.uniforms=function(t){var e={};for(var n in t){var r=l(t[n]);e[n]=r}return e}(c))}return Object(i.a)(t,[{key:"getModuleSource",value:function(t){var e;switch(t){case"vs":e=this.vs||"";break;case"fs":e=this.fs||"";break;default:Object(s.a)(!1)}return"#define MODULE_".concat(this.name.toUpperCase().replace(/[^0-9a-z]/gi,"_"),"\n").concat(e,"// END MODULE_").concat(this.name,"\n\n")}},{key:"getUniforms",value:function(t,e){return this.getModuleUniforms?this.getModuleUniforms(t,e):this.uniforms?this._defaultGetUniforms(t):{}}},{key:"getDefines",value:function(){return this.defines}},{key:"checkDeprecations",value:function(t,e){this.deprecations.forEach((function(n){n.regex.test(t)&&(n.deprecated?e.deprecated(n.old,n.new)():e.removed(n.old,n.new)())}))}},{key:"_parseDeprecationDefinitions",value:function(t){return t.forEach((function(t){switch(t.type){case"function":t.regex=new RegExp("\\b".concat(t.old,"\\("));break;default:t.regex=new RegExp("".concat(t.type," ").concat(t.old,";"))}})),t}},{key:"_defaultGetUniforms",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},e={},n=this.uniforms;for(var r in n){var i=n[r];r in t&&!i.private?(i.validate&&Object(s.a)(i.validate(t[r],i),"".concat(this.name,": invalid ").concat(r)),e[r]=t[r]):e[r]=i.value}return e}}]),t}();function d(t){return b(function t(e,n){return e.map((function(e){return e instanceof v||(Object(s.a)("string"!=typeof e,"Shader module use by name is deprecated. Import shader module '".concat(e,"' and use it directly.")),Object(s.a)(e.name,"shader module has no name"),(e=new v(e)).dependencies=t(e.dependencies)),e}))}(t))}function b(t){var e={},n={};return y({modules:t,level:0,moduleMap:e,moduleDepth:n}),Object.keys(n).sort((function(t,e){return n[e]-n[t]})).map((function(t){return e[t]}))}function y(t){var e=t.modules,n=t.level,r=t.moduleMap,i=t.moduleDepth;if(n>=5)throw new Error("Possible loop in shader dependency graph");var a=!0,o=!1,u=void 0;try{for(var s,c=e[Symbol.iterator]();!(a=(s=c.next()).done);a=!0){var f=s.value;r[f.name]=f,(void 0===i[f.name]||i[f.name]<n)&&(i[f.name]=n)}}catch(m){o=!0,u=m}finally{try{a||null==c.return||c.return()}finally{if(o)throw u}}var l=!0,h=!1,v=void 0;try{for(var d,b=e[Symbol.iterator]();!(l=(d=b.next()).done);l=!0){var g=d.value;g.dependencies&&y({modules:g.dependencies,level:n+1,moduleMap:r,moduleDepth:i})}}catch(m){h=!0,v=m}finally{try{l||null==b.return||b.return()}finally{if(h)throw v}}}function g(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},e="undefined"!=typeof window&&window.navigator||{},n=t.userAgent||e.userAgent||"",r=-1!==n.indexOf("MSIE "),i=-1!==n.indexOf("Trident/");return r||i}var m={GLSL_FRAG_DATA:["WEBGL_draw_buffers",!0],GLSL_FRAG_DEPTH:["EXT_frag_depth",!0],GLSL_DERIVATIVES:["OES_standard_derivatives",!0],GLSL_TEXTURE_LOD:["EXT_shader_texture_lod",!0]},p={};Object.keys(m).forEach((function(t){p[t]=t}));var O={};function j(t,e){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},r=m[e];if(Object(s.a)(r,e),!g(n))return!0;if(e in O)return O[e];var i=r[0],a=n.behavior||"enable",o="#extension GL_".concat(i," : ").concat(a,"\nvoid main(void) {}"),u=t.createShader(35633);t.shaderSource(u,o),t.compileShader(u);var c=t.getShaderParameter(u,35713);return t.deleteShader(u),O[e]=c,c}function k(t,e){var n=m[e];Object(s.a)(n,e);var r=function(t){return Boolean(t&&2===t._version)}(t)&&n[1]||n[0],i="string"==typeof r?Boolean(t.getExtension(r)):r;return Object(s.a)(!1===i||!0===i),i}function _(t,e){return(e=Array.isArray(e)?e:[e]).every((function(e){return k(t,e)}))}var x=n("Gly6");function A(t,e,n){switch(e){case 300:return n?function(t){return t.replace(/^(#version[ \t]+(100|300[ \t]+es))?[ \t]*\n/,"#version 300 es\n").replace(/^[ \t]*attribute[ \t]+(.+;)/gm,"in $1").replace(/^[ \t]*varying[ \t]+(.+;)/gm,"out $1").replace(/\btexture2D\(/g,"texture(").replace(/\btextureCube\(+/g,"texture(").replace(/\btexture2DLodEXT\(/g,"textureLod(").replace(/\btextureCubeLodEXT\(/g,"textureLod(")}(t):function(t){return t.replace(/^(#version[ \t]+(100|300[ \t]+es))?[ \t]*\n/,"#version 300 es\n").replace(/^[ \t]*varying[ \t]+(.+;)/gm,"in $1").replace(/\btexture2D\(/g,"texture(").replace(/\btextureCube\(/g,"texture(").replace(/\btexture2DLodEXT\(/g,"textureLod(").replace(/\btextureCubeLodEXT\(/g,"textureLod(")}(t);case 100:return n?function(t){return t.replace(/^#version[ \t]+300[ \t]+es/,"#version 100").replace(/^[ \t]*in[ \t]+(.+;)/gm,"attribute $1").replace(/^[ \t]*out[ \t]+(.+;)/gm,"varying $1").replace(/\btexture\(/g,"texture2D(").replace(/\btextureLod\(/g,"texture2DLodEXT(")}(t):function(t){var e=(t=t.replace(/^#version[ \t]+300[ \t]+es/,"#version 100").replace(/^[ \t]*in[ \t]+/gm,"varying ").replace(/\btexture\(/g,"texture2D(").replace(/\btextureLod\(/g,"texture2DLodEXT(")).match(M);if(e){var n=e[1];t=t.replace(M,"").replace(new RegExp("\\b".concat(n,"\\b"),"g"),"gl_FragColor")}return t}(t);default:throw new Error("unknown GLSL version ".concat(e))}}var E,M=/^[ \t]*out[ \t]+vec4[ \t]+(\w+)[ \t]*;\s+/m;var w="\n\n".concat(x.a,"\n\n"),S=(E={},Object(o.a)(E,u.b,"vertex"),Object(o.a)(E,u.a,"fragment"),E);function T(t,e){var n=e.vs,r=e.fs,i=d(e.modules||[]);return{gl:t,vs:P(t,Object.assign({},e,{source:n,type:u.b,modules:i})),fs:P(t,Object.assign({},e,{source:r,type:u.a,modules:i})),getUniforms:R(i)}}function P(t,e){var n=e.id,r=e.source,i=e.type,o=e.modules,c=e.defines,f=void 0===c?{}:c,l=e.hookFunctions,h=void 0===l?[]:l,v=e.inject,d=void 0===v?{}:v,b=e.transpileToGLSL100,y=void 0!==b&&b,g=e.prologue,m=void 0===g||g,O=e.log;Object(s.a)("string"==typeof r,"shader source must be a string");var k=i===u.b,E=r.split("\n"),M=100,T="",P=r;0===E[0].indexOf("#version ")?(M=300,T=E[0],P=E.slice(1).join("\n")):T="#version ".concat(M);var R={};o.forEach((function(t){Object.assign(R,t.getDefines())})),Object.assign(R,f);var L=m?"".concat(T,"\n").concat(function(t){var e=t.id,n=t.source,r=t.type;return e&&"string"==typeof e&&-1===n.indexOf("SHADER_NAME")?"\n#define SHADER_NAME ".concat(e,"_").concat(S[r],"\n\n"):""}({id:n,source:r,type:i}),"\n").concat(function(t){var e=t.type;return"\n#define SHADER_TYPE_".concat(S[e].toUpperCase(),"\n")}({type:i}),"\n").concat(function(t){switch(function(t){var e=t.getExtension("WEBGL_debug_renderer_info"),n=t.getParameter(e&&e.UNMASKED_VENDOR_WEBGL||7936),r=t.getParameter(e&&e.UNMASKED_RENDERER_WEBGL||7937);return{gpuVendor:function(t,e){if(t.match(/NVIDIA/i)||e.match(/NVIDIA/i))return"NVIDIA";if(t.match(/INTEL/i)||e.match(/INTEL/i))return"INTEL";if(t.match(/AMD/i)||e.match(/AMD/i)||t.match(/ATI/i)||e.match(/ATI/i))return"AMD";return"UNKNOWN GPU"}(n,r),vendor:n,renderer:r,version:t.getParameter(7938),shadingLanguageVersion:t.getParameter(35724)}}(t).gpuVendor.toLowerCase()){case"nvidia":return"#define NVIDIA_GPU\n// Nvidia optimizes away the calculation necessary for emulated fp64\n#define LUMA_FP64_CODE_ELIMINATION_WORKAROUND 1\n";case"intel":return"#define INTEL_GPU\n// Intel optimizes away the calculation necessary for emulated fp64\n#define LUMA_FP64_CODE_ELIMINATION_WORKAROUND 1\n// Intel's built-in 'tan' function doesn't have acceptable precision\n#define LUMA_FP32_TAN_PRECISION_WORKAROUND 1\n// Intel GPU doesn't have full 32 bits precision in same cases, causes overflow\n#define LUMA_FP64_HIGH_BITS_OVERFLOW_WORKAROUND 1\n";case"amd":return"#define AMD_GPU\n";default:return"#define DEFAULT_GPU\n// Prevent driver from optimizing away the calculation necessary for emulated fp64\n#define LUMA_FP64_CODE_ELIMINATION_WORKAROUND 1\n// Intel's built-in 'tan' function doesn't have acceptable precision\n#define LUMA_FP32_TAN_PRECISION_WORKAROUND 1\n// Intel GPU doesn't have full 32 bits precision in same cases, causes overflow\n#define LUMA_FP64_HIGH_BITS_OVERFLOW_WORKAROUND 1\n"}}(t),"\n").concat(function(t,e,n){var r="#if (__VERSION__ > 120)\n\n# define FRAG_DEPTH\n# define DERIVATIVES\n# define DRAW_BUFFERS\n# define TEXTURE_LOD\n\n#endif // __VERSION\n";return _(t,p.GLSL_FRAG_DEPTH)&&(r+="// FRAG_DEPTH => gl_FragDepth is available\n#ifdef GL_EXT_frag_depth\n#extension GL_EXT_frag_depth : enable\n# define FRAG_DEPTH\n# define gl_FragDepth gl_FragDepthEXT\n#endif\n"),_(t,p.GLSL_DERIVATIVES)&&j(t,p.GLSL_DERIVATIVES)&&(r+="// DERIVATIVES => dxdF, dxdY and fwidth are available\n#ifdef GL_OES_standard_derivatives\n#extension GL_OES_standard_derivatives : enable\n# define DERIVATIVES\n#endif\n"),_(t,p.GLSL_FRAG_DATA)&&j(t,p.GLSL_FRAG_DATA,{behavior:"require"})&&(r+="// DRAW_BUFFERS => gl_FragData[] is available\n#ifdef GL_EXT_draw_buffers\n#extension GL_EXT_draw_buffers : require\n#define DRAW_BUFFERS\n#endif\n"),_(t,p.GLSL_TEXTURE_LOD)&&(r+="// TEXTURE_LOD => texture2DLod etc are available\n#ifdef GL_EXT_shader_texture_lod\n#extension GL_EXT_shader_texture_lod : enable\n# define TEXTURE_LOD\n#define texture2DLod texture2DLodEXT\n#define texture2DProjLod texture2DProjLodEXT\n#define texture2DProjLod texture2DProjLodEXT\n#define textureCubeLod textureCubeLodEXT\n#define texture2DGrad texture2DGradEXT\n#define texture2DProjGrad texture2DProjGradEXT\n#define texture2DProjGrad texture2DProjGradEXT\n#define textureCubeGrad textureCubeGradEXT\n#endif\n"),r}(t),"\n").concat(function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},e=0,n="";for(var r in t){0===e&&(n+="\n// APPLICATION DEFINES\n"),e++;var i=t[r];(i||Number.isFinite(i))&&(n+="#define ".concat(r.toUpperCase()," ").concat(t[r],"\n"))}0===e&&(n+="\n");return n}(R),"\n").concat(k?"":"precision highp float;\n\n","\n"):"".concat(T,"\n");h=function(t){var e={vs:{},fs:{}};return t.forEach((function(t){var n;"string"!=typeof t?t=(n=t).hook:n={};var r=(t=t.trim()).split(":"),i=Object(a.a)(r,2),o=i[0],u=i[1],s=t.replace(/\(.+/,"");e[o][s]=Object.assign(n,{signature:u})})),e}(h);var D={},F={},C={};for(var I in d){var B="string"==typeof d[I]?{injection:d[I],order:0}:d[I],N=I.match(/^(v|f)s:(#)?([\w-]+)$/);if(N){var U=N[2],V=N[3];U?"decl"===V?F[I]=[B]:C[I]=[B]:D[I]=[B]}else C[I]=[B]}var G=!0,z=!1,q=void 0;try{for(var X,H=o[Symbol.iterator]();!(G=(X=H.next()).done);G=!0){var W=X.value;O&&W.checkDeprecations(P,O),L+=W.getModuleSource(i,M);var Q=W.injections[i];for(var K in Q){var Y=K.match(/^(v|f)s:#([\w-]+)$/);if(Y){var J="decl"===Y[2]?F:C;J[K]=J[K]||[],J[K].push(Q[K])}else D[K]=D[K]||[],D[K].push(Q[K])}}}catch(Z){z=!0,q=Z}finally{try{G||null==H.return||H.return()}finally{if(z)throw q}}return L+=w,L=Object(x.c)(L,i,F),L+=function(t,e){var n="";for(var r in t){var i=t[r];if(n+="void ".concat(i.signature," {\n"),i.header&&(n+="  ".concat(i.header)),e[r]){var a=e[r];a.sort((function(t,e){return t.order-e.order}));var o=!0,u=!1,s=void 0;try{for(var c,f=a[Symbol.iterator]();!(o=(c=f.next()).done);o=!0){var l=c.value;n+="  ".concat(l.injection,"\n")}}catch(Z){u=!0,s=Z}finally{try{o||null==f.return||f.return()}finally{if(u)throw s}}}i.footer&&(n+="  ".concat(i.footer)),n+="}\n"}return n}(h[i],D),L+=P,L=A(L=Object(x.c)(L,i,C),y?100:M,k)}function R(t){return function(e){var n={},r=!0,i=!1,a=void 0;try{for(var o,u=t[Symbol.iterator]();!(r=(o=u.next()).done);r=!0){var s=o.value.getUniforms(e,n);Object.assign(n,s)}}catch(c){i=!0,a=c}finally{try{r||null==u.return||u.return()}finally{if(i)throw a}}return n}}var L=n("OklE"),D=function(){function t(e){Object(r.a)(this,t),this.gl=e,this._programCache={},this._getUniforms={},this._registeredModules={},this._hookFunctions=[],this._defaultModules=[],this._hashes={},this._hashCounter=0,this.stateHash=0,this._useCounts={}}return Object(i.a)(t,null,[{key:"getDefaultProgramManager",value:function(e){return e.luma=e.luma||{},e.luma.defaultProgramManager=e.luma.defaultProgramManager||new t(e),e.luma.defaultProgramManager}}]),Object(i.a)(t,[{key:"addDefaultModule",value:function(t){this._defaultModules.find((function(e){return e.name===t.name}))||this._defaultModules.push(t),this.stateHash++}},{key:"removeDefaultModule",value:function(t){var e="string"==typeof t?t:t.name;this._defaultModules=this._defaultModules.filter((function(t){return t.name!==e})),this.stateHash++}},{key:"addShaderHook",value:function(t,e){e&&(t=Object.assign(e,{hook:t})),this._hookFunctions.push(t),this.stateHash++}},{key:"get",value:function(){var t=this,e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},n=e.vs,r=void 0===n?"":n,i=e.fs,a=void 0===i?"":i,o=e.defines,u=void 0===o?{}:o,s=e.inject,c=void 0===s?{}:s,f=e.varyings,l=void 0===f?[]:f,h=e.bufferMode,v=void 0===h?35981:h,d=e.transpileToGLSL100,b=void 0!==d&&d,y=this._getModuleList(e.modules),g=this._getHash(r),m=this._getHash(a),p=y.map((function(e){return t._getHash(e.name)})).sort(),O=l.map((function(e){return t._getHash(e)})),j=Object.keys(u).sort(),k=Object.keys(c).sort(),_=[],x=[],A=!0,E=!1,M=void 0;try{for(var w,S=j[Symbol.iterator]();!(A=(w=S.next()).done);A=!0){var P=w.value;_.push(this._getHash(P)),_.push(this._getHash(u[P]))}}catch(V){E=!0,M=V}finally{try{A||null==S.return||S.return()}finally{if(E)throw M}}var R=!0,D=!1,F=void 0;try{for(var C,I=k[Symbol.iterator]();!(R=(C=I.next()).done);R=!0){var B=C.value;x.push(this._getHash(B)),x.push(this._getHash(c[B]))}}catch(V){D=!0,F=V}finally{try{R||null==I.return||I.return()}finally{if(D)throw F}}var N="".concat(g,"/").concat(m,"D").concat(_.join("/"),"M").concat(p.join("/"),"I").concat(x.join("/"),"V").concat(O.join("/"),"H").concat(this.stateHash,"B").concat(v).concat(b?"T":"");if(!this._programCache[N]){var U=T(this.gl,{vs:r,fs:a,modules:y,inject:c,defines:u,hookFunctions:this._hookFunctions,transpileToGLSL100:b});this._programCache[N]=new L.a(this.gl,{hash:N,vs:U.vs,fs:U.fs,varyings:l,bufferMode:v}),this._getUniforms[N]=U.getUniforms||function(t){},this._useCounts[N]=0}return this._useCounts[N]++,this._programCache[N]}},{key:"getUniforms",value:function(t){return this._getUniforms[t.hash]||null}},{key:"release",value:function(t){var e=t.hash;this._useCounts[e]--,0===this._useCounts[e]&&(this._programCache[e].delete(),delete this._programCache[e],delete this._getUniforms[e],delete this._useCounts[e])}},{key:"_getHash",value:function(t){return void 0===this._hashes[t]&&(this._hashes[t]=this._hashCounter++),this._hashes[t]}},{key:"_getModuleList",value:function(){for(var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],e=new Array(this._defaultModules.length+t.length),n={},r=0,i=0,a=this._defaultModules.length;i<a;++i){var o=this._defaultModules[i],u=o.name;e[r++]=o,n[u]=!0}for(var s=0,c=t.length;s<c;++s){var f=t[s],l=f.name;n[l]||(e[r++]=f,n[l]=!0)}return e.length=r,e}}]),t}()},hh1v:function(t,e){t.exports=function(t){return"object"==typeof t?null!==t:"function"==typeof t}},iSVu:function(t,e,n){var r=n("xs3f"),i=Function.toString;"function"!=typeof r.inspectSource&&(r.inspectSource=function(t){return i.call(t)}),t.exports=r.inspectSource},jmyD:function(t,e,n){"use strict";function r(t,e){if(!t)throw new Error(e||"shadertools: assertion failed.")}n.d(e,"a",(function(){return r}))},kOOl:function(t,e){var n=0,r=Math.random();t.exports=function(t){return"Symbol("+String(void 0===t?"":t)+")_"+(++n+r).toString(36)}},kRJp:function(t,e,n){var r=n("g6v/"),i=n("m/L8"),a=n("XGwC");t.exports=r?function(t,e,n){return i.f(t,e,a(1,n))}:function(t,e,n){return t[e]=n,t}},lMq5:function(t,e,n){var r=n("0Dky"),i=/#|\.prototype\./,a=function(t,e){var n=u[o(t)];return n==c||n!=s&&("function"==typeof e?r(e):!!e)},o=a.normalize=function(t){return String(t).replace(i,".").toLowerCase()},u=a.data={},s=a.NATIVE="N",c=a.POLYFILL="P";t.exports=a},"m/L8":function(t,e,n){var r=n("g6v/"),i=n("DPsx"),a=n("glrk"),o=n("wE6v"),u=Object.defineProperty;e.f=r?u:function(t,e,n){if(a(t),e=o(e,!0),a(n),i)try{return u(t,e,n)}catch(r){}if("get"in n||"set"in n)throw TypeError("Accessors not supported");return"value"in n&&(t[e]=n.value),t}},"n+fv":function(t,e,n){"use strict";n.d(e,"b",(function(){return i})),n.d(e,"g",(function(){return a})),n.d(e,"e",(function(){return o})),n.d(e,"h",(function(){return u})),n.d(e,"i",(function(){return s})),n.d(e,"d",(function(){return c})),n.d(e,"c",(function(){return f})),n.d(e,"o",(function(){return l})),n.d(e,"n",(function(){return h})),n.d(e,"p",(function(){return v})),n.d(e,"j",(function(){return d})),n.d(e,"k",(function(){return b})),n.d(e,"l",(function(){return y})),n.d(e,"a",(function(){return g})),n.d(e,"m",(function(){return p})),n.d(e,"f",(function(){return O}));n("QFcT");var r=n("yU0y");function i(){var t=new r.a(3);return r.a!=Float32Array&&(t[0]=0,t[1]=0,t[2]=0),t}function a(t){var e=t[0],n=t[1],r=t[2];return Math.hypot(e,n,r)}function o(t,e,n){var i=new r.a(3);return i[0]=t,i[1]=e,i[2]=n,i}function u(t,e){return t[0]=-e[0],t[1]=-e[1],t[2]=-e[2],t}function s(t,e){var n=e[0],r=e[1],i=e[2],a=n*n+r*r+i*i;return a>0&&(a=1/Math.sqrt(a)),t[0]=e[0]*a,t[1]=e[1]*a,t[2]=e[2]*a,t}function c(t,e){return t[0]*e[0]+t[1]*e[1]+t[2]*e[2]}function f(t,e,n){var r=e[0],i=e[1],a=e[2],o=n[0],u=n[1],s=n[2];return t[0]=i*s-a*u,t[1]=a*o-r*s,t[2]=r*u-i*o,t}function l(t,e,n){var r=e[0],i=e[1],a=e[2],o=n[3]*r+n[7]*i+n[11]*a+n[15];return o=o||1,t[0]=(n[0]*r+n[4]*i+n[8]*a+n[12])/o,t[1]=(n[1]*r+n[5]*i+n[9]*a+n[13])/o,t[2]=(n[2]*r+n[6]*i+n[10]*a+n[14])/o,t}function h(t,e,n){var r=e[0],i=e[1],a=e[2];return t[0]=r*n[0]+i*n[3]+a*n[6],t[1]=r*n[1]+i*n[4]+a*n[7],t[2]=r*n[2]+i*n[5]+a*n[8],t}function v(t,e,n){var r=n[0],i=n[1],a=n[2],o=n[3],u=e[0],s=e[1],c=e[2],f=i*c-a*s,l=a*u-r*c,h=r*s-i*u,v=i*h-a*l,d=a*f-r*h,b=r*l-i*f,y=2*o;return f*=y,l*=y,h*=y,v*=2,d*=2,b*=2,t[0]=u+f+v,t[1]=s+l+d,t[2]=c+h+b,t}function d(t,e,n,r){var i=[],a=[];return i[0]=e[0]-n[0],i[1]=e[1]-n[1],i[2]=e[2]-n[2],a[0]=i[0],a[1]=i[1]*Math.cos(r)-i[2]*Math.sin(r),a[2]=i[1]*Math.sin(r)+i[2]*Math.cos(r),t[0]=a[0]+n[0],t[1]=a[1]+n[1],t[2]=a[2]+n[2],t}function b(t,e,n,r){var i=[],a=[];return i[0]=e[0]-n[0],i[1]=e[1]-n[1],i[2]=e[2]-n[2],a[0]=i[2]*Math.sin(r)+i[0]*Math.cos(r),a[1]=i[1],a[2]=i[2]*Math.cos(r)-i[0]*Math.sin(r),t[0]=a[0]+n[0],t[1]=a[1]+n[1],t[2]=a[2]+n[2],t}function y(t,e,n,r){var i=[],a=[];return i[0]=e[0]-n[0],i[1]=e[1]-n[1],i[2]=e[2]-n[2],a[0]=i[0]*Math.cos(r)-i[1]*Math.sin(r),a[1]=i[0]*Math.sin(r)+i[1]*Math.cos(r),a[2]=i[2],t[0]=a[0]+n[0],t[1]=a[1]+n[1],t[2]=a[2]+n[2],t}function g(t,e){var n=t[0],r=t[1],i=t[2],a=e[0],o=e[1],u=e[2],s=Math.sqrt(n*n+r*r+i*i)*Math.sqrt(a*a+o*o+u*u),f=s&&c(t,e)/s;return Math.acos(Math.min(Math.max(f,-1),1))}var m,p=function(t,e,n){return t[0]=e[0]-n[0],t[1]=e[1]-n[1],t[2]=e[2]-n[2],t},O=a;m=i()},ppGB:function(t,e){var n=Math.ceil,r=Math.floor;t.exports=function(t){return isNaN(t=+t)?0:(t>0?r:n)(t)}},"sSh/":function(t,e,n){"use strict";function r(t,e,n){var r=e[0],i=e[1],a=n[3]*r+n[7]*i||1;return t[0]=(n[0]*r+n[4]*i)/a,t[1]=(n[1]*r+n[5]*i)/a,t}function i(t,e,n){var r=e[0],i=e[1],a=e[2],o=n[3]*r+n[7]*i+n[11]*a||1;return t[0]=(n[0]*r+n[4]*i+n[8]*a)/o,t[1]=(n[1]*r+n[5]*i+n[9]*a)/o,t[2]=(n[2]*r+n[6]*i+n[10]*a)/o,t}function a(t,e,n){var r=e[0],i=e[1];return t[0]=n[0]*r+n[2]*i,t[1]=n[1]*r+n[3]*i,t[2]=e[2],t}function o(t,e,n){var r=e[0],i=e[1],a=e[2];return t[0]=n[0]*r+n[3]*i+n[6]*a,t[1]=n[1]*r+n[4]*i+n[7]*a,t[2]=n[2]*r+n[5]*i+n[8]*a,t[3]=e[3],t}n.d(e,"a",(function(){return r})),n.d(e,"c",(function(){return i})),n.d(e,"b",(function(){return a})),n.d(e,"d",(function(){return o}))},sYR6:function(t,e,n){"use strict";n.d(e,"a",(function(){return h}));var r=n("1OyB"),i=n("vuIU"),a=n("Ji7U"),o=n("md7G"),u=n("foSv"),s=n("41X0"),c=n("+H0l"),f=n("tS8E");function l(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(t){return!1}}();return function(){var n,r=Object(u.a)(t);if(e){var i=Object(u.a)(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return Object(o.a)(this,n)}}var h=function(t){Object(a.a)(n,t);var e=l(n);function n(){return Object(r.a)(this,n),e.apply(this,arguments)}return Object(i.a)(n,[{key:"copy",value:function(t){return Object(f.a)(!1),this}},{key:"len",value:function(){return Math.sqrt(this.lengthSquared())}},{key:"magnitude",value:function(){return this.len()}},{key:"lengthSquared",value:function(){for(var t=0,e=0;e<this.ELEMENTS;++e)t+=this[e]*this[e];return t}},{key:"magnitudeSquared",value:function(){return this.lengthSquared()}},{key:"distance",value:function(t){return Math.sqrt(this.distanceSquared(t))}},{key:"distanceSquared",value:function(t){for(var e=0,n=0;n<this.ELEMENTS;++n){var r=this[n]-t[n];e+=r*r}return Object(c.a)(e)}},{key:"dot",value:function(t){for(var e=0,n=0;n<this.ELEMENTS;++n)e+=this[n]*t[n];return Object(c.a)(e)}},{key:"normalize",value:function(){var t=this.magnitude();if(0!==t)for(var e=0;e<this.ELEMENTS;++e)this[e]/=t;return this.check()}},{key:"multiply",value:function(){for(var t=arguments.length,e=new Array(t),n=0;n<t;n++)e[n]=arguments[n];for(var r=0,i=e;r<i.length;r++)for(var a=i[r],o=0;o<this.ELEMENTS;++o)this[o]*=a[o];return this.check()}},{key:"divide",value:function(){for(var t=arguments.length,e=new Array(t),n=0;n<t;n++)e[n]=arguments[n];for(var r=0,i=e;r<i.length;r++)for(var a=i[r],o=0;o<this.ELEMENTS;++o)this[o]/=a[o];return this.check()}},{key:"lengthSq",value:function(){return this.lengthSquared()}},{key:"distanceTo",value:function(t){return this.distance(t)}},{key:"distanceToSquared",value:function(t){return this.distanceSquared(t)}},{key:"getComponent",value:function(t){return Object(f.a)(t>=0&&t<this.ELEMENTS,"index is out of range"),Object(c.a)(this[t])}},{key:"setComponent",value:function(t,e){return Object(f.a)(t>=0&&t<this.ELEMENTS,"index is out of range"),this[t]=e,this.check()}},{key:"addVectors",value:function(t,e){return this.copy(t).add(e)}},{key:"subVectors",value:function(t,e){return this.copy(t).subtract(e)}},{key:"multiplyVectors",value:function(t,e){return this.copy(t).multiply(e)}},{key:"addScaledVector",value:function(t,e){return this.add(new this.constructor(t).multiplyScalar(e))}},{key:"x",get:function(){return this[0]},set:function(t){this[0]=Object(c.a)(t)}},{key:"y",get:function(){return this[1]},set:function(t){this[1]=Object(c.a)(t)}}]),n}(s.a)},tB1S:function(t,e,n){"use strict";n.d(e,"b",(function(){return r})),n.d(e,"a",(function(){return i}));var r="vs",i="fs"},tS8E:function(t,e,n){"use strict";function r(t,e){if(!t)throw new Error("math.gl assertion ".concat(e))}n.d(e,"a",(function(){return r}))},vpQ4:function(t,e,n){"use strict";n.d(e,"a",(function(){return i}));var r=n("rePB");function i(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?Object(arguments[e]):{},i=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(i=i.concat(Object.getOwnPropertySymbols(n).filter((function(t){return Object.getOwnPropertyDescriptor(n,t).enumerable})))),i.forEach((function(e){Object(r.a)(t,e,n[e])}))}return t}},wE6v:function(t,e,n){var r=n("hh1v");t.exports=function(t,e){if(!r(t))return t;var n,i;if(e&&"function"==typeof(n=t.toString)&&!r(i=n.call(t)))return i;if("function"==typeof(n=t.valueOf)&&!r(i=n.call(t)))return i;if(!e&&"function"==typeof(n=t.toString)&&!r(i=n.call(t)))return i;throw TypeError("Can't convert object to primitive value")}},xDBR:function(t,e){t.exports=!1},xhRq:function(t,e,n){"use strict";n.d(e,"a",(function(){return i})),n.d(e,"b",(function(){return o})),n.d(e,"d",(function(){return a})),n.d(e,"c",(function(){return u})),n.d(e,"e",(function(){return s})),n.d(e,"f",(function(){return c})),n.d(e,"g",(function(){return f}));var r=n("d3wX");function i(t,e){if(!t)throw new Error(e||"luma.gl: assertion failed.")}function a(t){for(var e in t)return!1;return!0}function o(t,e){if(t===e)return!0;var n=Array.isArray(t)||ArrayBuffer.isView(t),r=Array.isArray(e)||ArrayBuffer.isView(e);if(n&&r&&t.length===e.length){for(var i=0;i<t.length;++i)if(t[i]!==e[i])return!1;return!0}return!1}function u(t){var e="undefined"==typeof window?1:window.devicePixelRatio||1;return Number.isFinite(t)?t<=0?1:t:t?e:1}function s(t){return Boolean(t&&Number.isFinite(t._version))}function c(t){return Boolean(t&&2===t._version)}var f=new r.a({id:"luma.gl"})},xrYK:function(t,e){var n={}.toString;t.exports=function(t){return n.call(t).slice(8,-1)}},xs3f:function(t,e,n){var r=n("2oRo"),i=n("zk60"),a=r["__core-js_shared__"]||i("__core-js_shared__",{});t.exports=a},yDTC:function(t,e,n){"use strict";n.d(e,"c",(function(){return a})),n.d(e,"a",(function(){return o})),n.d(e,"b",(function(){return u}));var r=n("9n+3"),i=(n("Y7r1"),n("xhRq"));function a(t,e){if(Object(i.a)(Object(i.e)(t),"setParameters requires a WebGL context"),!Object(i.d)(e)){var n={};for(var a in e){var o=Number(a),u=r.e[a];u&&("string"==typeof u?n[u]=!0:u(t,e[a],o))}var s=t.state&&t.state.cache;if(s)for(var c in n){(0,r.a[c])(t,e,s)}}}function o(t,e){if("number"==typeof(e=e||r.c)){var n=e,i=r.d[n];return i?i(t,n):t.getParameter(n)}var a=Array.isArray(e)?e:Object.keys(e),o={},u=!0,s=!1,c=void 0;try{for(var f,l=a[Symbol.iterator]();!(u=(f=l.next()).done);u=!0){var h=f.value,v=r.d[h];o[h]=v?v(t,Number(h)):t.getParameter(Number(h))}}catch(d){s=!0,c=d}finally{try{u||null==l.return||l.return()}finally{if(s)throw c}}return o}function u(t){a(t,r.c)}},yU0y:function(t,e,n){"use strict";n.d(e,"b",(function(){return r})),n.d(e,"a",(function(){return i})),n.d(e,"c",(function(){return a}));n("QFcT");var r=1e-6,i="undefined"!=typeof Float32Array?Float32Array:Array,a=Math.random;Math.PI;Math.hypot||(Math.hypot=function(){for(var t=0,e=arguments.length;e--;)t+=arguments[e]*arguments[e];return Math.sqrt(t)})},ykdB:function(t,e,n){"use strict";n.d(e,"a",(function(){return H}));var r=n("rePB"),i=n("1OyB"),a=n("vuIU"),o=n("Ekcv"),u=n("haqy"),s=n("VdrS"),c=n("CxzY"),f=n("pRFE"),l=n("LNPn"),h=n("OklE"),v=n("T2Hy"),d=n("sc/6"),b=n("md7G"),y=n("JX7q"),g=n("foSv"),m=n("ReuC"),p=n("Ji7U"),O=n("L8KH"),j=null;function k(t,e){var n;return new t((n=t.BYTES_PER_ELEMENT*e,(!j||j.byteLength<n)&&(j=new ArrayBuffer(n)),j),0,e)}var _=n("XbXb"),x="elements must be GL.ELEMENT_ARRAY_BUFFER",A=function(t){function e(t){var n,r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};Object(i.a)(this,e);var a=r.id||r.program&&r.program.id;return(n=Object(b.a)(this,Object(g.a)(e).call(this,t,Object.assign({},r,{id:a})))).buffer=null,n.bufferValue=null,n.isDefaultArray=r.isDefaultArray||!1,n.initialize(r),Object.seal(Object(y.a)(n)),n}return Object(p.a)(e,t),Object(a.a)(e,null,[{key:"isSupported",value:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return!e.constantAttributeZero||(Object(l.b)(t)||"Chrome"===Object(_.a)())}},{key:"getDefaultArray",value:function(t){return t.luma=t.luma||{},t.luma.defaultVertexArray||(t.luma.defaultVertexArray=new e(t,{handle:null,isDefaultArray:!0})),t.luma.defaultVertexArray}},{key:"getMaxAttributes",value:function(t){return e.MAX_ATTRIBUTES=e.MAX_ATTRIBUTES||t.getParameter(34921),e.MAX_ATTRIBUTES}},{key:"setConstant",value:function(t,n,r){switch(r.constructor){case Float32Array:e._setConstantFloatArray(t,n,r);break;case Int32Array:e._setConstantIntArray(t,n,r);break;case Uint32Array:e._setConstantUintArray(t,n,r);break;default:Object(c.a)(!1)}}}]),Object(a.a)(e,[{key:"delete",value:function(){Object(m.a)(Object(g.a)(e.prototype),"delete",this).call(this),this.buffer&&this.buffer.delete()}},{key:"initialize",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return this.setProps(t)}},{key:"setProps",value:function(t){return this}},{key:"setElementBuffer",value:function(){var t=this,e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null;return Object(c.a)(!e||34963===e.target,x),this.bind((function(){t.gl.bindBuffer(34963,e?e.handle:null)})),this}},{key:"setBuffer",value:function(t,e,n){if(34963===e.target)return this.setElementBuffer(e,n);var r=n.size,i=n.type,a=n.stride,o=n.offset,u=n.normalized,s=n.integer,f=n.divisor,h=this.gl;return t=Number(t),this.bind((function(){h.bindBuffer(34962,e.handle),s?(Object(c.a)(Object(l.b)(h)),h.vertexAttribIPointer(t,r,i,a,o)):h.vertexAttribPointer(t,r,i,u,a,o),h.enableVertexAttribArray(t),h.vertexAttribDivisor(t,f||0)})),this}},{key:"enable",value:function(t){var n=this,r=!(arguments.length>1&&void 0!==arguments[1])||arguments[1],i=!r&&0===t&&!e.isSupported(this.gl,{constantAttributeZero:!0});return i||(t=Number(t),this.bind((function(){return r?n.gl.enableVertexAttribArray(t):n.gl.disableVertexAttribArray(t)}))),this}},{key:"getConstantBuffer",value:function(t,e,n){var r=this._normalizeConstantArrayValue(e,n),i=r.byteLength*t,a=r.length*t,o=!this.buffer;if(this.buffer=this.buffer||new d.a(this.gl,i),o=(o=o||this.buffer.reallocate(i))||!this._compareConstantArrayValues(r,this.bufferValue)){var u=k(e.constructor,a);!function(t){for(var e=t.target,n=t.source,r=t.start,i=void 0===r?0:r,a=t.count,o=void 0===a?1:a,u=n.length,s=o*u,c=0,f=i;c<u;c++)e[f++]=n[c];for(;c<s;)c<s-c?(e.copyWithin(i+c,i,i+c),c*=2):(e.copyWithin(i+c,i,i+s-c),c=s)}({target:u,source:r,start:0,count:a}),this.buffer.subData(u),this.bufferValue=e}return this.buffer}},{key:"_normalizeConstantArrayValue",value:function(t,e){return Array.isArray(t)?new Float32Array(t):t}},{key:"_compareConstantArrayValues",value:function(t,e){if(!t||!e||t.length!==e.length||t.constructor!==e.constructor)return!1;for(var n=0;n<t.length;++n)if(t[n]!==e[n])return!1;return!0}},{key:"_createHandle",value:function(){return this.gl.createVertexArray()}},{key:"_deleteHandle",value:function(t){return this.gl.deleteVertexArray(t),[this.elements]}},{key:"_bindHandle",value:function(t){this.gl.bindVertexArray(t)}},{key:"_getParameter",value:function(t,e){var n=this,r=e.location;return Object(c.a)(Number.isFinite(r)),this.bind((function(){switch(t){case 34373:return n.gl.getVertexAttribOffset(r,t);default:return n.gl.getVertexAttrib(r,t)}}))}},{key:"MAX_ATTRIBUTES",get:function(){return e.getMaxAttributes(this.gl)}}],[{key:"_setConstantFloatArray",value:function(t,e,n){switch(n.length){case 1:t.vertexAttrib1fv(e,n);break;case 2:t.vertexAttrib2fv(e,n);break;case 3:t.vertexAttrib3fv(e,n);break;case 4:t.vertexAttrib4fv(e,n);break;default:Object(c.a)(!1)}}},{key:"_setConstantIntArray",value:function(t,e,n){switch(Object(c.a)(Object(l.b)(t)),n.length){case 1:t.vertexAttribI1iv(e,n);break;case 2:t.vertexAttribI2iv(e,n);break;case 3:t.vertexAttribI3iv(e,n);break;case 4:t.vertexAttribI4iv(e,n);break;default:Object(c.a)(!1)}}},{key:"_setConstantUintArray",value:function(t,e,n){switch(Object(c.a)(Object(l.b)(t)),n.length){case 1:t.vertexAttribI1uiv(e,n);break;case 2:t.vertexAttribI2uiv(e,n);break;case 3:t.vertexAttribI3uiv(e,n);break;case 4:t.vertexAttribI4uiv(e,n);break;default:Object(c.a)(!1)}}}]),e}(O.a),E=n("sgaE"),M=/^(.+)__LOCATION_([0-9]+)$/,w=["setBuffers","setGeneric","clearBindings","setLocations","setGenericValues","setDivisor","enable","disable"],S=function(){function t(e){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};Object(i.a)(this,t);var r=n.id||n.program&&n.program.id;this.id=r,this.gl=e,this.configuration=null,this.elements=null,this.elementsAccessor=null,this.values=null,this.accessors=null,this.unused=null,this.drawParams=null,this.buffer=null,this.attributes={},this.vertexArrayObject=new A(e),Object(E.a)(this,"VertexArray","v6.0",w),this.initialize(n),Object.seal(this)}return Object(a.a)(t,[{key:"delete",value:function(){this.buffer&&this.buffer.delete(),this.vertexArrayObject.delete()}},{key:"initialize",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return this.reset(),this.configuration=null,this.bindOnUse=!1,this.setProps(t)}},{key:"reset",value:function(){this.elements=null,this.elementsAccessor=null;var t=this.vertexArrayObject.MAX_ATTRIBUTES;return this.values=new Array(t).fill(null),this.accessors=new Array(t).fill(null),this.unused={},this.drawParams=null,this}},{key:"setProps",value:function(t){return"program"in t&&(this.configuration=t.program&&t.program.configuration),"configuration"in t&&(this.configuration=t.configuration),"attributes"in t&&this.setAttributes(t.attributes),"elements"in t&&this.setElementBuffer(t.elements),"bindOnUse"in t&&(t=t.bindOnUse),this}},{key:"clearDrawParams",value:function(){this.drawParams=null}},{key:"getDrawParams",value:function(){return this.drawParams=this.drawParams||this._updateDrawParams(),this.drawParams}},{key:"setAttributes",value:function(t){var e=this;return Object.assign(this.attributes,t),this.vertexArrayObject.bind((function(){for(var n in t){var r=t[n];e._setAttribute(n,r)}e.gl.bindBuffer(34962,null)})),this}},{key:"setElementBuffer",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return this.elements=t,this.elementsAccessor=e,this.clearDrawParams(),this.vertexArrayObject.setElementBuffer(t,e),this}},{key:"setBuffer",value:function(t,e){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};if(34963===e.target)return this.setElementBuffer(e,n);var r=this._resolveLocationAndAccessor(t,e,e.accessor,n),i=r.location,a=r.accessor;return i>=0&&(this.values[i]=e,this.accessors[i]=a,this.clearDrawParams(),this.vertexArrayObject.setBuffer(i,e,a)),this}},{key:"setConstant",value:function(t,e){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},r=this._resolveLocationAndAccessor(t,e,Object.assign({size:e.length},n)),i=r.location,a=r.accessor;return i>=0&&(e=this.vertexArrayObject._normalizeConstantArrayValue(e,a),this.values[i]=e,this.accessors[i]=a,this.clearDrawParams(),this.vertexArrayObject.enable(i,!1)),this}},{key:"unbindBuffers",value:function(){var t=this;return this.vertexArrayObject.bind((function(){t.elements&&t.vertexArrayObject.setElementBuffer(null),t.buffer=t.buffer||new d.a(t.gl,{accessor:{size:4}});for(var e=0;e<t.vertexArrayObject.MAX_ATTRIBUTES;e++)t.values[e]instanceof d.a&&(t.gl.disableVertexAttribArray(e),t.gl.bindBuffer(34962,t.buffer.handle),t.gl.vertexAttribPointer(e,1,5126,!1,0,0))})),this}},{key:"bindBuffers",value:function(){var t=this;return this.vertexArrayObject.bind((function(){t.elements&&t.setElementBuffer(t.elements);for(var e=0;e<t.vertexArrayObject.MAX_ATTRIBUTES;e++){var n=t.values[e];n instanceof d.a&&t.setBuffer(e,n)}})),this}},{key:"bindForDraw",value:function(t,e,n){var r,i=this;return this.vertexArrayObject.bind((function(){i._setConstantAttributes(t,e),r=n()})),r}},{key:"_resolveLocationAndAccessor",value:function(t,e,n,r){var i=this,a=this._getAttributeIndex(t),o=a.location,u=a.name;if(!Number.isFinite(o)||o<0)return this.unused[t]=e,l.c.once(3,(function(){return"unused value ".concat(t," in ").concat(i.id)}))(),this;var s=this._getAttributeInfo(u||o);if(!s)return{location:-1,accessor:null};var f=this.accessors[o]||{},h=v.a.resolve(s.accessor,f,n,r),d=h.size,b=h.type;return Object(c.a)(Number.isFinite(d)&&Number.isFinite(b)),{location:o,accessor:h}}},{key:"_getAttributeInfo",value:function(t){return this.configuration&&this.configuration.getAttributeInfo(t)}},{key:"_getAttributeIndex",value:function(t){var e=Number(t);if(Number.isFinite(e))return{location:e};var n=M.exec(t),r=n?n[1]:t,i=n?Number(n[2]):0;return this.configuration?{location:this.configuration.getAttributeLocation(r)+i,name:r}:{location:-1}}},{key:"_setAttribute",value:function(t,e){if(e instanceof d.a)this.setBuffer(t,e);else if(Array.isArray(e)&&e.length&&e[0]instanceof d.a){var n=e[0],r=e[1];this.setBuffer(t,n,r)}else if(ArrayBuffer.isView(e)||Array.isArray(e)){var i=e;this.setConstant(t,i)}else{if(!(e.buffer instanceof d.a))throw new Error("VertexArray: attributes must be Buffers or constants (i.e. typed array)");var a=e;this.setBuffer(t,a.buffer,a)}}},{key:"_setConstantAttributes",value:function(t,e){var n=Math.max(0|t,0|e),r=this.values[0];ArrayBuffer.isView(r)&&this._setConstantAttributeZero(r,n);for(var i=1;i<this.vertexArrayObject.MAX_ATTRIBUTES;i++)r=this.values[i],ArrayBuffer.isView(r)&&this._setConstantAttribute(i,r)}},{key:"_setConstantAttributeZero",value:function(t,e){if(A.isSupported(this.gl,{constantAttributeZero:!0}))this._setConstantAttribute(0,t);else{var n=this.vertexArrayObject.getConstantBuffer(e,t);this.vertexArrayObject.setBuffer(0,n,this.accessors[0])}}},{key:"_setConstantAttribute",value:function(t,e){A.setConstant(this.gl,t,e)}},{key:"_updateDrawParams",value:function(){for(var t={isIndexed:!1,isInstanced:!1,indexCount:1/0,vertexCount:1/0,instanceCount:1/0},e=0;e<this.vertexArrayObject.MAX_ATTRIBUTES;e++)this._updateDrawParamsForLocation(t,e);return this.elements&&(t.elementCount=this.elements.getElementCount(this.elements.accessor),t.isIndexed=!0,t.indexType=this.elementsAccessor.type||this.elements.accessor.type,t.indexOffset=this.elementsAccessor.offset||0),t.indexCount===1/0&&(t.indexCount=0),t.vertexCount===1/0&&(t.vertexCount=0),t.instanceCount===1/0&&(t.instanceCount=0),t}},{key:"_updateDrawParamsForLocation",value:function(t,e){var n=this.values[e],r=this.accessors[e];if(n){var i=r.divisor>0;if(t.isInstanced=t.isInstanced||i,n instanceof d.a){var a=n;if(i){var o=a.getVertexCount(r);t.instanceCount=Math.min(t.instanceCount,o)}else{var u=a.getVertexCount(r);t.vertexCount=Math.min(t.vertexCount,u)}}}}},{key:"setElements",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return l.c.deprecated("setElements","setElementBuffer")(),this.setElementBuffer(t,e)}}]),t}(),T=n("bphH"),P=n("rnmN"),R=n("oejM");function L(t,e){for(var n=e.maxElts,r=void 0===n?16:n,i=e.size,a=void 0===i?1:i,o="[",u=0;u<t.length&&u<r;++u)u>0&&(o+=",".concat(u%a==0?" ":"")),o+=D(t[u],e);var s=t.length>r?"...":"]";return"".concat(o).concat(s)}function D(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=1e-16,r=e.isInteger,i=void 0!==r&&r;if(Array.isArray(t)||ArrayBuffer.isView(t))return L(t,e);if(!Number.isFinite(t))return String(t);if(Math.abs(t)<n)return i?"0":"0.";if(i)return t.toFixed(0);if(Math.abs(t)>100&&Math.abs(t)<1e4)return t.toFixed(0);var a=t.toPrecision(2),o=a.indexOf(".0");return o===a.length-2?a.slice(0,-1):a}function F(t,e,n,i){var a,o,u=t.gl;if(!e)return o={},Object(r.a)(o,i,"null"),Object(r.a)(o,"Format ","N/A"),o;var s,c,f,l="NOT PROVIDED",h="N/A",v="N/A",b="N/A";if(n&&(l=n.type,h=n.size,s=-1!==(l=String(l).replace("Array","")).indexOf("nt")),e instanceof d.a){var y,g,m=e,p=m.getDebugData(),O=p.data;if(c=p.modified?"*":"",f=O,v=(b=m.byteLength)/O.BYTES_PER_ELEMENT/h,n){var j=n.divisor>0;g="".concat(j?"I ":"P "," ").concat(v," (x").concat(h,"=").concat(b," bytes ").concat(Object(P.a)(u,l),")")}else s=!0,g="".concat(b," bytes");return y={},Object(r.a)(y,i,"".concat(c).concat(D(f,{size:h,isInteger:s}))),Object(r.a)(y,"Format ",g),y}return f=e,h=e.length,s=-1!==(l=String(e.constructor.name).replace("Array","")).indexOf("nt"),a={},Object(r.a)(a,i,"".concat(D(f,{size:h,isInteger:s})," (constant)")),Object(r.a)(a,"Format ","".concat(h,"x").concat(l," (constant)")),a}function C(t,e){var n=e.type,r=e.size,i=Object(R.b)(n,r);return i?"".concat(t," (").concat(i.name,")"):t}function I(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},e=t.header,n=void 0===e?"Uniforms":e,i=t.program,a=t.uniforms,o=t.undefinedOnly,u=void 0!==o&&o;Object(c.a)(i);var s=".*_.*",f=".*Matrix",l=i._uniformSetters,h={},v=Object.keys(l).sort(),d=0,b=!0,y=!1,g=void 0;try{for(var m,p=v[Symbol.iterator]();!(b=(m=p.next()).done);b=!0){var O=m.value;O.match(s)||O.match(f)||B({table:h,header:n,uniforms:a,uniformName:O,undefinedOnly:u})&&d++}}catch(N){y=!0,g=N}finally{try{b||null==p.return||p.return()}finally{if(y)throw g}}var j=!0,k=!1,_=void 0;try{for(var x,A=v[Symbol.iterator]();!(j=(x=A.next()).done);j=!0){var E=x.value;E.match(f)&&B({table:h,header:n,uniforms:a,uniformName:E,undefinedOnly:u})&&d++}}catch(N){k=!0,_=N}finally{try{j||null==A.return||A.return()}finally{if(k)throw _}}var M=!0,w=!1,S=void 0;try{for(var T,P=v[Symbol.iterator]();!(M=(T=P.next()).done);M=!0){var R=T.value;h[R]||B({table:h,header:n,uniforms:a,uniformName:R,undefinedOnly:u})&&d++}}catch(N){w=!0,S=N}finally{try{M||null==P.return||P.return()}finally{if(w)throw S}}var L=0,F={};if(!u)for(var C in a){var I=a[C];h[C]||(L++,F[C]=Object(r.a)({Type:"NOT USED: ".concat(I)},n,D(I)))}return{table:h,count:d,unusedTable:F,unusedCount:L}}function B(t){var e,n=t.table,i=t.header,a=t.uniforms,o=t.uniformName,u=t.undefinedOnly,s=a[o],c=function(t){return null!=t}(s);return(!u||!c)&&(n[o]=(e={},Object(r.a)(e,i,c?D(s):"N/A"),Object(r.a)(e,"Uniform Type",c?s:"NOT PROVIDED"),e),!0)}function N(t){var e=t.accessor,n=e.type,r=e.size,i=Object(R.b)(n,r);return i?"".concat(i.name," ").concat(t.name):t.name}var U=n("vpQ4"),V={POSITION:"positions",NORMAL:"normals",COLOR_0:"colors",TEXCOORD_0:"texCoords",TEXCOORD_1:"texCoords1",TEXCOORD_2:"texCoords2"};function G(t,e){var n=(e||{}).attributeMap,r=void 0===n?V:n;return r&&r[t]||t}function z(t,e){var n;switch(t){case"texCoords":case"texCoord1":case"texCoord2":case"texCoord3":n="uvs";break;case"vertices":case"positions":case"normals":case"pickingColors":n="vectors"}switch(n){case"vectors":e.size=e.size||3;break;case"uvs":e.size=e.size||2}Object(c.a)(Number.isFinite(e.size),"attribute ".concat(t," needs size"))}var q=function(){},X={},H=function(){function t(e){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};Object(i.a)(this,t);var r=n.id,a=void 0===r?Object(s.c)("model"):r;Object(c.a)(Object(o.c)(e)),this.id=a,this.gl=e,this.id=n.id||Object(s.c)("Model"),this.lastLogTime=0,this.initialize(n)}return Object(a.a)(t,[{key:"initialize",value:function(t){this.props={},this.programManager=t.programManager||u.a.getDefaultProgramManager(this.gl),this._programManagerState=-1,this._managedProgram=!1;var e=t.program,n=void 0===e?null:e,r=t.vs,i=t.fs,a=t.modules,o=t.defines,s=t.inject,f=t.varyings,l=t.bufferMode,h=t.transpileToGLSL100;this.programProps={program:n,vs:r,fs:i,modules:a,defines:o,inject:s,varyings:f,bufferMode:l,transpileToGLSL100:h},this.program=null,this.vertexArray=null,this._programDirty=!0,this.userData={},this.needsRedraw=!0,this._attributes={},this.attributes={},this.uniforms={},this.pickable=!0,this._checkProgram(),this.setUniforms(Object.assign({},this.getModuleUniforms(t.moduleSettings))),this.drawMode=void 0!==t.drawMode?t.drawMode:4,this.vertexCount=t.vertexCount||0,this.geometryBuffers={},this.isInstanced=t.isInstanced||t.instanced||t.instanceCount>0,this._setModelProps(t),this.geometry={},Object(c.a)(void 0!==this.drawMode&&Number.isFinite(this.vertexCount),"Model needs drawMode and vertexCount")}},{key:"setProps",value:function(t){this._setModelProps(t)}},{key:"delete",value:function(){for(var t in this._attributes)this._attributes[t]!==this.attributes[t]&&this._attributes[t].delete();this._managedProgram&&(this.programManager.release(this.program),this._managedProgram=!1),this.vertexArray.delete(),this._deleteGeometryBuffers()}},{key:"getDrawMode",value:function(){return this.drawMode}},{key:"getVertexCount",value:function(){return this.vertexCount}},{key:"getInstanceCount",value:function(){return this.instanceCount}},{key:"getAttributes",value:function(){return this.attributes}},{key:"getProgram",value:function(){return this.program}},{key:"setProgram",value:function(t){var e=t.program,n=t.vs,r=t.fs,i=t.modules,a=t.defines,o=t.inject,u=t.varyings,s=t.bufferMode,c=t.transpileToGLSL100;this.programProps={program:e,vs:n,fs:r,modules:i,defines:a,inject:o,varyings:u,bufferMode:s,transpileToGLSL100:c},this._programDirty=!0}},{key:"getUniforms",value:function(){return this.uniforms}},{key:"setDrawMode",value:function(t){return this.drawMode=t,this}},{key:"setVertexCount",value:function(t){return Object(c.a)(Number.isFinite(t)),this.vertexCount=t,this}},{key:"setInstanceCount",value:function(t){return Object(c.a)(Number.isFinite(t)),this.instanceCount=t,this}},{key:"setGeometry",value:function(t){return this.drawMode=t.drawMode,this.vertexCount=t.getVertexCount(),this._deleteGeometryBuffers(),this.geometryBuffers=function(t,e,n){var r={},i=e.indices;for(var a in e.attributes){var o=e.attributes[a],u=G(a,n);if("indices"===a)i=o;else if(o.constant)r[u]=o.value;else{var s=o.value,f=Object(U.a)({},o);delete f.value,r[u]=[new d.a(t,s),f],z(a,f)}}if(i){var l=i.value||i;Object(c.a)(l instanceof Uint16Array||l instanceof Uint32Array,'attribute array for "indices" must be of integer type');var h={size:1,isIndexed:void 0===i.isIndexed||i.isIndexed};r.indices=[new d.a(t,{data:l,target:34963}),h]}return r}(this.gl,t),this.vertexArray.setAttributes(this.geometryBuffers),this}},{key:"setAttributes",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};if(Object(s.a)(t))return this;var e={};for(var n in t){var r=t[n];e[n]=r.getValue?r.getValue():r}return this.vertexArray.setAttributes(e),this}},{key:"setUniforms",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return Object.assign(this.uniforms,t),this}},{key:"getModuleUniforms",value:function(t){this._checkProgram();var e=this.programManager.getUniforms(this.program);return e?e(t):{}}},{key:"updateModuleSettings",value:function(t){var e=this.getModuleUniforms(t||{});return this.setUniforms(e)}},{key:"clear",value:function(t){return Object(f.a)(this.program.gl,t),this}},{key:"draw",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};this._checkProgram();var e,n=t.moduleSettings,r=void 0===n?null:n,i=t.framebuffer,a=t.uniforms,o=void 0===a?{}:a,u=t.attributes,s=void 0===u?{}:u,c=t.transformFeedback,f=void 0===c?this.transformFeedback:c,h=t.parameters,v=void 0===h?{}:h,d=t.vertexArray,b=void 0===d?this.vertexArray:d;this.setAttributes(s),this.updateModuleSettings(r),this.setUniforms(o),l.c.priority>=2&&(e=this._logDrawCallStart(2));var y=this.vertexArray.getDrawParams(),g=this.props,m=g.isIndexed,p=void 0===m?y.isIndexed:m,O=g.indexType,j=void 0===O?y.indexType:O,k=g.indexOffset,_=void 0===k?y.indexOffset:k,x=g.vertexArrayInstanced,A=void 0===x?y.isInstanced:x;A&&!this.isInstanced&&l.c.warn("Found instanced attributes on non-instanced model",this.id)();var E=this.isInstanced,M=this.instanceCount,w=this.props,S=w.onBeforeRender,T=void 0===S?q:S,P=w.onAfterRender,R=void 0===P?q:P;T(),this.program.setUniforms(this.uniforms);var L=this.program.draw(Object.assign(X,t,{logPriority:e,uniforms:null,framebuffer:i,parameters:v,drawMode:this.getDrawMode(),vertexCount:this.getVertexCount(),vertexArray:b,transformFeedback:f,isIndexed:p,indexType:j,isInstanced:E,instanceCount:M,offset:p?_:0}));return R(),l.c.priority>=2&&this._logDrawCallEnd(e,b,i),L}},{key:"transform",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},e=t.discard,n=void 0===e||e,i=t.feedbackBuffers,a=t.unbindModels,o=void 0===a?[]:a,u=t.parameters;i&&this._setFeedbackBuffers(i),n&&(u=Object.assign({},u,Object(r.a)({},35977,n))),o.forEach((function(t){return t.vertexArray.unbindBuffers()}));try{this.draw(Object.assign({},t,{parameters:u}))}finally{o.forEach((function(t){return t.vertexArray.bindBuffers()}))}return this}},{key:"render",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return l.c.warn("Model.render() is deprecated. Use Model.setUniforms() and Model.draw()")(),this.setUniforms(t).draw()}},{key:"_setModelProps",value:function(t){Object.assign(this.props,t),"uniforms"in t&&this.setUniforms(t.uniforms),"pickable"in t&&(this.pickable=t.pickable),"instanceCount"in t&&(this.instanceCount=t.instanceCount),"geometry"in t&&this.setGeometry(t.geometry),"attributes"in t&&this.setAttributes(t.attributes),"_feedbackBuffers"in t&&this._setFeedbackBuffers(t._feedbackBuffers)}},{key:"_checkProgram",value:function(){var t=this._programDirty||this.programManager.stateHash!==this._programManagerState;if(t){var e=this.programProps.program;if(e)this._managedProgram=!1;else{var n=this.programProps,r=n.vs,i=n.fs,a=n.modules,o=n.inject,u=n.defines,s=n.varyings,f=n.bufferMode,l=n.transpileToGLSL100;e=this.programManager.get({vs:r,fs:i,modules:a,inject:o,defines:u,varyings:s,bufferMode:f,transpileToGLSL100:l}),this.program&&this._managedProgram&&this.programManager.release(this.program),this._programManagerState=this.programManager.stateHash,this._managedProgram=!0}Object(c.a)(e instanceof h.a,"Model needs a program"),this._programDirty=!1,e!==this.program&&(this.program=e,this.vertexArray?this.vertexArray.setProps({program:this.program,attributes:this.vertexArray.attributes}):this.vertexArray=new S(this.gl,{program:this.program}),this.setUniforms(Object.assign({},this.getModuleUniforms())))}}},{key:"_deleteGeometryBuffers",value:function(){for(var t in this.geometryBuffers){var e=this.geometryBuffers[t][0]||this.geometryBuffers[t];e instanceof d.a&&e.delete()}}},{key:"_setAnimationProps",value:function(t){if(this.animated){Object(c.a)(t,"Model.draw(): animated uniforms but no animationProps");var e=this._evaluateAnimateUniforms(t);Object.assign(this.uniforms,e)}}},{key:"_setFeedbackBuffers",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};if(Object(s.a)(t))return this;var e=this.program.gl;return this.transformFeedback=this.transformFeedback||new T.a(e,{program:this.program}),this.transformFeedback.setBuffers(t),this}},{key:"_logDrawCallStart",value:function(t){var e=t>3?0:1e4;if(!(Date.now()-this.lastLogTime<e))return this.lastLogTime=Date.now(),l.c.group(2,">>> DRAWING MODEL ".concat(this.id),{collapsed:l.c.level<=2})(),t}},{key:"_logDrawCallEnd",value:function(t,e,n,i){if(void 0!==t){var a=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},e=t.vertexArray,n=t.header,r=void 0===n?"Attributes":n;if(!e.configuration)return{};var i={};e.elements&&(i.ELEMENT_ARRAY_BUFFER=F(e,e.elements,null,r));var a=e.values;for(var o in a){var u=e._getAttributeInfo(o);if(u){var s="".concat(o,": ").concat(u.name),c=e.accessors[u.location];c&&(s="".concat(o,": ").concat(C(u.name,c))),i[s]=F(e,a[o],c,r)}}return i}({vertexArray:e,header:"".concat(this.id," attributes"),attributes:this._attributes}),o=I({header:"".concat(this.id," uniforms"),program:this.program,uniforms:Object.assign({},this.program.uniforms,n)}),u=o.table,s=o.unusedTable,c=o.unusedCount,f=I({header:"".concat(this.id," uniforms"),program:this.program,uniforms:Object.assign({},this.program.uniforms,n),undefinedOnly:!0}),h=f.table;f.count>0&&l.c.log("MISSING UNIFORMS",Object.keys(h))(),c>0&&l.c.log("UNUSED UNIFORMS",Object.keys(s))();var v=function(t){var e={},n="Accessors for ".concat(t.id),i=!0,a=!1,o=void 0;try{for(var u,s=t.attributeInfos[Symbol.iterator]();!(i=(u=s.next()).done);i=!0){var c=u.value;if(c){var f=N(c);e["in ".concat(f)]=Object(r.a)({},n,JSON.stringify(c.accessor))}}}catch(m){a=!0,o=m}finally{try{i||null==s.return||s.return()}finally{if(a)throw o}}var l=!0,h=!1,v=void 0;try{for(var d,b=t.varyingInfos[Symbol.iterator]();!(l=(d=b.next()).done);l=!0){var y=d.value;if(y){var g=N(y);e["out ".concat(g)]=Object(r.a)({},n,JSON.stringify(y.accessor))}}}catch(m){h=!0,v=m}finally{try{l||null==b.return||b.return()}finally{if(h)throw v}}return e}(this.vertexArray.configuration);l.c.table(t,a)(),l.c.table(t,u)(),l.c.table(t+1,v)(),i&&i.log({logLevel:2,message:"Rendered to ".concat(i.id)}),l.c.groupEnd(2,">>> DRAWING MODEL ".concat(this.id))()}}}]),t}()},yoRg:function(t,e,n){var r=n("UTVS"),i=n("/GqU"),a=n("TWQb").indexOf,o=n("0BK2");t.exports=function(t,e){var n,u=i(t),s=0,c=[];for(n in u)!r(o,n)&&r(u,n)&&c.push(n);for(;e.length>s;)r(u,n=e[s++])&&(~a(c,n)||c.push(n));return c}},zBJ4:function(t,e,n){var r=n("2oRo"),i=n("hh1v"),a=r.document,o=i(a)&&i(a.createElement);t.exports=function(t){return o?a.createElement(t):{}}},zXfU:function(t,e,n){"use strict";n.d(e,"a",(function(){return y}));var r=n("1OyB"),i=n("vuIU"),a=n("Ji7U"),o=n("md7G"),u=n("foSv"),s=n("sYR6"),c=n("a3TU"),f=n("+H0l"),l=n("n+fv"),h=n("sSh/");function v(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(t){return!1}}();return function(){var n,r=Object(u.a)(t);if(e){var i=Object(u.a)(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return Object(o.a)(this,n)}}var d=[0,0,0],b={},y=function(t){Object(a.a)(n,t);var e=v(n);function n(){var t,i=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,a=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,o=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0;return Object(r.a)(this,n),t=e.call(this,-0,-0,-0),1===arguments.length&&Object(c.f)(i)?t.copy(i):(c.b.debug&&(Object(f.a)(i),Object(f.a)(a),Object(f.a)(o)),t[0]=i,t[1]=a,t[2]=o),t}return Object(i.a)(n,null,[{key:"ZERO",get:function(){return b.ZERO=b.ZERO||Object.freeze(new n(0,0,0,0))}}]),Object(i.a)(n,[{key:"set",value:function(t,e,n){return this[0]=t,this[1]=e,this[2]=n,this.check()}},{key:"copy",value:function(t){return this[0]=t[0],this[1]=t[1],this[2]=t[2],this.check()}},{key:"fromObject",value:function(t){return c.b.debug&&(Object(f.a)(t.x),Object(f.a)(t.y),Object(f.a)(t.z)),this[0]=t.x,this[1]=t.y,this[2]=t.z,this.check()}},{key:"toObject",value:function(t){return t.x=this[0],t.y=this[1],t.z=this[2],t}},{key:"angle",value:function(t){return l.a(this,t)}},{key:"cross",value:function(t){return l.c(this,this,t),this.check()}},{key:"rotateX",value:function(t){var e=t.radians,n=t.origin,r=void 0===n?d:n;return l.j(this,this,r,e),this.check()}},{key:"rotateY",value:function(t){var e=t.radians,n=t.origin,r=void 0===n?d:n;return l.k(this,this,r,e),this.check()}},{key:"rotateZ",value:function(t){var e=t.radians,n=t.origin,r=void 0===n?d:n;return l.l(this,this,r,e),this.check()}},{key:"transform",value:function(t){return this.transformAsPoint(t)}},{key:"transformAsPoint",value:function(t){return l.o(this,this,t),this.check()}},{key:"transformAsVector",value:function(t){return Object(h.c)(this,this,t),this.check()}},{key:"transformByMatrix3",value:function(t){return l.n(this,this,t),this.check()}},{key:"transformByMatrix2",value:function(t){return Object(h.b)(this,this,t),this.check()}},{key:"transformByQuaternion",value:function(t){return l.p(this,this,t),this.check()}},{key:"ELEMENTS",get:function(){return 3}},{key:"z",get:function(){return this[2]},set:function(t){this[2]=Object(f.a)(t)}}]),n}(s.a)},zk60:function(t,e,n){var r=n("2oRo"),i=n("kRJp");t.exports=function(t,e){try{i(r,t,e)}catch(n){r[t]=e}return e}}}]);