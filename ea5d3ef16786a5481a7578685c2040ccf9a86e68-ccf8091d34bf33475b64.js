(window.webpackJsonp=window.webpackJsonp||[]).push([[5],{19:function(t,e){},"1gqn":function(t,e){t.exports=function(t){return t&&"object"==typeof t&&"function"==typeof t.copy&&"function"==typeof t.fill&&"function"==typeof t.readUInt8}},20:function(t,e){},BZIa:function(t,e,n){"use strict";n.d(e,"b",(function(){return a})),n.d(e,"a",(function(){return u}));var r=n("a3TU"),i=Math.PI/2;function a(t,e){var n=e.viewport,r=n.metersPerPixel,a=t.header.mbs[1],s=t.header.mbs[0],c=t.header.mbs[2],l=t.header.mbs[3],h=n.height,f=n.width,d=n.latitude,p=n.longitude,m=[p,d],v=[s,a,c],y=[p,a],g=[s,d],b=Math.sqrt(h*h+f*f)*r[0],w=.5*h+l/6378137,O=.5*f+l/6378137;if(o(m,v)>b+l/6378137)return"OUT";if(o(m,y)>w)return"OUT";if(o(m,g)>O)return"OUT";if(0===t.lodMetricValue)return"DIG";var _=u(t,e);return(_*=i)<.5?"OUT":!t.header.children||_<=t.lodMetricValue?"DRAW":t.header.children?"DIG":"OUT"}function s(t){var e=t[0],n=t[1],i=t[2],a=Object(r.i)(e),s=Object(r.i)(n),o=1+i/6378137,u=o*Math.cos(s);return[e=u*Math.cos(a),n=u*Math.sin(a),i=o*Math.sin(s)]}function o(t,e){var n=t[0],r=t[1],i=t[2],a=void 0===i?0:i,o=e[0],u=e[1],c=e[2],l=s([o,u,void 0===c?0:c]),h=s([n,r,a]),f=h[0]-l[0],d=h[1]-l[1],p=h[2]-l[2];return f*f+d*d+p*p}function u(t,e){var n=e.viewport,r=t.header.mbs[1],i=[t.header.mbs[0],r,t.header.mbs[2]],a=t.header.mbs[3]/6378137,s=o(n.unprojectPosition(n.cameraPosition),i)-a*a;return s<=0?170141175e30:function(t){return t.viewport.projectionMatrix[5]}(e)*a/Math.sqrt(s)*300}},"FJ6+":function(t,e,n){"use strict";n.d(e,"d",(function(){return r})),n.d(e,"e",(function(){return i})),n.d(e,"f",(function(){return a})),n.d(e,"c",(function(){return s})),n.d(e,"a",(function(){return o})),n.d(e,"b",(function(){return u}));var r={UNLOADED:0,LOADING:1,PROCESSING:2,READY:3,EXPIRED:4,FAILED:5},i={ADD:1,REPLACE:2},a={EMPTY:"empty",SCENEGRAPH:"scenegraph",POINTCLOUD:"pointcloud",MESH:"mesh"},s={I3S:"I3S",TILES3D:"TILES3D"},o={GEOMETRIC_ERROR:"geometricError",MAX_SCREEN_THRESHOLD:"maxScreenThreshold"},u={NOT_COMPUTED:-1,USE_OPTIMIZATION:1,SKIP_OPTIMIZATION:0}},Fqdk:function(t,e,n){"use strict";n.d(e,"a",(function(){return X}));var r=n("o0o1"),i=n.n(r),a=(n("wcNg"),n("HaE+")),s=n("rePB"),o=n("vuIU"),u=n("Nw31"),c=n("zXfU"),l=n("Ns70"),h=n("G+eI"),f=n("Qk7e"),d=n("VnMh"),p=n("wBSN"),m=function(t,e,n){this.item=t,this.previous=e,this.next=n},v=function(){function t(){this.head=null,this.tail=null,this._length=0}var e=t.prototype;return e.add=function(t){var e=new m(t,this.tail,null);return this.tail?(this.tail.next=e,this.tail=e):(this.head=e,this.tail=e),++this._length,e},e.remove=function(t){t&&(t.previous&&t.next?(t.previous.next=t.next,t.next.previous=t.previous):t.previous?(t.previous.next=null,this.tail=t.previous):t.next?(t.next.previous=null,this.head=t.next):(this.head=null,this.tail=null),t.next=null,t.previous=null,--this._length)},e.splice=function(t,e){t!==e&&(this.remove(e),this._insert(t,e))},e._insert=function(t,e){var n=t.next;t.next=e,this.tail===t?this.tail=e:n.previous=e,e.next=n,e.previous=t,++this._length},Object(o.a)(t,[{key:"length",get:function(){return this._length}}]),t}();function y(t){return null!=t}var g=function(){function t(){this._list=new v,this._sentinel=this._list.add("sentinel"),this._trimTiles=!1}var e=t.prototype;return e.reset=function(){this._list.splice(this._list.tail,this._sentinel)},e.touch=function(t){var e=t._cacheNode;y(e)&&this._list.splice(this._sentinel,e)},e.add=function(t,e,n){y(e._cacheNode)||(e._cacheNode=this._list.add(e),n&&n(t,e))},e.unloadTile=function(t,e,n){var r=e._cacheNode;y(r)&&(this._list.remove(r),e._cacheNode=void 0,n&&n(t,e))},e.unloadTiles=function(t,e){var n=this._trimTiles;this._trimTiles=!1;for(var r=this._list,i=1024*t.maximumMemoryUsage*1024,a=this._sentinel,s=r.head;s!==a&&(t.gpuMemoryUsageInBytes>i||n);){var o=s.item;s=s.next,this.unloadTile(t,o,e)}},e.trim=function(){this._trimTiles=!0},t}();var b=n("rOwd"),w=new c.a,O=new c.a,_=new b.b([new b.d,new b.d,new b.d,new b.d,new b.d,new b.d]);function T(t,e){var n=t.cameraDirection,r=t.cameraUp,i=t.height,a=t.distanceScales.metersPerUnit,s=[t.longitude,t.latitude,0],o=l.a.WGS84.cartographicToCartesian(s,new c.a),u=l.a.WGS84.eastNorthUpToFixedFrame(o),h=t.unprojectPosition(t.cameraPosition),f=l.a.WGS84.cartographicToCartesian(h,new c.a),d=new c.a(u.transformAsVector(new c.a(n).scale(a))).normalize(),p=new c.a(u.transformAsVector(new c.a(r).scale(a))).normalize();return function(t,e){var n=t.getFrustumPlanes(),r=0;for(var i in n){var a=n[i],s=a.normal.dot(t.center);O.copy(a.normal).scale(a.distance-s).add(t.center);var o=t.unprojectPosition(O),u=l.a.WGS84.cartographicToCartesian(o,new c.a);_.planes[r++].fromPointNormal(u,w.copy(e).subtract(u))}}(t,o),{camera:{position:f,direction:d,up:p},viewport:t,height:i,cullingVolume:_,frameNumber:e,sseDenominator:1.15}}var S=new c.a;function E(t){var e=t.halfAxes,n=t.radius,r=t.width,i=t.height;if(e){var a=function(t){t.getColumn(0,S);var e=t.getColumn(1),n=t.getColumn(2);return S.add(e).add(n).len()}(e);return Math.log2(6356752.314245179/a)}return n?Math.log2(6356752.314245179/n):i&&r?(Math.log2(6378137/r)+Math.log2(6378137/i))/2:1}var j=n("fa8B"),k=n("dI71"),M=n("FJ6+"),x=n("vrw9"),I=function(t){function e(){return t.apply(this,arguments)||this}Object(k.a)(e,t);var n=e.prototype;return n.compareDistanceToCamera=function(t,e){return 0===e._distanceToCamera&&0===t._distanceToCamera?e._centerZDepth-t._centerZDepth:e._distanceToCamera-t._distanceToCamera},n.updateTileVisibility=function(e,n){if(t.prototype.updateTileVisibility.call(this,e,n),e.isVisibleAndInRequestVolume){var r=e.children.length>0;if(e.hasTilesetContent&&r){var i=e.children[0];return this.updateTileVisibility(i,n),void(e._visible=i._visible)}if(this.meetsScreenSpaceErrorEarly(e,n))e._visible=!1;else{var a=e.refine===M.e.REPLACE,s=e._optimChildrenWithinParent===M.b.USE_OPTIMIZATION;a&&s&&r&&!this.anyChildrenVisible(e,n)&&(e._visible=!1)}}},n.meetsScreenSpaceErrorEarly=function(t,e){var n=t.parent;return!(!n||n.hasTilesetContent||n.refine!==M.e.ADD)&&!this.shouldRefine(t,e,!0)},e}(x.a),C=n("xszv"),P=n("BZIa"),A="REQUESTED",R="COMPLETED",D="ERROR",N=function(){function t(){this._statusMap={}}var e=t.prototype;return e.add=function(t,e,n,r){var i=this;this._statusMap[e]||(this._statusMap[e]={request:t,callback:n,key:e,frameState:r,status:A},t().then((function(t){i._statusMap[e].status=R,i._statusMap[e].callback(t,r)})).catch((function(t){i._statusMap[e].status=D,n(t)})))},e.update=function(t,e){this._statusMap[t]&&(this._statusMap[t].frameState=e)},e.find=function(t){return this._statusMap[t]},t}();function q(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,r)}return n}function z(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?q(Object(n),!0).forEach((function(e){Object(s.a)(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):q(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}function U(t,e){var n;if("undefined"==typeof Symbol||null==t[Symbol.iterator]){if(Array.isArray(t)||(n=function(t,e){if(!t)return;if("string"==typeof t)return V(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);"Object"===n&&t.constructor&&(n=t.constructor.name);if("Map"===n||"Set"===n)return Array.from(t);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return V(t,e)}(t))||e&&t&&"number"==typeof t.length){n&&(t=n);var r=0;return function(){return r>=t.length?{done:!0}:{done:!1,value:t[r++]}}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}return(n=t[Symbol.iterator]()).next.bind(n)}function V(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}var L=function(t){function e(e){var n;return(n=t.call(this,e)||this)._tileManager=new N,n}Object(k.a)(e,t);var n=e.prototype;return n.shouldRefine=function(t,e){return t._lodJudge=Object(P.b)(t,e),"DIG"===t._lodJudge},n.updateChildTiles=function(t,e){for(var n,r=this,i=t.header.children||[],a=t.children,s=t.tileset,o=function(){var i=n.value,o=i.id+"-"+e.viewport.id,u=a&&a.find((function(t){return t.id===o}));if(u)u&&r.updateTile(u,e);else{var c=function(){return r._loadTile(i.id,s)};r._tileManager.find(o)?r._tileManager.update(o,e):(s.tileset.nodePages&&(c=function(){return s.tileset.nodePagesTile.formTileFromNodePages(i.id)}),r._tileManager.add(c,o,(function(e){return r._onTileLoad(e,t,o)}),e))}},u=U(i);!(n=u()).done;)o();return!1},n._loadTile=function(){var t=Object(a.a)(i.a.mark((function t(e,n){var r,a,s;return i.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return r=n.loader,a=n.getTileUrl(n.url+"/nodes/"+e),s=z(z({},n.loadOptions),{},{i3s:z(z({},n.loadOptions.i3s),{},{isTileHeader:!0,loadContent:!1})}),t.next=5,Object(C.a)(a,r,s);case 5:return t.abrupt("return",t.sent);case 6:case"end":return t.stop()}}),t)})));return function(e,n){return t.apply(this,arguments)}}(),n._onTileLoad=function(t,e,n){var r=new j.a(e.tileset,t,e,n);e.children.push(r);var i=this._tileManager.find(r.id).frameState;this.updateTile(r,i),this._frameNumber===i.frameNumber&&this.executeTraversal(r,i)},e}(x.a);function F(t,e){var n;if("undefined"==typeof Symbol||null==t[Symbol.iterator]){if(Array.isArray(t)||(n=function(t,e){if(!t)return;if("string"==typeof t)return B(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);"Object"===n&&t.constructor&&(n=t.constructor.name);if("Map"===n||"Set"===n)return Array.from(t);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return B(t,e)}(t))||e&&t&&"number"==typeof t.length){n&&(t=n);var r=0;return function(){return r>=t.length?{done:!0}:{done:!1,value:t[r++]}}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}return(n=t[Symbol.iterator]()).next.bind(n)}function B(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function G(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,r)}return n}function H(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?G(Object(n),!0).forEach((function(e){Object(s.a)(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):G(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}var W={description:"",ellipsoid:l.a.WGS84,modelMatrix:new u.a,throttleRequests:!0,maxRequests:64,maximumMemoryUsage:32,onTileLoad:function(){},onTileUnload:function(){},onTileError:function(){},onTraversalComplete:function(t){return t},contentLoader:void 0,viewDistanceScale:1,maximumScreenSpaceError:8,loadTiles:!0,updateTransforms:!0,viewportTraversersMap:null,loadOptions:{fetch:{}},attributions:[],basePath:"",i3s:{}},X=function(){function t(t,e){Object(f.a)(t),this.options=H(H({},W),e),this.tileset=t,this.loader=t.loader,this.type=t.type,this.url=t.url,this.basePath=t.basePath||d.b.dirname(this.url),this.modelMatrix=this.options.modelMatrix,this.ellipsoid=this.options.ellipsoid,this.lodMetricType=t.lodMetricType,this.lodMetricValue=t.lodMetricValue,this.refine=t.root.refine,this.loadOptions=this.options.loadOptions||{},this.root=null,this.roots={},this.cartographicCenter=null,this.cartesianCenter=null,this.zoom=1,this.boundingVolume=null,this.traverseCounter=0,this.geometricError=0,this._traverser=this._initializeTraverser(),this._cache=new g,this._requestScheduler=new p.a({throttleRequests:this.options.throttleRequests,maxRequests:this.options.maxRequests}),this._frameNumber=0,this._pendingCount=0,this._tiles={},this.selectedTiles=[],this._emptyTiles=[],this._requestedTiles=[],this.frameStateData={},this.lastUpdatedVieports=null,this._queryParams={},this._queryParamsString="",this.maximumMemoryUsage=this.options.maximumMemoryUsage||32,this.gpuMemoryUsageInBytes=0,this.stats=new h.a({id:this.url}),this._initializeStats(),this._extensionsUsed=void 0,this.dynamicScreenSpaceErrorComputedDensity=0,this.extras=null,this.asset={},this.credits={},this.description=this.options.description||"",this._initializeTileSet(t)}var e=t.prototype;return e.destroy=function(){this._destroy()},e.isLoaded=function(){return 0===this._pendingCount&&0!==this._frameNumber},e.setProps=function(t){this.options=H(H({},this.options),t)},e.setOptions=function(t){this.options=H(H({},this.options),t)},e.getTileUrl=function(t){return t.startsWith("data:")?t:""+t+this.queryParams},e.hasExtension=function(t){return Boolean(this._extensionsUsed&&this._extensionsUsed.indexOf(t)>-1)},e.update=function(t){if((!("loadTiles"in this.options)||this.options.loadTiles)&&!(this.traverseCounter>0)){!t&&this.lastUpdatedVieports?t=this.lastUpdatedVieports:this.lastUpdatedVieports=t,t instanceof Array||(t=[t]),this._cache.reset(),this._frameNumber++,this.traverseCounter=t.length;for(var e,n=[],r=F(t);!(e=r()).done;){var i=e.value.id;this._needTraverse(i)?n.push(i):this.traverseCounter--}for(var a,s=F(t);!(a=s()).done;){var o=a.value,u=o.id;if(this.roots[u]||(this.roots[u]=this._initializeTileHeaders(this.tileset,null)),n.includes(u)){var c=T(o,this._frameNumber);this._traverser.traverse(this.roots[u],c,this.options)}}}},e._needTraverse=function(t){var e=t;return this.options.viewportTraversersMap&&(e=this.options.viewportTraversersMap[t]),e===t},e._onTraversalEnd=function(t){var e=t.viewport.id;this.frameStateData[e]||(this.frameStateData[e]={selectedTiles:[],_requestedTiles:[],_emptyTiles:[]});var n=this.frameStateData[e],r=Object.values(this._traverser.selectedTiles);n.selectedTiles=r,n._requestedTiles=Object.values(this._traverser.requestedTiles),n._emptyTiles=Object.values(this._traverser.emptyTiles),this.traverseCounter--,this.traverseCounter>0||this._updateTiles()},e._updateTiles=function(){for(var t in this.selectedTiles=[],this._requestedTiles=[],this._emptyTiles=[],this.frameStateData){var e=this.frameStateData[t];this.selectedTiles=this.selectedTiles.concat(e.selectedTiles),this._requestedTiles=this._requestedTiles.concat(e._requestedTiles),this._emptyTiles=this._emptyTiles.concat(e._emptyTiles)}this.selectedTiles=this.options.onTraversalComplete(this.selectedTiles);for(var n,r=F(this.selectedTiles);!(n=r()).done;){var i=n.value;this._tiles[i.id]=i}this._loadTiles(),this._unloadTiles(),this._updateStats()},e._tilesChanged=function(t,e){if(t.length!==e.length)return!0;var n=new Set(t.map((function(t){return t.id}))),r=new Set(e.map((function(t){return t.id}))),i=t.filter((function(t){return!r.has(t.id)})).length>0;return i=i||e.filter((function(t){return!n.has(t.id)})).length>0},e._loadTiles=function(){for(var t,e=F(this._requestedTiles);!(t=e()).done;){var n=t.value;n.contentUnloaded&&this._loadTile(n)}},e._unloadTiles=function(){this._cache.unloadTiles(this,(function(t,e){return t._unloadTile(e)}))},e._updateStats=function(){for(var t,e=0,n=0,r=F(this.selectedTiles);!(t=r()).done;){var i=t.value;i.contentAvailable&&i.content&&(e++,i.content.pointCount&&(n+=i.content.pointCount))}this.stats.get("Tiles In View").count=this.selectedTiles.length,this.stats.get("Tiles To Render").count=e,this.stats.get("Points").count=n},e._initializeTileSet=function(t){this.root=this._initializeTileHeaders(t,null),this.type===M.c.TILES3D&&this._initializeCesiumTileset(t),this.type===M.c.I3S&&this._initializeI3STileset(),this._calculateViewProps()},e._calculateViewProps=function(){var t=this.root;Object(f.a)(t);var e=t.boundingVolume.center;if(!e)return console.warn("center was not pre-calculated for the root tile"),this.cartographicCenter=new c.a,void(this.zoom=1);this.cartographicCenter=l.a.WGS84.cartesianToCartographic(e,new c.a),this.cartesianCenter=e,this.zoom=E(t.boundingVolume)},e._initializeStats=function(){this.stats.get("Tiles In Tileset(s)"),this.stats.get("Tiles Loading"),this.stats.get("Tiles In Memory"),this.stats.get("Tiles In View"),this.stats.get("Tiles To Render"),this.stats.get("Tiles Loaded"),this.stats.get("Tiles Unloaded"),this.stats.get("Failed Tile Loads"),this.stats.get("Points","memory"),this.stats.get("Tile Memory Use","memory")},e._initializeTileHeaders=function(t,e){var n=new j.a(this,t.root,e);if(e&&(e.children.push(n),n.depth=e.depth+1),this.type===M.c.TILES3D){var r=[];for(r.push(n);r.length>0;){var i=r.pop();this.stats.get("Tiles In Tileset(s)").incrementCount();for(var a,s=F(i.header.children||[]);!(a=s()).done;){var o=a.value,u=new j.a(this,o,i);i.children.push(u),u.depth=i.depth+1,r.push(u)}}}return n},e._initializeTraverser=function(){var t;switch(this.type){case M.c.TILES3D:t=I;break;case M.c.I3S:t=L;break;default:t=x.a}return new t({basePath:this.basePath,onTraversalEnd:this._onTraversalEnd.bind(this)})},e._destroyTileHeaders=function(t){this._destroySubtree(t)},e._loadTile=function(){var t=Object(a.a)(i.a.mark((function t(e){var n;return i.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,this._onStartTileLoading(),t.next=4,e.loadContent();case 4:n=t.sent,t.next=10;break;case 7:t.prev=7,t.t0=t.catch(0),this._onTileLoadError(e,t.t0);case 10:return t.prev=10,this._onEndTileLoading(),this._onTileLoad(e,n),t.finish(10);case 14:case"end":return t.stop()}}),t,this,[[0,7,10,14]])})));return function(e){return t.apply(this,arguments)}}(),e._onTileLoadError=function(t,e){this.stats.get("Failed Tile Loads").incrementCount();var n=e.message||e.toString(),r=t.url;console.error("A 3D tile failed to load: "+t.url+" "+n),this.options.onTileError(t,n,r)},e._onTileLoad=function(t,e){e&&(t&&t.content&&function(t,e){Object(f.a)(t),Object(f.a)(e);var n=e.rtcCenter,r=e.gltfUpAxis,i=t.computedTransform,a=t.boundingVolume.center,s=new u.a(i);switch(n&&s.translate(n),r){case"Z":break;case"Y":var o=(new u.a).rotateX(Math.PI/2);s=s.multiplyRight(o);break;case"X":var h=(new u.a).rotateY(-Math.PI/2);s=s.multiplyRight(h)}e.isQuantized&&s.translate(e.quantizedVolumeOffset).scale(e.quantizedVolumeScale);var d=new c.a(a);e.cartesianModelMatrix=s,e.cartesianOrigin=d;var p=l.a.WGS84.cartesianToCartographic(d,new c.a),m=l.a.WGS84.eastNorthUpToFixedFrame(d).invert();e.cartographicModelMatrix=m.multiplyRight(s),e.cartographicOrigin=p,e.modelMatrix=e.cartographicModelMatrix}(t,t.content),this._addTileToCache(t),this.options.onTileLoad(t))},e._onStartTileLoading=function(){this._pendingCount++,this.stats.get("Tiles Loading").incrementCount()},e._onEndTileLoading=function(){this._pendingCount--,this.stats.get("Tiles Loading").decrementCount()},e._addTileToCache=function(t){this._cache.add(this,t,(function(e){return e._updateCacheStats(t)}))},e._updateCacheStats=function(t){this.stats.get("Tiles Loaded").incrementCount(),this.stats.get("Tiles In Memory").incrementCount(),this.gpuMemoryUsageInBytes+=t.content.byteLength||0,this.stats.get("Tile Memory Use").count=this.gpuMemoryUsageInBytes},e._unloadTile=function(t){this.gpuMemoryUsageInBytes-=t.content&&t.content.byteLength||0,this.stats.get("Tiles In Memory").decrementCount(),this.stats.get("Tiles Unloaded").incrementCount(),this.stats.get("Tile Memory Use").count=this.gpuMemoryUsageInBytes,this.options.onTileUnload(t),t.unloadContent()},e._destroy=function(){var t=[];for(this.root&&t.push(this.root);t.length>0;){for(var e,n=t.pop(),r=F(n.children);!(e=r()).done;){var i=e.value;t.push(i)}this._destroyTile(n)}this.root=null},e._destroySubtree=function(t){var e=t,n=[];for(n.push(e);n.length>0;){for(var r,i=F((t=n.pop()).children);!(r=i()).done;){var a=r.value;n.push(a)}t!==e&&this._destroyTile(t)}e.children=[]},e._destroyTile=function(t){this._cache.unloadTile(this,t),this._unloadTile(t),t.destroy()},e._initializeCesiumTileset=function(t){if(this.asset=t.asset,!this.asset)throw new Error("Tileset must have an asset property.");if("0.0"!==this.asset.version&&"1.0"!==this.asset.version)throw new Error("The tileset must be 3D Tiles version 0.0 or 1.0.");"tilesetVersion"in this.asset&&(this._queryParams.v=this.asset.tilesetVersion),this.credits={attributions:this.options.attributions||[]},this.description=this.options.description||"",this.properties=t.properties,this.geometricError=t.geometricError,this._extensionsUsed=t.extensionsUsed,this.extras=t.extras},e._initializeI3STileset=function(){this.loadOptions.i3s&&"token"in this.loadOptions.i3s&&(this._queryParams.token=this.loadOptions.i3s.token)},Object(o.a)(t,[{key:"tiles",get:function(){return Object.values(this._tiles)}},{key:"frameNumber",get:function(){return this._frameNumber}},{key:"queryParams",get:function(){return this._queryParamsString||(this._queryParamsString=function(t){for(var e=[],n=0,r=Object.keys(t);n<r.length;n++){var i=r[n];e.push(i+"="+t[i])}switch(e.length){case 0:return"";case 1:return"?"+e[0];default:return"?"+e.join("&")}}(this._queryParams)),this._queryParamsString}}]),t}()},"G+eI":function(t,e,n){"use strict";n.d(e,"a",(function(){return o}));var r=n("1OyB"),i=n("vuIU"),a=n("OyGM"),s=function(){function t(e,n){Object(r.a)(this,t),this.name=e,this.type=n,this.sampleSize=1,this.reset()}return Object(i.a)(t,[{key:"setSampleSize",value:function(t){return this.sampleSize=t,this}},{key:"incrementCount",value:function(){return this.addCount(1),this}},{key:"decrementCount",value:function(){return this.subtractCount(1),this}},{key:"addCount",value:function(t){return this._count+=t,this._samples++,this._checkSampling(),this}},{key:"subtractCount",value:function(t){return this._count-=t,this._samples++,this._checkSampling(),this}},{key:"addTime",value:function(t){return this._time+=t,this.lastTiming=t,this._samples++,this._checkSampling(),this}},{key:"timeStart",value:function(){return this._startTime=Object(a.a)(),this._timerPending=!0,this}},{key:"timeEnd",value:function(){return this._timerPending?(this.addTime(Object(a.a)()-this._startTime),this._timerPending=!1,this._checkSampling(),this):this}},{key:"getSampleAverageCount",value:function(){return this.sampleSize>0?this.lastSampleCount/this.sampleSize:0}},{key:"getSampleAverageTime",value:function(){return this.sampleSize>0?this.lastSampleTime/this.sampleSize:0}},{key:"getSampleHz",value:function(){return this.lastSampleTime>0?this.sampleSize/(this.lastSampleTime/1e3):0}},{key:"getAverageCount",value:function(){return this.samples>0?this.count/this.samples:0}},{key:"getAverageTime",value:function(){return this.samples>0?this.time/this.samples:0}},{key:"getHz",value:function(){return this.time>0?this.samples/(this.time/1e3):0}},{key:"reset",value:function(){return this.time=0,this.count=0,this.samples=0,this.lastTiming=0,this.lastSampleTime=0,this.lastSampleCount=0,this._count=0,this._time=0,this._samples=0,this._startTime=0,this._timerPending=!1,this}},{key:"_checkSampling",value:function(){this._samples===this.sampleSize&&(this.lastSampleTime=this._time,this.lastSampleCount=this._count,this.count+=this._count,this.time+=this._time,this.samples+=this._samples,this._time=0,this._count=0,this._samples=0)}}]),t}(),o=function(){function t(e){var n=e.id,i=e.stats;Object(r.a)(this,t),this.id=n,this.stats={},this._initializeStats(i),Object.seal(this)}return Object(i.a)(t,[{key:"get",value:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"count";return this._getOrCreate({name:t,type:e})}},{key:"size",get:function(){return Object.keys(this.stats).length}},{key:"reset",value:function(){for(var t in this.stats)this.stats[t].reset();return this}},{key:"forEach",value:function(t){for(var e in this.stats)t(this.stats[e])}},{key:"getTable",value:function(){var t={};return this.forEach((function(e){t[e.name]={time:e.time||0,count:e.count||0,average:e.getAverageTime()||0,hz:e.getHz()||0}})),t}},{key:"_initializeStats",value:function(){var t=this,e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[];e.forEach((function(e){return t._getOrCreate(e)}))}},{key:"_getOrCreate",value:function(t){if(!t||!t.name)return null;var e=t.name,n=t.type;return this.stats[e]||(this.stats[e]=t instanceof s?t:new s(e,n)),this.stats[e]}}]),t}()},GA6j:function(t,e,n){"use strict";n.d(e,"a",(function(){return b}));var r=n("1OyB"),i=n("vuIU"),a=n("Ji7U"),s=n("md7G"),o=n("foSv"),u=n("fxzv"),c=n("+H0l"),l=n("sSh/"),h=n("HwUG"),f=n("ZxFD"),d=n("n+fv");function p(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(t){return!1}}();return function(){var n,r=Object(o.a)(t);if(e){var i=Object(o.a)(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return Object(s.a)(this,n)}}var m=Object.freeze([1,0,0,0,1,0,0,0,1]),v=Object.freeze([0,0,0,0,0,0,0,0,0]),y=Object.freeze({COL0ROW0:0,COL0ROW1:1,COL0ROW2:2,COL1ROW0:3,COL1ROW1:4,COL1ROW2:5,COL2ROW0:6,COL2ROW1:7,COL2ROW2:8}),g={},b=function(t){Object(a.a)(n,t);var e=p(n);function n(t){var i;return Object(r.a)(this,n),i=e.call(this,-0,-0,-0,-0,-0,-0,-0,-0,-0),1===arguments.length&&Array.isArray(t)?i.copy(t):i.identity(),i}return Object(i.a)(n,[{key:"ELEMENTS",get:function(){return 9}},{key:"RANK",get:function(){return 3}},{key:"INDICES",get:function(){return y}},{key:"copy",value:function(t){return this[0]=t[0],this[1]=t[1],this[2]=t[2],this[3]=t[3],this[4]=t[4],this[5]=t[5],this[6]=t[6],this[7]=t[7],this[8]=t[8],this.check()}},{key:"set",value:function(t,e,n,r,i,a,s,o,u){return this[0]=t,this[1]=e,this[2]=n,this[3]=r,this[4]=i,this[5]=a,this[6]=s,this[7]=o,this[8]=u,this.check()}},{key:"setRowMajor",value:function(t,e,n,r,i,a,s,o,u){return this[0]=t,this[1]=r,this[2]=s,this[3]=e,this[4]=i,this[5]=o,this[6]=n,this[7]=a,this[8]=u,this.check()}},{key:"determinant",value:function(){return h.b(this)}},{key:"identity",value:function(){return this.copy(m)}},{key:"fromQuaternion",value:function(t){return h.c(this,t),this.check()}},{key:"transpose",value:function(){return h.i(this,this),this.check()}},{key:"invert",value:function(){return h.d(this,this),this.check()}},{key:"multiplyLeft",value:function(t){return h.e(this,t,this),this.check()}},{key:"multiplyRight",value:function(t){return h.e(this,this,t),this.check()}},{key:"rotate",value:function(t){return h.f(this,this,t),this.check()}},{key:"scale",value:function(t){return Array.isArray(t)?h.g(this,this,t):h.g(this,this,[t,t,t]),this.check()}},{key:"translate",value:function(t){return h.h(this,this,t),this.check()}},{key:"transform",value:function(t,e){switch(t.length){case 2:e=f.i(e||[-0,-0],t,this);break;case 3:e=d.p(e||[-0,-0,-0],t,this);break;case 4:e=Object(l.d)(e||[-0,-0,-0,-0],t,this);break;default:throw new Error("Illegal vector")}return Object(c.b)(e,t.length),e}},{key:"transformVector",value:function(t,e){return Object(c.c)("Matrix3.transformVector"),this.transform(t,e)}},{key:"transformVector2",value:function(t,e){return Object(c.c)("Matrix3.transformVector"),this.transform(t,e)}},{key:"transformVector3",value:function(t,e){return Object(c.c)("Matrix3.transformVector"),this.transform(t,e)}}],[{key:"IDENTITY",get:function(){return g.IDENTITY=g.IDENTITY||Object.freeze(new n(m)),g.IDENTITY}},{key:"ZERO",get:function(){return g.ZERO=g.ZERO||Object.freeze(new n(v)),g.ZERO}}]),n}(u.a)},HwUG:function(t,e,n){"use strict";n.d(e,"a",(function(){return i})),n.d(e,"i",(function(){return a})),n.d(e,"d",(function(){return s})),n.d(e,"b",(function(){return o})),n.d(e,"e",(function(){return u})),n.d(e,"h",(function(){return c})),n.d(e,"f",(function(){return l})),n.d(e,"g",(function(){return h})),n.d(e,"c",(function(){return f}));n("QFcT");var r=n("yU0y");function i(){var t=new r.a(9);return r.a!=Float32Array&&(t[1]=0,t[2]=0,t[3]=0,t[5]=0,t[6]=0,t[7]=0),t[0]=1,t[4]=1,t[8]=1,t}function a(t,e){if(t===e){var n=e[1],r=e[2],i=e[5];t[1]=e[3],t[2]=e[6],t[3]=n,t[5]=e[7],t[6]=r,t[7]=i}else t[0]=e[0],t[1]=e[3],t[2]=e[6],t[3]=e[1],t[4]=e[4],t[5]=e[7],t[6]=e[2],t[7]=e[5],t[8]=e[8];return t}function s(t,e){var n=e[0],r=e[1],i=e[2],a=e[3],s=e[4],o=e[5],u=e[6],c=e[7],l=e[8],h=l*s-o*c,f=-l*a+o*u,d=c*a-s*u,p=n*h+r*f+i*d;return p?(p=1/p,t[0]=h*p,t[1]=(-l*r+i*c)*p,t[2]=(o*r-i*s)*p,t[3]=f*p,t[4]=(l*n-i*u)*p,t[5]=(-o*n+i*a)*p,t[6]=d*p,t[7]=(-c*n+r*u)*p,t[8]=(s*n-r*a)*p,t):null}function o(t){var e=t[0],n=t[1],r=t[2],i=t[3],a=t[4],s=t[5],o=t[6],u=t[7],c=t[8];return e*(c*a-s*u)+n*(-c*i+s*o)+r*(u*i-a*o)}function u(t,e,n){var r=e[0],i=e[1],a=e[2],s=e[3],o=e[4],u=e[5],c=e[6],l=e[7],h=e[8],f=n[0],d=n[1],p=n[2],m=n[3],v=n[4],y=n[5],g=n[6],b=n[7],w=n[8];return t[0]=f*r+d*s+p*c,t[1]=f*i+d*o+p*l,t[2]=f*a+d*u+p*h,t[3]=m*r+v*s+y*c,t[4]=m*i+v*o+y*l,t[5]=m*a+v*u+y*h,t[6]=g*r+b*s+w*c,t[7]=g*i+b*o+w*l,t[8]=g*a+b*u+w*h,t}function c(t,e,n){var r=e[0],i=e[1],a=e[2],s=e[3],o=e[4],u=e[5],c=e[6],l=e[7],h=e[8],f=n[0],d=n[1];return t[0]=r,t[1]=i,t[2]=a,t[3]=s,t[4]=o,t[5]=u,t[6]=f*r+d*s+c,t[7]=f*i+d*o+l,t[8]=f*a+d*u+h,t}function l(t,e,n){var r=e[0],i=e[1],a=e[2],s=e[3],o=e[4],u=e[5],c=e[6],l=e[7],h=e[8],f=Math.sin(n),d=Math.cos(n);return t[0]=d*r+f*s,t[1]=d*i+f*o,t[2]=d*a+f*u,t[3]=d*s-f*r,t[4]=d*o-f*i,t[5]=d*u-f*a,t[6]=c,t[7]=l,t[8]=h,t}function h(t,e,n){var r=n[0],i=n[1];return t[0]=r*e[0],t[1]=r*e[1],t[2]=r*e[2],t[3]=i*e[3],t[4]=i*e[4],t[5]=i*e[5],t[6]=e[6],t[7]=e[7],t[8]=e[8],t}function f(t,e){var n=e[0],r=e[1],i=e[2],a=e[3],s=n+n,o=r+r,u=i+i,c=n*s,l=r*s,h=r*o,f=i*s,d=i*o,p=i*u,m=a*s,v=a*o,y=a*u;return t[0]=1-h-p,t[3]=l-y,t[6]=f+v,t[1]=l+y,t[4]=1-c-p,t[7]=d-m,t[2]=f-v,t[5]=d+m,t[8]=1-c-h,t}},KKCa:function(t,e){"function"==typeof Object.create?t.exports=function(t,e){t.super_=e,t.prototype=Object.create(e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}})}:t.exports=function(t,e){t.super_=e;var n=function(){};n.prototype=e.prototype,t.prototype=new n,t.prototype.constructor=t}},KU8r:function(t,e,n){"use strict";n.r(e),function(t){n.d(e,"isSupported",(function(){return h})),n.d(e,"open",(function(){return f})),n.d(e,"close",(function(){return d})),n.d(e,"read",(function(){return p})),n.d(e,"readFile",(function(){return m})),n.d(e,"readFileSync",(function(){return v})),n.d(e,"writeFile",(function(){return y})),n.d(e,"writeFileSync",(function(){return g})),n.d(e,"_readToArrayBuffer",(function(){return b}));var r=n("o0o1"),i=n.n(r),a=(n("wcNg"),n("HaE+")),s=n(19),o=n.n(s),u=n(20),c=n("MCLT"),l=function(t){return function(){throw new Error(t+" not available in browser")}},h=Boolean(o.a),f=null!==o.a&&void 0!==o.a&&o.a.open?Object(c.promisify)(o.a.open):l("fs.open"),d=null!==o.a&&void 0!==o.a&&o.a.close?Object(c.promisify)(o.a.close):l("fs.close"),p=null!==o.a&&void 0!==o.a&&o.a.read?Object(c.promisify)(o.a.read):l("fs.read"),m=null!==o.a&&void 0!==o.a&&o.a.readFile?Object(c.promisify)(o.a.readFile):l("fs.readFile"),v=null!==o.a&&void 0!==o.a&&o.a.readFileSync?o.a.readFileSync:l("fs.readFileSync"),y=null!==o.a&&void 0!==o.a&&o.a.writeFile?Object(c.promisify)(o.a.writeFile):l("fs.writeFile"),g=null!==o.a&&void 0!==o.a&&o.a.writeFileSync?o.a.writeFileSync:l("fs.writeFileSync");function b(t,e,n){return w.apply(this,arguments)}function w(){return(w=Object(a.a)(i.a.mark((function e(n,r,a){var s,o;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return s=t.alloc(a),e.next=3,p(n,s,0,a,r);case 3:if(o=e.sent,o.bytesRead===a){e.next=7;break}throw new Error("fs.read failed");case 7:return e.abrupt("return",Object(u.toArrayBuffer)(s));case 8:case"end":return e.stop()}}),e)})))).apply(this,arguments)}}.call(this,n("HDXh").Buffer)},MCLT:function(t,e,n){(function(t){n("E9XD");var r=Object.getOwnPropertyDescriptors||function(t){for(var e=Object.keys(t),n={},r=0;r<e.length;r++)n[e[r]]=Object.getOwnPropertyDescriptor(t,e[r]);return n},i=/%[sdj%]/g;e.format=function(t){if(!y(t)){for(var e=[],n=0;n<arguments.length;n++)e.push(o(arguments[n]));return e.join(" ")}n=1;for(var r=arguments,a=r.length,s=String(t).replace(i,(function(t){if("%%"===t)return"%";if(n>=a)return t;switch(t){case"%s":return String(r[n++]);case"%d":return Number(r[n++]);case"%j":try{return JSON.stringify(r[n++])}catch(e){return"[Circular]"}default:return t}})),u=r[n];n<a;u=r[++n])m(u)||!w(u)?s+=" "+u:s+=" "+o(u);return s},e.deprecate=function(n,r){if(void 0!==t&&!0===t.noDeprecation)return n;if(void 0===t)return function(){return e.deprecate(n,r).apply(this,arguments)};var i=!1;return function(){if(!i){if(t.throwDeprecation)throw new Error(r);t.traceDeprecation?console.trace(r):console.error(r),i=!0}return n.apply(this,arguments)}};var a,s={};function o(t,n){var r={seen:[],stylize:c};return arguments.length>=3&&(r.depth=arguments[2]),arguments.length>=4&&(r.colors=arguments[3]),p(n)?r.showHidden=n:n&&e._extend(r,n),g(r.showHidden)&&(r.showHidden=!1),g(r.depth)&&(r.depth=2),g(r.colors)&&(r.colors=!1),g(r.customInspect)&&(r.customInspect=!0),r.colors&&(r.stylize=u),l(r,t,r.depth)}function u(t,e){var n=o.styles[e];return n?"["+o.colors[n][0]+"m"+t+"["+o.colors[n][1]+"m":t}function c(t,e){return t}function l(t,n,r){if(t.customInspect&&n&&T(n.inspect)&&n.inspect!==e.inspect&&(!n.constructor||n.constructor.prototype!==n)){var i=n.inspect(r,t);return y(i)||(i=l(t,i,r)),i}var a=function(t,e){if(g(e))return t.stylize("undefined","undefined");if(y(e)){var n="'"+JSON.stringify(e).replace(/^"|"$/g,"").replace(/'/g,"\\'").replace(/\\"/g,'"')+"'";return t.stylize(n,"string")}if(v(e))return t.stylize(""+e,"number");if(p(e))return t.stylize(""+e,"boolean");if(m(e))return t.stylize("null","null")}(t,n);if(a)return a;var s=Object.keys(n),o=function(t){var e={};return t.forEach((function(t,n){e[t]=!0})),e}(s);if(t.showHidden&&(s=Object.getOwnPropertyNames(n)),_(n)&&(s.indexOf("message")>=0||s.indexOf("description")>=0))return h(n);if(0===s.length){if(T(n)){var u=n.name?": "+n.name:"";return t.stylize("[Function"+u+"]","special")}if(b(n))return t.stylize(RegExp.prototype.toString.call(n),"regexp");if(O(n))return t.stylize(Date.prototype.toString.call(n),"date");if(_(n))return h(n)}var c,w="",S=!1,E=["{","}"];(d(n)&&(S=!0,E=["[","]"]),T(n))&&(w=" [Function"+(n.name?": "+n.name:"")+"]");return b(n)&&(w=" "+RegExp.prototype.toString.call(n)),O(n)&&(w=" "+Date.prototype.toUTCString.call(n)),_(n)&&(w=" "+h(n)),0!==s.length||S&&0!=n.length?r<0?b(n)?t.stylize(RegExp.prototype.toString.call(n),"regexp"):t.stylize("[Object]","special"):(t.seen.push(n),c=S?function(t,e,n,r,i){for(var a=[],s=0,o=e.length;s<o;++s)M(e,String(s))?a.push(f(t,e,n,r,String(s),!0)):a.push("");return i.forEach((function(i){i.match(/^\d+$/)||a.push(f(t,e,n,r,i,!0))})),a}(t,n,r,o,s):s.map((function(e){return f(t,n,r,o,e,S)})),t.seen.pop(),function(t,e,n){if(t.reduce((function(t,e){return e.indexOf("\n")>=0&&0,t+e.replace(/\u001b\[\d\d?m/g,"").length+1}),0)>60)return n[0]+(""===e?"":e+"\n ")+" "+t.join(",\n  ")+" "+n[1];return n[0]+e+" "+t.join(", ")+" "+n[1]}(c,w,E)):E[0]+w+E[1]}function h(t){return"["+Error.prototype.toString.call(t)+"]"}function f(t,e,n,r,i,a){var s,o,u;if((u=Object.getOwnPropertyDescriptor(e,i)||{value:e[i]}).get?o=u.set?t.stylize("[Getter/Setter]","special"):t.stylize("[Getter]","special"):u.set&&(o=t.stylize("[Setter]","special")),M(r,i)||(s="["+i+"]"),o||(t.seen.indexOf(u.value)<0?(o=m(n)?l(t,u.value,null):l(t,u.value,n-1)).indexOf("\n")>-1&&(o=a?o.split("\n").map((function(t){return"  "+t})).join("\n").substr(2):"\n"+o.split("\n").map((function(t){return"   "+t})).join("\n")):o=t.stylize("[Circular]","special")),g(s)){if(a&&i.match(/^\d+$/))return o;(s=JSON.stringify(""+i)).match(/^"([a-zA-Z_][a-zA-Z_0-9]*)"$/)?(s=s.substr(1,s.length-2),s=t.stylize(s,"name")):(s=s.replace(/'/g,"\\'").replace(/\\"/g,'"').replace(/(^"|"$)/g,"'"),s=t.stylize(s,"string"))}return s+": "+o}function d(t){return Array.isArray(t)}function p(t){return"boolean"==typeof t}function m(t){return null===t}function v(t){return"number"==typeof t}function y(t){return"string"==typeof t}function g(t){return void 0===t}function b(t){return w(t)&&"[object RegExp]"===S(t)}function w(t){return"object"==typeof t&&null!==t}function O(t){return w(t)&&"[object Date]"===S(t)}function _(t){return w(t)&&("[object Error]"===S(t)||t instanceof Error)}function T(t){return"function"==typeof t}function S(t){return Object.prototype.toString.call(t)}function E(t){return t<10?"0"+t.toString(10):t.toString(10)}e.debuglog=function(n){if(g(a)&&(a={}.NODE_DEBUG||""),n=n.toUpperCase(),!s[n])if(new RegExp("\\b"+n+"\\b","i").test(a)){var r=t.pid;s[n]=function(){var t=e.format.apply(e,arguments);console.error("%s %d: %s",n,r,t)}}else s[n]=function(){};return s[n]},e.inspect=o,o.colors={bold:[1,22],italic:[3,23],underline:[4,24],inverse:[7,27],white:[37,39],grey:[90,39],black:[30,39],blue:[34,39],cyan:[36,39],green:[32,39],magenta:[35,39],red:[31,39],yellow:[33,39]},o.styles={special:"cyan",number:"yellow",boolean:"yellow",undefined:"grey",null:"bold",string:"green",date:"magenta",regexp:"red"},e.isArray=d,e.isBoolean=p,e.isNull=m,e.isNullOrUndefined=function(t){return null==t},e.isNumber=v,e.isString=y,e.isSymbol=function(t){return"symbol"==typeof t},e.isUndefined=g,e.isRegExp=b,e.isObject=w,e.isDate=O,e.isError=_,e.isFunction=T,e.isPrimitive=function(t){return null===t||"boolean"==typeof t||"number"==typeof t||"string"==typeof t||"symbol"==typeof t||void 0===t},e.isBuffer=n("1gqn");var j=["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"];function k(){var t=new Date,e=[E(t.getHours()),E(t.getMinutes()),E(t.getSeconds())].join(":");return[t.getDate(),j[t.getMonth()],e].join(" ")}function M(t,e){return Object.prototype.hasOwnProperty.call(t,e)}e.log=function(){console.log("%s - %s",k(),e.format.apply(e,arguments))},e.inherits=n("KKCa"),e._extend=function(t,e){if(!e||!w(e))return t;for(var n=Object.keys(e),r=n.length;r--;)t[n[r]]=e[n[r]];return t};var x="undefined"!=typeof Symbol?Symbol("util.promisify.custom"):void 0;function I(t,e){if(!t){var n=new Error("Promise was rejected with a falsy value");n.reason=t,t=n}return e(t)}e.promisify=function(t){if("function"!=typeof t)throw new TypeError('The "original" argument must be of type Function');if(x&&t[x]){var e;if("function"!=typeof(e=t[x]))throw new TypeError('The "util.promisify.custom" argument must be of type Function');return Object.defineProperty(e,x,{value:e,enumerable:!1,writable:!1,configurable:!0}),e}function e(){for(var e,n,r=new Promise((function(t,r){e=t,n=r})),i=[],a=0;a<arguments.length;a++)i.push(arguments[a]);i.push((function(t,r){t?n(t):e(r)}));try{t.apply(this,i)}catch(s){n(s)}return r}return Object.setPrototypeOf(e,Object.getPrototypeOf(t)),x&&Object.defineProperty(e,x,{value:e,enumerable:!1,writable:!1,configurable:!0}),Object.defineProperties(e,r(t))},e.promisify.custom=x,e.callbackify=function(e){if("function"!=typeof e)throw new TypeError('The "original" argument must be of type Function');function n(){for(var n=[],r=0;r<arguments.length;r++)n.push(arguments[r]);var i=n.pop();if("function"!=typeof i)throw new TypeError("The last argument must be of type Function");var a=this,s=function(){return i.apply(a,arguments)};e.apply(this,n).then((function(e){t.nextTick(s,null,e)}),(function(e){t.nextTick(I,e,s)}))}return Object.setPrototypeOf(n,Object.getPrototypeOf(e)),Object.defineProperties(n,r(e)),n}}).call(this,n("8oxB"))},Ns70:function(t,e,n){"use strict";n.d(e,"a",(function(){return N}));var r=n("ODXe"),i=n("1OyB"),a=n("vuIU"),s=n("zXfU"),o=n("tS8E"),u=n("gOKY"),c=n("Nw31"),l=n("a3TU"),h=n("n+fv"),f=(Math.max(6378137,6378137,6356752.314245179),function(t){return t}),d=new s.a;function p(t,e){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:f;return Object(l.f)(t)?(e[0]=n(t[0]),e[1]=n(t[1]),e[2]=t[2]):"longitude"in t?(e[0]=n(t.longitude),e[1]=n(t.latitude),e[2]=t.height):(e[0]=n(t.x),e[1]=n(t.y),e[2]=t.z),e}function m(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:d;return p(t,e,l.b._cartographicRadians?f:l.i)}function v(t,e){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:f;return Object(l.f)(e)?(e[0]=n(t[0]),e[1]=n(t[1]),e[2]=t[2]):"longitude"in e?(e.longitude=n(t[0]),e.latitude=n(t[1]),e.height=t[2]):(e.x=n(t[0]),e.y=n(t[1]),e.z=t[2]),e}function y(t,e){return v(t,e,l.b._cartographicRadians?f:l.h)}var g=new s.a,b=new s.a,w=new s.a;var O=new s.a,_={up:{south:"east",north:"west",west:"south",east:"north"},down:{south:"west",north:"east",west:"north",east:"south"},south:{up:"west",down:"east",west:"down",east:"up"},north:{up:"east",down:"west",west:"up",east:"down"},west:{up:"north",down:"south",north:"down",south:"up"},east:{up:"south",down:"north",north:"up",south:"down"}},T={north:[-1,0,0],east:[0,1,0],up:[0,0,1],south:[1,0,0],west:[0,-1,0],down:[0,0,-1]},S={east:new s.a,north:new s.a,up:new s.a,west:new s.a,south:new s.a,down:new s.a},E=new s.a,j=new s.a,k=new s.a;function M(t,e,n,r,i,a){var s,u,c,h=_[e]&&_[e][n];Object(o.a)(h&&(!r||r===h));var f=O.copy(i);if(Object(l.d)(f.x,0,1e-14)&&Object(l.d)(f.y,0,1e-14)){var d=Math.sign(f.z);s=E.fromArray(T[e]),"east"!==e&&"west"!==e&&s.scale(d),u=j.fromArray(T[n]),"east"!==n&&"west"!==n&&u.scale(d),c=k.fromArray(T[r]),"east"!==r&&"west"!==r&&c.scale(d)}else{var p=S.up,m=S.east,v=S.north;m.set(-f.y,f.x,0).normalize(),t.geodeticSurfaceNormal(f,p),v.copy(p).cross(m);var y=S.west,g=S.south;S.down.copy(p).scale(-1),y.copy(m).scale(-1),g.copy(v).scale(-1),s=S[e],u=S[n],c=S[r]}return a[0]=s.x,a[1]=s.y,a[2]=s.z,a[3]=0,a[4]=u.x,a[5]=u.y,a[6]=u.z,a[7]=0,a[8]=c.x,a[9]=c.y,a[10]=c.z,a[11]=0,a[12]=f.x,a[13]=f.y,a[14]=f.z,a[15]=1,a}var x,I=new s.a,C=new s.a,P=new s.a,A=new s.a,R=new s.a,D=new s.a,N=function(){function t(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0;Object(i.a)(this,t),Object(o.a)(e>=0),Object(o.a)(n>=0),Object(o.a)(r>=0),this.radii=new s.a(e,n,r),this.radiiSquared=new s.a(e*e,n*n,r*r),this.radiiToTheFourth=new s.a(e*e*e*e,n*n*n*n,r*r*r*r),this.oneOverRadii=new s.a(0===e?0:1/e,0===n?0:1/n,0===r?0:1/r),this.oneOverRadiiSquared=new s.a(0===e?0:1/(e*e),0===n?0:1/(n*n),0===r?0:1/(r*r)),this.minimumRadius=Math.min(e,n,r),this.maximumRadius=Math.max(e,n,r),this.centerToleranceSquared=u.a.EPSILON1,0!==this.radiiSquared.z&&(this.squaredXOverSquaredZ=this.radiiSquared.x/this.radiiSquared.z),Object.freeze(this)}return Object(a.a)(t,[{key:"equals",value:function(t){return this===t||Boolean(t&&this.radii.equals(t.radii))}},{key:"toString",value:function(){return this.radii.toString()}},{key:"cartographicToCartesian",value:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[0,0,0],n=C,i=P,a=Object(r.a)(t,3),s=a[2];this.geodeticSurfaceNormalCartographic(t,n),i.copy(this.radiiSquared).scale(n);var o=Math.sqrt(n.dot(i));return i.scale(1/o),n.scale(s),i.add(n),i.to(e)}},{key:"cartesianToCartographic",value:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[0,0,0];D.from(t);var n=this.scaleToGeodeticSurface(D,A);if(n){var r=this.geodeticSurfaceNormal(n,C),i=R;i.copy(D).subtract(n);var a=Math.atan2(r.y,r.x),s=Math.asin(r.z),o=Math.sign(h.e(i,D))*h.h(i);return y([a,s,o],e)}}},{key:"eastNorthUpToFixedFrame",value:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:new c.a;return M(this,"east","north","up",t,e)}},{key:"localFrameToFixedFrame",value:function(t,e,n,r){var i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:new c.a;return M(this,t,e,n,r,i)}},{key:"geocentricSurfaceNormal",value:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[0,0,0];return I.from(t).normalize().to(e)}},{key:"geodeticSurfaceNormalCartographic",value:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[0,0,0],n=m(t),r=n[0],i=n[1],a=Math.cos(i);return I.set(a*Math.cos(r),a*Math.sin(r),Math.sin(i)).normalize(),I.to(e)}},{key:"geodeticSurfaceNormal",value:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[0,0,0];return I.from(t).scale(this.oneOverRadiiSquared).normalize().to(e)}},{key:"scaleToGeodeticSurface",value:function(t,e){return function(t,e){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:new s.a,r=e.oneOverRadii,i=e.oneOverRadiiSquared,a=e.centerToleranceSquared;g.from(t);var o=t.x,c=t.y,l=t.z,h=r.x,f=r.y,d=r.z,p=o*o*h*h,m=c*c*f*f,v=l*l*d*d,y=p+m+v,O=Math.sqrt(1/y);if(Number.isFinite(O)){var _=b;if(_.copy(t).scale(O),y<a)return _.to(n);var T=i.x,S=i.y,E=i.z,j=w;j.set(_.x*T*2,_.y*S*2,_.z*E*2);var k,M,x,I,C=(1-O)*t.len()/(.5*j.len()),P=0;do{var A=(k=1/(1+(C-=P)*T))*k,R=(M=1/(1+C*S))*M,D=(x=1/(1+C*E))*x,N=A*k,q=R*M,z=D*x,U=p*N*T+m*q*S+v*z*E,V=-2*U;P=(I=p*A+m*R+v*D-1)/V}while(Math.abs(I)>u.a.EPSILON12);return g.scale([k,M,x]).to(n)}}(t,this,e)}},{key:"scaleToGeocentricSurface",value:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[0,0,0];A.from(t);var n=A.x,r=A.y,i=A.z,a=this.oneOverRadiiSquared,s=1/Math.sqrt(n*n*a.x+r*r*a.y+i*i*a.z);return A.multiplyScalar(s).to(e)}},{key:"transformPositionToScaledSpace",value:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[0,0,0];return A.from(t).scale(this.oneOverRadii).to(e)}},{key:"transformPositionFromScaledSpace",value:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[0,0,0];return A.from(t).scale(this.radii).to(e)}},{key:"getSurfaceNormalIntersectionWithZAxis",value:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:[0,0,0];Object(o.a)(Object(l.d)(this.radii.x,this.radii.y,u.a.EPSILON15)),Object(o.a)(this.radii.z>0),A.from(t);var r=A.z*(1-this.squaredXOverSquaredZ);if(!(Math.abs(r)>=this.radii.z-e))return A.set(0,0,r).to(n)}}],[{key:"WGS84",get:function(){return x=x||new t(6378137,6378137,6356752.314245179)}}]),t}()},OyGM:function(t,e,n){"use strict";(function(t){function r(){var e;if("undefined"!=typeof window&&window.performance)e=window.performance.now();else if(void 0!==t&&t.hrtime){var n=t.hrtime();e=1e3*n[0]+n[1]/1e6}else e=Date.now();return e}n.d(e,"a",(function(){return r}))}).call(this,n("8oxB"))},VnMh:function(t,e,n){"use strict";n.d(e,"b",(function(){return r})),n.d(e,"a",(function(){return s}));var r={};function i(t){var e=t&&t.lastIndexOf("/");return e>=0?t.substr(0,e):""}function a(){for(var t=arguments.length,e=new Array(t),n=0;n<t;n++)e[n]=arguments[n];var r="/";return(e=e.map((function(t,n){return n&&(t=t.replace(new RegExp("^"+r),"")),n!==e.length-1&&(t=t.replace(new RegExp(r+"$"),"")),t}))).join(r)}n.r(r),n.d(r,"dirname",(function(){return i})),n.d(r,"join",(function(){return a}));var s=n("KU8r")},Xjzu:function(t,e,n){"use strict";n.d(e,"a",(function(){return N}));var r=n("1OyB"),i=n("vuIU"),a=n("Ji7U"),s=n("md7G"),o=n("foSv"),u=n("41X0"),c=n("+H0l"),l=n("tS8E"),h=n("yU0y"),f=n("HwUG"),d=n("n+fv"),p=n("bl9R");function m(){var t=new h.a(4);return h.a!=Float32Array&&(t[0]=0,t[1]=0,t[2]=0),t[3]=1,t}function v(t,e,n){n*=.5;var r=Math.sin(n);return t[0]=r*e[0],t[1]=r*e[1],t[2]=r*e[2],t[3]=Math.cos(n),t}function y(t,e,n){var r=e[0],i=e[1],a=e[2],s=e[3],o=n[0],u=n[1],c=n[2],l=n[3];return t[0]=r*l+s*o+i*c-a*u,t[1]=i*l+s*u+a*o-r*c,t[2]=a*l+s*c+r*u-i*o,t[3]=s*l-r*o-i*u-a*c,t}function g(t,e,n,r){var i,a,s,o,u,c=e[0],l=e[1],f=e[2],d=e[3],p=n[0],m=n[1],v=n[2],y=n[3];return(a=c*p+l*m+f*v+d*y)<0&&(a=-a,p=-p,m=-m,v=-v,y=-y),1-a>h.b?(i=Math.acos(a),s=Math.sin(i),o=Math.sin((1-r)*i)/s,u=Math.sin(r*i)/s):(o=1-r,u=r),t[0]=o*c+u*p,t[1]=o*l+u*m,t[2]=o*f+u*v,t[3]=o*d+u*y,t}function b(t,e){var n,r=e[0]+e[4]+e[8];if(r>0)n=Math.sqrt(r+1),t[3]=.5*n,n=.5/n,t[0]=(e[5]-e[7])*n,t[1]=(e[6]-e[2])*n,t[2]=(e[1]-e[3])*n;else{var i=0;e[4]>e[0]&&(i=1),e[8]>e[3*i+i]&&(i=2);var a=(i+1)%3,s=(i+2)%3;n=Math.sqrt(e[3*i+i]-e[3*a+a]-e[3*s+s]+1),t[i]=.5*n,n=.5/n,t[3]=(e[3*a+s]-e[3*s+a])*n,t[a]=(e[3*a+i]+e[3*i+a])*n,t[s]=(e[3*s+i]+e[3*i+s])*n}return t}p.b,p.g,p.c,p.l;var w,O,_,T,S,E,j=p.a,k=p.k,M=p.d,x=p.i,I=p.h,C=p.m,P=p.j,A=(p.f,p.e,w=d.c(),O=d.f(1,0,0),_=d.f(0,1,0),function(t,e,n){var r=d.e(e,n);return r<-.999999?(d.d(w,O,e),d.g(w)<1e-6&&d.d(w,_,e),d.k(w,w),v(t,w,Math.PI),t):r>.999999?(t[0]=0,t[1]=0,t[2]=0,t[3]=1,t):(d.d(w,e,n),t[0]=w[0],t[1]=w[1],t[2]=w[2],t[3]=1+r,P(t,t))});T=m(),S=m(),E=f.a();function R(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(t){return!1}}();return function(){var n,r=Object(o.a)(t);if(e){var i=Object(o.a)(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return Object(s.a)(this,n)}}var D=[0,0,0,1],N=function(t){Object(a.a)(n,t);var e=R(n);function n(){var t,i=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,a=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,s=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0,o=arguments.length>3&&void 0!==arguments[3]?arguments[3]:1;return Object(r.a)(this,n),t=e.call(this,-0,-0,-0,-0),Array.isArray(i)&&1===arguments.length?t.copy(i):t.set(i,a,s,o),t}return Object(i.a)(n,[{key:"copy",value:function(t){return this[0]=t[0],this[1]=t[1],this[2]=t[2],this[3]=t[3],this.check()}},{key:"set",value:function(t,e,n,r){return this[0]=t,this[1]=e,this[2]=n,this[3]=r,this.check()}},{key:"fromMatrix3",value:function(t){return b(this,t),this.check()}},{key:"identity",value:function(){var t;return(t=this)[0]=0,t[1]=0,t[2]=0,t[3]=1,this.check()}},{key:"fromAxisRotation",value:function(t,e){return v(this,t,e),this.check()}},{key:"setAxisAngle",value:function(t,e){return this.fromAxisRotation(t,e)}},{key:"ELEMENTS",get:function(){return 4}},{key:"x",get:function(){return this[0]},set:function(t){this[0]=Object(c.a)(t)}},{key:"y",get:function(){return this[1]},set:function(t){this[1]=Object(c.a)(t)}},{key:"z",get:function(){return this[2]},set:function(t){this[2]=Object(c.a)(t)}},{key:"w",get:function(){return this[3]},set:function(t){this[3]=Object(c.a)(t)}},{key:"len",value:function(){return I(this)}},{key:"lengthSquared",value:function(){return C(this)}},{key:"dot",value:function(t,e){if(void 0!==e)throw new Error("Quaternion.dot only takes one argument");return M(this,t)}},{key:"rotationTo",value:function(t,e){return A(this,t,e),this.check()}},{key:"add",value:function(t,e){if(void 0!==e)throw new Error("Quaternion.add only takes one argument");return j(this,this,t),this.check()}},{key:"calculateW",value:function(){var t,e,n,r,i;return t=this,n=(e=this)[0],r=e[1],i=e[2],t[0]=n,t[1]=r,t[2]=i,t[3]=Math.sqrt(Math.abs(1-n*n-r*r-i*i)),this.check()}},{key:"conjugate",value:function(){var t,e;return e=this,(t=this)[0]=-e[0],t[1]=-e[1],t[2]=-e[2],t[3]=e[3],this.check()}},{key:"invert",value:function(){var t,e,n,r,i,a,s,o;return t=this,n=(e=this)[0],r=e[1],i=e[2],a=e[3],o=(s=n*n+r*r+i*i+a*a)?1/s:0,t[0]=-n*o,t[1]=-r*o,t[2]=-i*o,t[3]=a*o,this.check()}},{key:"lerp",value:function(t,e,n){return x(this,t,e,n),this.check()}},{key:"multiplyRight",value:function(t,e){return Object(l.a)(!e),y(this,this,t),this.check()}},{key:"multiplyLeft",value:function(t,e){return Object(l.a)(!e),y(this,t,this),this.check()}},{key:"normalize",value:function(){var t=this.len(),e=t>0?1/t:0;return this[0]=this[0]*e,this[1]=this[1]*e,this[2]=this[2]*e,this[3]=this[3]*e,0===t&&(this[3]=1),this.check()}},{key:"rotateX",value:function(t){return function(t,e,n){n*=.5;var r=e[0],i=e[1],a=e[2],s=e[3],o=Math.sin(n),u=Math.cos(n);t[0]=r*u+s*o,t[1]=i*u+a*o,t[2]=a*u-i*o,t[3]=s*u-r*o}(this,this,t),this.check()}},{key:"rotateY",value:function(t){return function(t,e,n){n*=.5;var r=e[0],i=e[1],a=e[2],s=e[3],o=Math.sin(n),u=Math.cos(n);t[0]=r*u-a*o,t[1]=i*u+s*o,t[2]=a*u+r*o,t[3]=s*u-i*o}(this,this,t),this.check()}},{key:"rotateZ",value:function(t){return function(t,e,n){n*=.5;var r=e[0],i=e[1],a=e[2],s=e[3],o=Math.sin(n),u=Math.cos(n);t[0]=r*u+i*o,t[1]=i*u-r*o,t[2]=a*u+s*o,t[3]=s*u-a*o}(this,this,t),this.check()}},{key:"scale",value:function(t){return k(this,this,t),this.check()}},{key:"slerp",value:function(t,e,n){switch(arguments.length){case 1:var r=arguments[0],i=r.start;t=void 0===i?D:i,e=r.target,n=r.ratio;break;case 2:var a=Array.prototype.slice.call(arguments);e=a[0],n=a[1],t=this}return g(this,t,e,n),this.check()}},{key:"transformVector4",value:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:t;return p.o(e,t,this),Object(c.b)(e,4)}},{key:"lengthSq",value:function(){return this.lengthSquared()}},{key:"setFromAxisAngle",value:function(t,e){return this.setAxisAngle(t,e)}},{key:"premultiply",value:function(t,e){return this.multiplyLeft(t,e)}},{key:"multiply",value:function(t,e){return this.multiplyRight(t,e)}}]),n}(u.a)},fa8B:function(t,e,n){"use strict";n.d(e,"a",(function(){return C}));var r=n("o0o1"),i=n.n(r),a=n("rePB"),s=(n("wcNg"),n("HaE+")),o=n("vuIU"),u=n("zXfU"),c=n("Nw31"),l=n("rOwd"),h=n("xszv"),f=n("FJ6+"),d=n("KQm4"),p=n("a3TU"),m=n("Xjzu"),v=n("GA6j"),y=n("Ns70"),g=n("Qk7e");function b(t){return null!=t}var w=new u.a,O=new u.a,_=new u.a;new c.a;function T(t,e,n){if(Object(g.a)(t,"3D Tile: boundingVolume must be defined"),t.box)return function(t,e,n){var r=new u.a(t[0],t[1],t[2]);e.transform(r,r);var i=[];if(10===t.length){var a=t.slice(3,6),s=new m.a;s.fromArray(t,6);var o=new u.a([1,0,0]),c=new u.a([0,1,0]),h=new u.a([0,0,1]);o.transformByQuaternion(s),o.scale(a[0]),c.transformByQuaternion(s),c.scale(a[1]),h.transformByQuaternion(s),h.scale(a[2]),i=[].concat(Object(d.a)(o.toArray()),Object(d.a)(c.toArray()),Object(d.a)(h.toArray()))}else i=[].concat(Object(d.a)(t.slice(3,6)),Object(d.a)(t.slice(6,9)),Object(d.a)(t.slice(9,12)));var f=e.transformAsVector(i.slice(0,3)),p=e.transformAsVector(i.slice(3,6)),y=e.transformAsVector(i.slice(6,9)),g=new v.a([f[0],f[1],f[2],p[0],p[1],p[2],y[0],y[1],y[2]]);if(b(n))return n.center=r,n.halfAxes=g,n;return new l.c(r,g)}(t.box,e,n);if(t.region){var r=t.region,i=r[0],a=r[1],s=r[2],o=r[3],h=r[4],f=r[5],w=y.a.WGS84.cartographicToCartesian([Object(p.c)(i),Object(p.c)(o),h],O),T=y.a.WGS84.cartographicToCartesian([Object(p.c)(s),Object(p.c)(a),f],_),E=(new u.a).addVectors(w,T).multiplyScalar(.5),j=(new u.a).subVectors(w,T).len()/2;return S([E[0],E[1],E[2],j],new c.a)}if(t.sphere)return S(t.sphere,e,n);throw new Error("3D Tile: boundingVolume must contain a sphere, region, or box")}function S(t,e,n){var r=new u.a(t[0],t[1],t[2]);e.transform(r,r);var i=e.getScale(w),a=Math.max(Math.max(i[0],i[1]),i[2]),s=t[3]*a;return b(n)?(n.center=r,n.radius=s,n):new l.a(r,s)}new u.a,new u.a,new c.a,new u.a,new u.a,new u.a;function E(t,e){if(t.dynamicScreenSpaceError&&t.dynamicScreenSpaceErrorComputedDensity){var n=t.dynamicScreenSpaceErrorComputedDensity,r=t.dynamicScreenSpaceErrorFactor;return function(t,e){var n=t*e;return 1-Math.exp(-n*n)}(e,n)*r}return 0}var j=n("BZIa");var k=n("vrw9");function M(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,r)}return n}function x(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?M(Object(n),!0).forEach((function(e){Object(a.a)(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):M(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}var I=new u.a;var C=function(){function t(t,e,n,r){void 0===r&&(r=""),this.header=e,this.tileset=t,this.id=r||e.id,this.url=e.url,this.parent=n,this.refine=this._getRefine(e.refine),this.type=e.type,this.contentUrl=e.contentUrl,this.lodMetricType="geometricError",this.lodMetricValue=0,this.boundingVolume=null,this.content=null,this.contentState=f.d.UNLOADED,this.gpuMemoryUsageInBytes=0,this.children=[],this.hasEmptyContent=!1,this.hasTilesetContent=!1,this.depth=0,this.viewportIds=[],this.userData={},this._priority=0,this._touchedFrame=0,this._visitedFrame=0,this._selectedFrame=0,this._requestedFrame=0,this._screenSpaceError=0,this._cacheNode=null,this._frameNumber=null,this._cacheNode=null,this.traverser=new k.a({}),this._shouldRefine=!1,this._distanceToCamera=0,this._centerZDepth=0,this._visible=void 0,this._inRequestVolume=!1,this._stackLength=0,this._selectionDepth=0,this._initialTransform=new c.a,this.transform=new c.a,this._initializeLodMetric(e),this._initializeTransforms(e),this._initializeBoundingVolumes(e),this._initializeContent(e),this._initializeRenderingState(e),this._lodJudge=null,this._expireDate=null,this._expiredContent=null,Object.seal(this)}var e=t.prototype;return e.destroy=function(){this.header=null},e.isDestroyed=function(){return null===this.header},e.getScreenSpaceError=function(t,e){switch(this.tileset.type){case f.c.I3S:return Object(j.a)(this,t);case f.c.TILES3D:return function(t,e,n){var r=t.tileset,i=t.parent&&t.parent.lodMetricValue||t.lodMetricValue,a=n?i:t.lodMetricValue;if(0===a)return 0;var s=Math.max(t._distanceToCamera,1e-7),o=e.height,u=e.sseDenominator,c=a*o*(r.options.viewDistanceScale||1)/(s*u);return c-=E(r,s)}(this,t,e);default:throw new Error("Unsupported tileset type")}},e._getPriority=function(){var t=this.tileset._traverser,e=t.options.skipLevelOfDetail,n=this.refine===f.e.ADD||e;if(n&&!this.isVisible&&void 0!==this._visible)return-1;if(this.contentState===f.d.UNLOADED)return-1;var r=this.parent,i=r&&(!n||0===this._screenSpaceError||r.hasTilesetContent)?r._screenSpaceError:this._screenSpaceError,a=t.root?t.root._screenSpaceError:0;return Math.max(a-i,0)},e.loadContent=function(){var t=Object(s.a)(i.a.mark((function t(){var e,n,r,a,s;return i.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(!this.hasEmptyContent){t.next=2;break}return t.abrupt("return",!1);case 2:if(!this.content){t.next=4;break}return t.abrupt("return",!0);case 4:return this.contentExpired&&(this._expireDate=null),this.contentState=f.d.LOADING,t.next=9,this.tileset._requestScheduler.scheduleRequest(this.id,this._getPriority.bind(this));case 9:if(e=t.sent){t.next=13;break}return this.contentState=f.d.UNLOADED,t.abrupt("return",!1);case 13:return t.prev=13,r=this.tileset.getTileUrl(this.contentUrl),a=this.tileset.loader,s=x(x({},this.tileset.loadOptions),{},((n={})[a.id]=x(x({},this.tileset.loadOptions[a.id]),{},{isTileset:"json"===this.type},this._getLoaderSpecificOptions(a.id)),n)),t.next=19,Object(h.a)(r,a,s);case 19:if(this.content=t.sent,!this.tileset.options.contentLoader){t.next=23;break}return t.next=23,this.tileset.options.contentLoader(this);case 23:return this._isTileset()&&this.tileset._initializeTileHeaders(this.content,this),this.contentState=f.d.READY,this._onContentLoaded(),t.abrupt("return",!0);case 29:throw t.prev=29,t.t0=t.catch(13),this.contentState=f.d.FAILED,t.t0;case 33:return t.prev=33,e.done(),t.finish(33);case 36:case"end":return t.stop()}}),t,this,[[13,29,33,36]])})));return function(){return t.apply(this,arguments)}}(),e.unloadContent=function(){return this.content&&this.content.destroy&&this.content.destroy(),this.content=null,this.header.content&&this.header.content.destroy&&this.header.content.destroy(),this.header.content=null,this.contentState=f.d.UNLOADED,!0},e.updateVisibility=function(t,e){if(this._frameNumber!==t.frameNumber){var n=this.parent,r=n?n._visibilityPlaneMask:l.b.MASK_INDETERMINATE;if(this.tileset._traverser.options.updateTransforms){var i=n?n.computedTransform:this.tileset.modelMatrix;this._updateTransform(i)}this._distanceToCamera=this.distanceToTile(t),this._screenSpaceError=this.getScreenSpaceError(t,!1),this._visibilityPlaneMask=this.visibility(t,r),this._visible=this._visibilityPlaneMask!==l.b.MASK_OUTSIDE,this._inRequestVolume=this.insideViewerRequestVolume(t),this._frameNumber=t.frameNumber,this.viewportIds=e}},e.visibility=function(t,e){var n=t.cullingVolume,r=this.boundingVolume;return n.computeVisibilityWithPlaneMask(r,e)},e.contentVisibility=function(){return!0},e.distanceToTile=function(t){var e=this.boundingVolume;return Math.sqrt(Math.max(e.distanceSquaredTo(t.camera.position),0))},e.cameraSpaceZDepth=function(t){var e=t.camera,n=this.boundingVolume;return I.subVectors(n.center,e.position),e.direction.dot(I)},e.insideViewerRequestVolume=function(t){var e=this._viewerRequestVolume;return!e||e.distanceSquaredTo(t.camera.position)<=0},e.updateExpiration=function(){if(null!=this._expireDate&&this.contentReady&&!this.hasEmptyContent){var t=Date.now();Date.lessThan(this._expireDate,t)&&(this.contentState=f.d.EXPIRED,this._expiredContent=this.content)}},e._initializeLodMetric=function(t){"lodMetricType"in t?this.lodMetricType=t.lodMetricType:(this.lodMetricType=this.parent&&this.parent.lodMetricType||this.tileset.lodMetricType,console.warn("3D Tile: Required prop lodMetricType is undefined. Using parent lodMetricType")),"lodMetricValue"in t?this.lodMetricValue=t.lodMetricValue:(this.lodMetricValue=this.parent&&this.parent.lodMetricValue||this.tileset.lodMetricValue,console.warn("3D Tile: Required prop lodMetricValue is undefined. Using parent lodMetricValue"))},e._initializeTransforms=function(t){this.transform=t.transform?new c.a(t.transform):new c.a;var e=this.parent,n=this.tileset,r=e&&e.computedTransform?e.computedTransform.clone():n.modelMatrix.clone();this.computedTransform=new c.a(r).multiplyRight(this.transform);var i=e&&e._initialTransform?e._initialTransform.clone():new c.a;this._initialTransform=new c.a(i).multiplyRight(this.transform)},e._initializeBoundingVolumes=function(t){this._contentBoundingVolume=null,this._viewerRequestVolume=null,this._updateBoundingVolume(t)},e._initializeContent=function(t){this.content={_tileset:this.tileset,_tile:this},this.hasEmptyContent=!0,this.contentState=f.d.UNLOADED,this.hasTilesetContent=!1,t.contentUrl&&(this.content=null,this.hasEmptyContent=!1)},e._initializeRenderingState=function(t){this.depth=t.level||(this.parent?this.parent.depth+1:0),this._shouldRefine=!1,this._distanceToCamera=0,this._centerZDepth=0,this._screenSpaceError=0,this._visibilityPlaneMask=l.b.MASK_INDETERMINATE,this._visible=void 0,this._inRequestVolume=!1,this._stackLength=0,this._selectionDepth=0,this._frameNumber=0,this._touchedFrame=0,this._visitedFrame=0,this._selectedFrame=0,this._requestedFrame=0,this._priority=0},e._getRefine=function(t){return t||this.parent&&this.parent.refine||f.e.REPLACE},e._isTileset=function(){return-1!==this.contentUrl.indexOf(".json")},e._onContentLoaded=function(){switch(this.content&&this.content.type){case"vctr":case"geom":this.tileset._traverser.disableSkipLevelOfDetail=!0}this._isTileset()&&(this.hasTilesetContent=!0)},e._updateBoundingVolume=function(t){this.boundingVolume=T(t.boundingVolume,this.computedTransform,this.boundingVolume);var e=t.content;e&&(e.boundingVolume&&(this._contentBoundingVolume=T(e.boundingVolume,this.computedTransform,this._contentBoundingVolume)),t.viewerRequestVolume&&(this._viewerRequestVolume=T(t.viewerRequestVolume,this.computedTransform,this._viewerRequestVolume)))},e._updateTransform=function(t){void 0===t&&(t=new c.a);var e=t.clone().multiplyRight(this.transform);!e.equals(this.computedTransform)&&(this.computedTransform=e,this._updateBoundingVolume(this.header))},e._getLoaderSpecificOptions=function(t){switch(t){case"i3s":return x(x({},this.tileset.options.i3s),{},{tile:this.header,tileset:this.tileset.tileset,isTileHeader:!1});case"3d-tiles":case"cesium-ion":default:return{assetGltfUpAxis:(e=this.tileset.tileset).asset&&e.asset.gltfUpAxis||"Y"}}var e},Object(o.a)(t,[{key:"selected",get:function(){return this._selectedFrame===this.tileset._frameNumber}},{key:"isVisible",get:function(){return this._visible}},{key:"isVisibleAndInRequestVolume",get:function(){return this._visible&&this._inRequestVolume}},{key:"hasRenderContent",get:function(){return!this.hasEmptyContent&&!this.hasTilesetContent}},{key:"hasChildren",get:function(){return this.children.length>0||this.header.children&&this.header.children.length>0}},{key:"contentReady",get:function(){return this.contentState===f.d.READY||this.hasEmptyContent}},{key:"contentAvailable",get:function(){return Boolean(this.contentReady&&this.hasRenderContent||this._expiredContent&&!this.contentFailed)}},{key:"hasUnloadedContent",get:function(){return this.hasRenderContent&&this.contentUnloaded}},{key:"contentUnloaded",get:function(){return this.contentState===f.d.UNLOADED}},{key:"contentExpired",get:function(){return this.contentState===f.d.EXPIRED}},{key:"contentFailed",get:function(){return this.contentState===f.d.FAILED}},{key:"extras",get:function(){return this.header.extras}}]),t}()},gOKY:function(t,e,n){"use strict";e.a={EPSILON1:.1,EPSILON2:.01,EPSILON3:.001,EPSILON4:1e-4,EPSILON5:1e-5,EPSILON6:1e-6,EPSILON7:1e-7,EPSILON8:1e-8,EPSILON9:1e-9,EPSILON10:1e-10,EPSILON11:1e-11,EPSILON12:1e-12,EPSILON13:1e-13,EPSILON14:1e-14,EPSILON15:1e-15,EPSILON16:1e-16,EPSILON17:1e-17,EPSILON18:1e-18,EPSILON19:1e-19,EPSILON20:1e-20,PI_OVER_TWO:Math.PI/2,PI_OVER_FOUR:Math.PI/4,PI_OVER_SIX:Math.PI/6,TWO_PI:2*Math.PI}},rOwd:function(t,e,n){"use strict";n.d(e,"a",(function(){return l})),n.d(e,"c",(function(){return I})),n.d(e,"b",(function(){return L})),n.d(e,"d",(function(){return D})),n.d(e,"e",(function(){return nt})),n.d(e,"f",(function(){return St}));var r=Object.freeze({OUTSIDE:-1,INTERSECTING:0,INSIDE:1}),i=n("1OyB"),a=n("vuIU"),s=n("zXfU"),o=(new s.a,new s.a,n("ZaHm")),u=new s.a,c=new s.a,l=function(){function t(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[0,0,0],n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;Object(i.a)(this,t),this.radius=-0,this.center=new s.a,this.fromCenterRadius(e,n)}return Object(a.a)(t,[{key:"fromCenterRadius",value:function(t,e){return this.center.from(t),this.radius=e,this}},{key:"fromCornerPoints",value:function(t,e){return e=u.from(e),this.center=(new s.a).from(t).add(e).scale(.5),this.radius=this.center.distance(e),this}},{key:"equals",value:function(t){return this===t||Boolean(t)&&this.center.equals(t.center)&&this.radius===t.radius}},{key:"clone",value:function(){return new t(this.center,this.radius)}},{key:"union",value:function(t){var e=this.center,n=this.radius,r=t.center,i=t.radius,a=u.copy(r).subtract(e),s=a.magnitude();if(n>=s+i)return this.clone();if(i>=s+n)return t.clone();var o=.5*(n+s+i);return c.copy(a).scale((-n+o)/s).add(e),this.center.copy(c),this.radius=o,this}},{key:"expand",value:function(t){var e=(t=u.from(t)).subtract(this.center).magnitude();return e>this.radius&&(this.radius=e),this}},{key:"transform",value:function(t){this.center.transform(t);var e=o.e(u,t);return this.radius=Math.max(e[0],Math.max(e[1],e[2]))*this.radius,this}},{key:"distanceSquaredTo",value:function(t){return(t=u.from(t)).subtract(this.center).lengthSquared()-this.radius*this.radius}},{key:"distanceTo",value:function(t){return Math.sqrt(this.distanceSquaredTo(t))}},{key:"intersectPlane",value:function(t){var e=this.center,n=this.radius,i=t.normal.dot(e)+t.distance;return i<-n?r.OUTSIDE:i<n?r.INTERSECTING:r.INSIDE}}]),t}(),h=n("KQm4"),f=n("GA6j"),d=n("Xjzu"),p=new s.a,m=new s.a,v=new s.a,y=new s.a,g=new s.a,b=new s.a,w=new s.a,O=0,_=1,T=2,S=3,E=4,j=5,k=6,M=7,x=8,I=function(){function t(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[0,0,0],n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[0,0,0,0,0,0,0,0,0];Object(i.a)(this,t),this.center=(new s.a).from(e),this.halfAxes=new f.a(n)}return Object(a.a)(t,[{key:"halfSize",get:function(){var t=this.halfAxes.getColumn(0),e=this.halfAxes.getColumn(1),n=this.halfAxes.getColumn(2);return[new s.a(t).len(),new s.a(e).len(),new s.a(n).len()]}},{key:"quaternion",get:function(){var t=this.halfAxes.getColumn(0),e=this.halfAxes.getColumn(1),n=this.halfAxes.getColumn(2),r=new s.a(t).normalize(),i=new s.a(e).normalize(),a=new s.a(n).normalize();return(new d.a).fromMatrix3(new f.a([].concat(Object(h.a)(r),Object(h.a)(i),Object(h.a)(a))))}},{key:"fromCenterHalfSizeQuaternion",value:function(t,e,n){var r=new d.a(n),i=(new f.a).fromQuaternion(r);return i[0]=i[0]*e[0],i[1]=i[1]*e[0],i[2]=i[2]*e[0],i[3]=i[3]*e[1],i[4]=i[4]*e[1],i[5]=i[5]*e[1],i[6]=i[6]*e[2],i[7]=i[7]*e[2],i[8]=i[8]*e[2],this.center=(new s.a).from(t),this.halfAxes=i,this}},{key:"clone",value:function(){return new t(this.center,this.halfAxes)}},{key:"equals",value:function(t){return this===t||Boolean(t)&&this.center.equals(t.center)&&this.halfAxes.equals(t.halfAxes)}},{key:"getBoundingSphere",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:new l,e=this.halfAxes,n=e.getColumn(0,v),r=e.getColumn(1,y),i=e.getColumn(2,g),a=p.copy(n).add(r).add(i);return t.center.copy(this.center),t.radius=a.magnitude(),t}},{key:"intersectPlane",value:function(t){var e=this.center,n=t.normal,i=this.halfAxes,a=n.x,s=n.y,o=n.z,u=Math.abs(a*i[O]+s*i[_]+o*i[T])+Math.abs(a*i[S]+s*i[E]+o*i[j])+Math.abs(a*i[k]+s*i[M]+o*i[x]),c=n.dot(e)+t.distance;return c<=-u?r.OUTSIDE:c>=u?r.INSIDE:r.INTERSECTING}},{key:"distanceTo",value:function(t){return Math.sqrt(this.distanceSquaredTo(t))}},{key:"distanceSquaredTo",value:function(t){var e=m.from(t).subtract(this.center),n=this.halfAxes,r=n.getColumn(0,v),i=n.getColumn(1,y),a=n.getColumn(2,g),s=r.magnitude(),o=i.magnitude(),u=a.magnitude();r.normalize(),i.normalize(),a.normalize();var c,l=0;return(c=Math.abs(e.dot(r))-s)>0&&(l+=c*c),(c=Math.abs(e.dot(i))-o)>0&&(l+=c*c),(c=Math.abs(e.dot(a))-u)>0&&(l+=c*c),l}},{key:"computePlaneDistances",value:function(t,e){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:[-0,-0],r=Number.POSITIVE_INFINITY,i=Number.NEGATIVE_INFINITY,a=this.center,s=this.halfAxes,o=s.getColumn(0,v),u=s.getColumn(1,y),c=s.getColumn(2,g),l=b.copy(o).add(u).add(c).add(a),h=w.copy(l).subtract(t),f=e.dot(h);return r=Math.min(f,r),i=Math.max(f,i),l.copy(a).add(o).add(u).subtract(c),h.copy(l).subtract(t),f=e.dot(h),r=Math.min(f,r),i=Math.max(f,i),l.copy(a).add(o).subtract(u).add(c),h.copy(l).subtract(t),f=e.dot(h),r=Math.min(f,r),i=Math.max(f,i),l.copy(a).add(o).subtract(u).subtract(c),h.copy(l).subtract(t),f=e.dot(h),r=Math.min(f,r),i=Math.max(f,i),a.copy(l).subtract(o).add(u).add(c),h.copy(l).subtract(t),f=e.dot(h),r=Math.min(f,r),i=Math.max(f,i),a.copy(l).subtract(o).add(u).subtract(c),h.copy(l).subtract(t),f=e.dot(h),r=Math.min(f,r),i=Math.max(f,i),a.copy(l).subtract(o).subtract(u).add(c),h.copy(l).subtract(t),f=e.dot(h),r=Math.min(f,r),i=Math.max(f,i),a.copy(l).subtract(o).subtract(u).subtract(c),h.copy(l).subtract(t),f=e.dot(h),r=Math.min(f,r),i=Math.max(f,i),n[0]=r,n[1]=i,n}},{key:"transform",value:function(t){this.center.transformAsPoint(t);var e=this.halfAxes.getColumn(0,v);e.transformAsPoint(t);var n=this.halfAxes.getColumn(1,y);n.transformAsPoint(t);var r=this.halfAxes.getColumn(2,g);return r.transformAsPoint(t),this.halfAxes=new f.a([].concat(Object(h.a)(e),Object(h.a)(n),Object(h.a)(r))),this}},{key:"getTransform",value:function(){throw new Error("not implemented")}}]),t}(),C=n("tS8E"),P=n("a3TU"),A=new s.a,R=new s.a,D=function(){function t(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[0,0,1],n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;Object(i.a)(this,t),this.normal=new s.a,this.distance=-0,this.fromNormalDistance(e,n)}return Object(a.a)(t,[{key:"fromNormalDistance",value:function(t,e){return Object(C.a)(Number.isFinite(e)),this.normal.from(t).normalize(),this.distance=e,this}},{key:"fromPointNormal",value:function(t,e){t=A.from(t),this.normal.from(e).normalize();var n=-this.normal.dot(t);return this.distance=n,this}},{key:"fromCoefficients",value:function(t,e,n,r){return this.normal.set(t,e,n),Object(C.a)(Object(P.d)(this.normal.len(),1)),this.distance=r,this}},{key:"clone",value:function(e){return new t(this.normal,this.distance)}},{key:"equals",value:function(t){return Object(P.d)(this.distance,t.distance)&&Object(P.d)(this.normal,t.normal)}},{key:"getPointDistance",value:function(t){return this.normal.dot(t)+this.distance}},{key:"transform",value:function(t){var e=R.copy(this.normal).transformAsVector(t).normalize(),n=this.normal.scale(-this.distance).transform(t);return this.fromPointNormal(n,e)}},{key:"projectPointOntoPlane",value:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[0,0,0];t=A.from(t);var n=this.getPointDistance(t),r=R.copy(this.normal).scale(n);return t.subtract(r).to(e)}}]),t}();function N(t,e){var n;if("undefined"==typeof Symbol||null==t[Symbol.iterator]){if(Array.isArray(t)||(n=function(t,e){if(!t)return;if("string"==typeof t)return q(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);"Object"===n&&t.constructor&&(n=t.constructor.name);if("Map"===n||"Set"===n)return Array.from(t);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return q(t,e)}(t))||e&&t&&"number"==typeof t.length){n&&(t=n);var r=0,i=function(){};return{s:i,n:function(){return r>=t.length?{done:!0}:{done:!1,value:t[r++]}},e:function(t){throw t},f:i}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var a,s=!0,o=!1;return{s:function(){n=t[Symbol.iterator]()},n:function(){var t=n.next();return s=t.done,t},e:function(t){o=!0,a=t},f:function(){try{s||null==n.return||n.return()}finally{if(o)throw a}}}}function q(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}var z=[new s.a([1,0,0]),new s.a([0,1,0]),new s.a([0,0,1])],U=new s.a,V=new s.a,L=(new D(new s.a(1,0,0),0),function(){function t(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[];Object(i.a)(this,t),this.planes=e,Object(C.a)(this.planes.every((function(t){return t instanceof D})))}return Object(a.a)(t,[{key:"fromBoundingSphere",value:function(t){this.planes.length=2*z.length;var e,n=t.center,r=t.radius,i=0,a=N(z);try{for(a.s();!(e=a.n()).done;){var s=e.value,o=this.planes[i],u=this.planes[i+1];o||(o=this.planes[i]=new D),u||(u=this.planes[i+1]=new D);var c=U.copy(s).scale(-r).add(n);s.dot(c);o.fromPointNormal(c,s);var l=U.copy(s).scale(r).add(n),h=V.copy(s).negate();h.dot(l);u.fromPointNormal(l,h),i+=2}}catch(f){a.e(f)}finally{a.f()}return this}},{key:"computeVisibility",value:function(t){Object(C.a)(t);var e,n=r.INSIDE,i=N(this.planes);try{for(i.s();!(e=i.n()).done;){var a=e.value;switch(t.intersectPlane(a)){case r.OUTSIDE:return r.OUTSIDE;case r.INTERSECTING:n=r.INTERSECTING}}}catch(s){i.e(s)}finally{i.f()}return n}},{key:"computeVisibilityWithPlaneMask",value:function(e,n){if(Object(C.a)(e,"boundingVolume is required."),Object(C.a)(Number.isFinite(n),"parentPlaneMask is required."),n===t.MASK_OUTSIDE||n===t.MASK_INSIDE)return n;for(var i=t.MASK_INSIDE,a=this.planes,s=0;s<this.planes.length;++s){var o=s<31?1<<s:0;if(!(s<31&&0==(n&o))){var u=a[s],c=e.intersectPlane(u);if(c===r.OUTSIDE)return t.MASK_OUTSIDE;c===r.INTERSECTING&&(i|=o)}}return i}}],[{key:"MASK_OUTSIDE",get:function(){return 4294967295}},{key:"MASK_INSIDE",get:function(){return 0}},{key:"MASK_INDETERMINATE",get:function(){return 2147483647}}]),t}());n("rePB"),n("Nw31");new s.a,new s.a,new s.a,new s.a,new s.a;function F(t,e){var n;if("undefined"==typeof Symbol||null==t[Symbol.iterator]){if(Array.isArray(t)||(n=function(t,e){if(!t)return;if("string"==typeof t)return B(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);"Object"===n&&t.constructor&&(n=t.constructor.name);if("Map"===n||"Set"===n)return Array.from(t);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return B(t,e)}(t))||e&&t&&"number"==typeof t.length){n&&(t=n);var r=0,i=function(){};return{s:i,n:function(){return r>=t.length?{done:!0}:{done:!1,value:t[r++]}},e:function(t){throw t},f:i}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var a,s=!0,o=!1;return{s:function(){n=t[Symbol.iterator]()},n:function(){var t=n.next();return s=t.done,t},e:function(t){o=!0,a=t},f:function(){try{s||null==n.return||n.return()}finally{if(o)throw a}}}}function B(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}var G=new s.a,H=new s.a,W=new s.a,X=new s.a,Z=new s.a,K=new s.a,Q=new s.a,Y=new s.a,J=new s.a,$=new s.a,tt=new s.a,et=new s.a;Math.PI;function nt(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:new l;if(!t||0===t.length)return e.fromCenterRadius([0,0,0],0);var n,r=Q.copy(t[0]),i=G.copy(r),a=H.copy(r),s=W.copy(r),o=X.copy(r),u=Z.copy(r),c=K.copy(r),h=F(t);try{for(h.s();!(n=h.n()).done;){var f=n.value;r.copy(f);var d=r.x,p=r.y,m=r.z;d<i.x&&r.copy(i),d>o.x&&r.copy(o),p<a.y&&r.copy(a),p>u.y&&r.copy(u),m<s.z&&r.copy(s),m>c.z&&r.copy(c)}}catch(N){h.e(N)}finally{h.f()}var v=Y.copy(o).subtract(i).magnitudeSquared(),y=Y.copy(u).subtract(a).magnitudeSquared(),g=Y.copy(c).subtract(s).magnitudeSquared(),b=i,w=o,O=v;y>O&&(O=y,b=a,w=u),g>O&&(O=g,b=s,w=c);var _=J;_.x=.5*(b.x+w.x),_.y=.5*(b.y+w.y),_.z=.5*(b.z+w.z);var T=Y.copy(w).subtract(_).magnitudeSquared(),S=Math.sqrt(T),E=$;E.x=i.x,E.y=a.y,E.z=s.z;var j=tt;j.x=o.x,j.y=u.y,j.z=c.z;var k,M=et.copy(E).add(j).multiplyByScalar(.5),x=0,I=F(t);try{for(I.s();!(k=I.n()).done;){var C=k.value;r.copy(C);var P=Y.copy(r).subtract(M).magnitude();P>x&&(x=P);var A=Y.copy(r).subtract(_).magnitudeSquared();if(A>T){var R=Math.sqrt(A);T=(S=.5*(S+R))*S;var D=R-S;_.x=(S*_.x+D*r.x)/R,_.y=(S*_.y+D*r.y)/R,_.z=(S*_.z+D*r.z)/R}}}catch(N){I.e(N)}finally{I.f()}return S<x?(_.to(e.center),e.radius=S):(M.to(e.center),e.radius=x),e}var rt=n("gOKY"),it=new f.a,at=new f.a,st=new f.a,ot=new f.a,ut=new f.a;function ct(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=rt.a.EPSILON20,r=10,i=0,a=0,s=at,o=st;s.identity(),o.copy(t);for(var u=n*lt(o);a<r&&dt(o)>u;)pt(o,ot),ut.copy(ot).transpose(),o.multiplyRight(ot),o.multiplyLeft(ut),s.multiplyRight(ot),++i>2&&(++a,i=0);return e.unitary=s.toTarget(e.unitary),e.diagonal=o.toTarget(e.diagonal),e}function lt(t){for(var e=0,n=0;n<9;++n){var r=t[n];e+=r*r}return Math.sqrt(e)}var ht=[1,0,0],ft=[2,2,1];function dt(t){for(var e=0,n=0;n<3;++n){var r=t[it.getElementIndex(ft[n],ht[n])];e+=2*r*r}return Math.sqrt(e)}function pt(t,e){for(var n=rt.a.EPSILON15,r=0,i=1,a=0;a<3;++a){var s=Math.abs(t[it.getElementIndex(ft[a],ht[a])]);s>r&&(i=a,r=s)}var o=ht[i],u=ft[i],c=1,l=0;if(Math.abs(t[it.getElementIndex(u,o)])>n){var h,d=(t[it.getElementIndex(u,u)]-t[it.getElementIndex(o,o)])/2/t[it.getElementIndex(u,o)];l=(h=d<0?-1/(-d+Math.sqrt(1+d*d)):1/(d+Math.sqrt(1+d*d)))*(c=1/Math.sqrt(1+h*h))}return f.a.IDENTITY.to(e),e[it.getElementIndex(o,o)]=e[it.getElementIndex(u,u)]=c,e[it.getElementIndex(u,o)]=l,e[it.getElementIndex(o,u)]=-l,e}function mt(t,e){var n;if("undefined"==typeof Symbol||null==t[Symbol.iterator]){if(Array.isArray(t)||(n=function(t,e){if(!t)return;if("string"==typeof t)return vt(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);"Object"===n&&t.constructor&&(n=t.constructor.name);if("Map"===n||"Set"===n)return Array.from(t);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return vt(t,e)}(t))||e&&t&&"number"==typeof t.length){n&&(t=n);var r=0,i=function(){};return{s:i,n:function(){return r>=t.length?{done:!0}:{done:!1,value:t[r++]}},e:function(t){throw t},f:i}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var a,s=!0,o=!1;return{s:function(){n=t[Symbol.iterator]()},n:function(){var t=n.next();return s=t.done,t},e:function(t){o=!0,a=t},f:function(){try{s||null==n.return||n.return()}finally{if(o)throw a}}}}function vt(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}var yt=new s.a,gt=new s.a,bt=new s.a,wt=new s.a,Ot=new s.a,_t=new f.a,Tt={diagonal:new f.a,unitary:new f.a};function St(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:new I;if(!t||0===t.length)return e.halfAxes=new f.a([0,0,0,0,0,0,0,0,0]),e.center=new s.a,e;var n,r=t.length,i=new s.a(0,0,0),a=mt(t);try{for(a.s();!(n=a.n()).done;){var o=n.value;i.add(o)}}catch(U){a.e(U)}finally{a.f()}var u=1/r;i.multiplyByScalar(u);var c,l=0,h=0,d=0,p=0,m=0,v=0,y=mt(t);try{for(y.s();!(c=y.n()).done;){var g=c.value,b=yt.copy(g).subtract(i);l+=b.x*b.x,h+=b.x*b.y,d+=b.x*b.z,p+=b.y*b.y,m+=b.y*b.z,v+=b.z*b.z}}catch(U){y.e(U)}finally{y.f()}l*=u,h*=u,d*=u,p*=u,m*=u,v*=u;var w=_t;w[0]=l,w[1]=h,w[2]=d,w[3]=h,w[4]=p,w[5]=m,w[6]=d,w[7]=m,w[8]=v;var O,_=ct(w,Tt),T=_.unitary,S=e.halfAxes.copy(T),E=S.getColumn(0,bt),j=S.getColumn(1,wt),k=S.getColumn(2,Ot),M=-Number.MAX_VALUE,x=-Number.MAX_VALUE,C=-Number.MAX_VALUE,P=Number.MAX_VALUE,A=Number.MAX_VALUE,R=Number.MAX_VALUE,D=mt(t);try{for(D.s();!(O=D.n()).done;){var N=O.value;M=Math.max(N.dot(E),M),x=Math.max(N.dot(j),x),C=Math.max(N.dot(k),C),P=Math.min(N.dot(E),P),A=Math.min(N.dot(j),A),R=Math.min(N.dot(k),R)}}catch(U){D.e(U)}finally{D.f()}E=E.multiplyByScalar(.5*(P+M)),j=j.multiplyByScalar(.5*(A+x)),k=k.multiplyByScalar(.5*(R+C)),e.center.copy(E).add(j).add(k);var q=gt.set(M-P,x-A,C-R).multiplyByScalar(.5),z=new f.a([q[0],0,0,0,q[1],0,0,0,q[2]]);return e.halfAxes.multiplyRight(z),e}},vrw9:function(t,e,n){"use strict";n.d(e,"a",(function(){return d}));var r=n("rePB"),i=n("vuIU"),a=n("Qk7e"),s=function(){function t(t){void 0===t&&(t=0),this._array=new Array(t),this._map=new Map,this._length=t}var e=t.prototype;return e.get=function(t){return Object(a.a)(t<this._array.length),this._array[t]},e.set=function(t,e){Object(a.a)(t>=0),t>=this.length&&(this.length=t+1),this._map.has(this._array[t])&&this._map.delete(this._array[t]),this._array[t]=e,this._map.set(e,t)},e.delete=function(t){var e=this._map.get(t);e>=0&&(this._array.splice(e,1),this._map.delete(t),this.length--)},e.peek=function(){return this._array[this._length-1]},e.push=function(t){if(!this._map.has(t)){var e=this.length++;this._array[e]=t,this._map.set(t,e)}},e.pop=function(){var t=this._array[--this.length];return this._map.delete(t),t},e.reserve=function(t){Object(a.a)(t>=0),t>this._array.length&&(this._array.length=t)},e.resize=function(t){Object(a.a)(t>=0),this.length=t},e.trim=function(t){null==t&&(t=this.length),this._array.length=t},e.reset=function(){this._array=[],this._map=new Map,this._length=0},e.find=function(t){return this._map.has(t)},Object(i.a)(t,[{key:"length",get:function(){return this._length},set:function(t){this._length=t,t>this._array.length&&(this._array.length=t)}},{key:"values",get:function(){return this._array}}]),t}(),o=n("FJ6+");function u(t,e){var n;if("undefined"==typeof Symbol||null==t[Symbol.iterator]){if(Array.isArray(t)||(n=function(t,e){if(!t)return;if("string"==typeof t)return c(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);"Object"===n&&t.constructor&&(n=t.constructor.name);if("Map"===n||"Set"===n)return Array.from(t);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return c(t,e)}(t))||e&&t&&"number"==typeof t.length){n&&(t=n);var r=0;return function(){return r>=t.length?{done:!0}:{done:!1,value:t[r++]}}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}return(n=t[Symbol.iterator]()).next.bind(n)}function c(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function l(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,r)}return n}function h(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?l(Object(n),!0).forEach((function(e){Object(r.a)(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):l(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}var f={loadSiblings:!1,skipLevelOfDetail:!1,maximumScreenSpaceError:2,updateTransforms:!0,onTraversalEnd:function(){},viewportTraversersMap:{},basePath:""},d=function(){function t(t){this.options=h(h({},f),t),this._traversalStack=new s,this._emptyTraversalStack=new s,this._frameNumber=null,this.root=null,this.selectedTiles={},this.requestedTiles={},this.emptyTiles={}}var e=t.prototype;return e.traverse=function(t,e,n){this.root=t,this.options=h(h({},this.options),n),this.reset(),this.updateTile(t,e),this._frameNumber=e.frameNumber,this.executeTraversal(t,e)},e.reset=function(){this.requestedTiles={},this.selectedTiles={},this.emptyTiles={},this._traversalStack.reset(),this._emptyTraversalStack.reset()},e.executeTraversal=function(t,e){var n=this._traversalStack;for(t._selectionDepth=1,n.push(t);n.length>0;){var r=n.pop(),i=!1;this.canTraverse(r,e)&&(this.updateChildTiles(r,e),i=this.updateAndPushChildren(r,e,n,r.hasRenderContent?r._selectionDepth+1:r._selectionDepth));var a=r.parent,s=Boolean(!a||a._shouldRefine),u=!i;r.hasRenderContent?r.refine===o.e.ADD?(this.loadTile(r,e),this.selectTile(r,e)):r.refine===o.e.REPLACE&&(this.loadTile(r,e),u&&this.selectTile(r,e)):(this.emptyTiles[r.id]=r,this.loadTile(r,e),u&&this.selectTile(r,e)),this.touchTile(r,e),r._shouldRefine=i&&s}this.options.onTraversalEnd(e)},e.updateChildTiles=function(t,e){for(var n,r=u(t.children);!(n=r()).done;){var i=n.value;this.updateTile(i,e)}return!0},e.updateAndPushChildren=function(t,e,n,r){var i=this.options,a=i.loadSiblings,s=i.skipLevelOfDetail,c=t.children;c.sort(this.compareDistanceToCamera.bind(this));for(var l,h=t.refine===o.e.REPLACE&&t.hasRenderContent&&!s,f=!1,d=!0,p=u(c);!(l=p()).done;){var m=l.value;if(m._selectionDepth=r,m.isVisibleAndInRequestVolume?(n.find(m)&&n.delete(m),n.push(m),f=!0):(h||a)&&(this.loadTile(m,e),this.touchTile(m,e)),h){var v=void 0;if(v=!!m._inRequestVolume&&(m.hasRenderContent?m.contentAvailable:this.executeEmptyTraversal(m,e)),!(d=d&&v))return!1}}return f||(d=!1),d},e.updateTile=function(t,e){this.updateTileVisibility(t,e)},e.selectTile=function(t,e){this.shouldSelectTile(t)&&(t._selectedFrame=e.frameNumber,this.selectedTiles[t.id]=t)},e.loadTile=function(t,e){this.shouldLoadTile(t)&&(t._requestedFrame=e.frameNumber,t._priority=t._getPriority(),this.requestedTiles[t.id]=t)},e.touchTile=function(t,e){t.tileset._cache.touch(t),t._touchedFrame=e.frameNumber},e.canTraverse=function(t,e,n,r){return void 0===n&&(n=!1),void 0===r&&(r=!1),!!t.hasChildren&&(t.hasTilesetContent?!t.contentExpired:!(!r&&!t.isVisibleAndInRequestVolume)&&this.shouldRefine(t,e,n))},e.shouldLoadTile=function(t){return t.hasUnloadedContent||t.contentExpired},e.shouldSelectTile=function(t){return t.contentAvailable&&!this.options.skipLevelOfDetail},e.shouldRefine=function(t,e,n){var r=t._screenSpaceError;return n&&(r=t.getScreenSpaceError(e,!0)),r>this.options.maximumScreenSpaceError},e.updateTileVisibility=function(t,e){var n=[];if(this.options.viewportTraversersMap)for(var r in this.options.viewportTraversersMap){this.options.viewportTraversersMap[r]===e.viewport.id&&n.push(r)}else n.push(e.viewport.id);t.updateVisibility(e,n)},e.compareDistanceToCamera=function(t,e){return t._distanceToCamera-e._distanceToCamera},e.anyChildrenVisible=function(t,e){for(var n,r=!1,i=u(t.children);!(n=i()).done;){var a=n.value;a.updateVisibility(e),r=r||a.isVisibleAndInRequestVolume}return r},e.executeEmptyTraversal=function(t,e){var n=!0,r=this._emptyTraversalStack;for(r.push(t);r.length>0&&n;){var i=r.pop();if(this.updateTile(i,e),i.isVisibleAndInRequestVolume||this.loadTile(i,e),this.touchTile(i,e),!i.hasRenderContent&&this.canTraverse(i,e,!1,!0))for(var a,s=u(i.children);!(a=s()).done;){var o=a.value;r.find(o)&&r.delete(o),r.push(o)}else i.contentAvailable||(n=!1)}return n},t}()},wBSN:function(t,e,n){"use strict";n.d(e,"a",(function(){return u}));var r=n("rePB"),i=n("G+eI");function a(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,r)}return n}function s(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?a(Object(n),!0).forEach((function(e){Object(r.a)(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):a(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}var o={id:"request-scheduler",throttleRequests:!0,maxRequests:6},u=function(){function t(t){void 0===t&&(t={}),this.activeRequestCount=0,this.requestQueue=[],this.requestMap=new Map,this.deferredUpdate=null,this.props=s(s({},o),t),this.stats=new i.a({id:this.props.id}),this.stats.get("Queued Requests"),this.stats.get("Active Requests"),this.stats.get("Cancelled Requests"),this.stats.get("Queued Requests Ever"),this.stats.get("Active Requests Ever")}var e=t.prototype;return e.scheduleRequest=function(t,e){if(void 0===e&&(e=function(){return 0}),!this.props.throttleRequests)return Promise.resolve({done:function(){}});if(this.requestMap.has(t))return this.requestMap.get(t);var n={handle:t,priority:0,getPriority:e},r=new Promise((function(t){return n.resolve=t,n}));return this.requestQueue.push(n),this.requestMap.set(t,r),this._issueNewRequests(),r},e._issueRequest=function(t){var e=this,n=t.handle,r=t.resolve,i=!1,a=function(){i||(i=!0,e.requestMap.delete(n),e.activeRequestCount--,e._issueNewRequests())};return this.activeRequestCount++,r?r({done:a}):Promise.resolve({done:a})},e._issueNewRequests=function(){var t=this;this.deferredUpdate||(this.deferredUpdate=setTimeout((function(){return t._issueNewRequestsAsync()}),0))},e._issueNewRequestsAsync=function(){this.deferredUpdate=null;var t=Math.max(this.props.maxRequests-this.activeRequestCount,0);if(0!==t){this._updateAllRequests();for(var e=0;e<t;++e){var n=this.requestQueue.shift();n&&this._issueRequest(n)}}},e._updateAllRequests=function(){for(var t=this.requestQueue,e=0;e<t.length;++e){var n=t[e];this._updateRequest(n)||(t.splice(e,1),this.requestMap.delete(n.handle),e--)}t.sort((function(t,e){return t.priority-e.priority}))},e._updateRequest=function(t){return t.priority=t.getPriority(t.handle),!(t.priority<0)||(t.resolve(null),!1)},t}()}}]);